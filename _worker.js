// <!--GAMFC-->version base on commit: 403da924e24c4d96585d281cc807c82e38ba0adc - last update: 2025-11-22 00:27:56 UTC <!--GAMFC-END-->.

var __defProp=Object['defineProperty'],__getOwnPropNames=Object['getOwnPropertyNames'],__name=(a,b)=>__defProp(a,'name',{'value':b,'configurable':!![]}),__esm=(a,b)=>function c(){return a&&(b=(0x0,a[__getOwnPropNames(a)[0x0]])(a=0x0)),b;},__export=(a,b)=>{for(var c in b)__defProp(a,c,{'get':b[c],'enumerable':!![]});},__defProp2,__export2,init_chunk_MLKGABMK=__esm({'dist-obf/chunk-MLKGABMK.js'(){__defProp2=Object['defineProperty'],__export2=__name((a,b)=>{for(var c in b)__defProp2(a,c,{'get':b[c],'enumerable':!![]});},'__export');}}),A62LQH55_exports={};__export(A62LQH55_exports,{'default':()=>index_default});import{connect}from'cloudflare:sockets';async function parseFormData(a,b){const c=await a['formData']();if(c)return convertFormDataToBodyData(c,b);return{};}function convertFormDataToBodyData(a,b){const c=Object['create'](null);return a['forEach']((d,e)=>{const f=b['all']||e['endsWith']('[]');!f?c[e]=d:handleParsingAllValues(c,e,d);}),b['dot']&&Object['entries'](c)['forEach'](([d,e])=>{const f=d['includes']('.');f&&(handleParsingNestedValues(c,d,e),delete c[d]);}),c;}function match(a,b){const c=this['buildAllMatchers'](),d=__name((e,f)=>{const g=c[e]||c[METHOD_NAME_ALL],h=g[0x2][f];if(h)return h;const i=f['match'](g[0x0]);if(!i)return[[],emptyParam];const j=i['indexOf']('',0x1);return[g[0x1][j],i];},'match2');return this['match']=d,d(a,b);}function compareKey(c,d){if(c['length']===0x1)return d['length']===0x1?c<d?-0x1:0x1:-0x1;if(d['length']===0x1)return 0x1;if(c===ONLY_WILDCARD_REG_EXP_STR||c===TAIL_WILDCARD_REG_EXP_STR)return 0x1;else{if(d===ONLY_WILDCARD_REG_EXP_STR||d===TAIL_WILDCARD_REG_EXP_STR)return-0x1;}if(c===LABEL_REG_EXP_STR)return 0x1;else{if(d===LABEL_REG_EXP_STR)return-0x1;}return c['length']===d['length']?c<d?-0x1:0x1:d['length']-c['length'];}function buildWildcardRegExp(a){return wildcardRegExpCache[a]??=new RegExp(a==='*'?'':'^'+a['replace'](/\/\*$|([.\\+*[^\]$()])/g,(b,c)=>c?'\x5c'+c:'(?:|/.*)')+'$');}function clearWildcardRegExpCache(){wildcardRegExpCache=Object['create'](null);}function buildMatcherFromPreprocessedRoutes(a){const b=new Trie(),c=[];if(a['length']===0x0)return nullMatcher;const d=a['map'](n=>[!/\*|\/:/['test'](n[0x0]),...n])['sort'](([n,o],[p,q])=>n?0x1:p?-0x1:o['length']-q['length']),f=Object['create'](null);for(let n=0x0,o=-0x1,p=d['length'];n<p;n++){const [q,r,s]=d[n];q?f[r]=[s['map'](([u])=>[u,Object['create'](null)]),emptyParam]:o++;let t;try{t=b['insert'](r,o,q);}catch(u){throw u===PATH_ERROR?new UnsupportedPathError(r):u;}if(q)continue;c[o]=s['map'](([v,w])=>{const x=Object['create'](null);w-=0x1;for(;w>=0x0;w--){const [y,z]=t[w];x[y]=z;}return[v,x];});}const [g,h,l]=b['buildRegExp']();for(let v=0x0,w=c['length'];v<w;v++){for(let x=0x0,y=c[v]['length'];x<y;x++){const z=c[v][x]?.[0x1];if(!z)continue;const A=Object['keys'](z);for(let B=0x0,C=A['length'];B<C;B++){z[A[B]]=l[z[A[B]]];}}}const m=[];for(const D in h){m[D]=c[h[D]];}return[g,m,f];}function findMiddleware(a,b){if(!a)return void 0x0;for(const c of Object['keys'](a)['sort']((d,e)=>e['length']-d['length'])){if(buildWildcardRegExp(c)['test'](b))return[...a[c]];}return void 0x0;}function is(a,b){if(!a||typeof a!=='object')return![];if(a instanceof b)return!![];if(!Object['prototype']['hasOwnProperty']['call'](b,entityKind))throw new Error('Class\x20\x22'+(b['name']??'<unknown>')+'\x22\x20doesn\x27t\x20look\x20like\x20a\x20Drizzle\x20entity.\x20If\x20this\x20is\x20incorrect\x20and\x20the\x20class\x20is\x20provided\x20by\x20Drizzle,\x20please\x20report\x20this\x20as\x20a\x20bug.');let c=Object['getPrototypeOf'](a)['constructor'];if(c)while(c){if(entityKind in c&&c[entityKind]===b[entityKind])return!![];c=Object['getPrototypeOf'](c);}return![];}function getTableName(a){return a[TableName];}function getTableUniqueName(a){return(a[Schema]??'public')+'.'+a[TableName];}function iife(a,...b){return a(...b);}function uniqueKeyName(a,b){return a[TableName]+'_'+b['join']('_')+'_unique';}function parsePgArrayValue(a,b,c){for(let d=b;d<a['length'];d++){const e=a[d];if(e==='\x5c'){d++;continue;}if(e==='\x22')return[a['slice'](b,d)['replace'](/\\/g,''),d+0x1];if(c)continue;if(e===','||e==='}')return[a['slice'](b,d)['replace'](/\\/g,''),d];}return[a['slice'](b)['replace'](/\\/g,''),a['length']];}function parsePgNestedArray(a,b=0x0){const c=[];let d=b,e=![];while(d<a['length']){const f=a[d];if(f===','){(e||d===b)&&c['push']('');e=!![],d++;continue;}e=![];if(f==='\x5c'){d+=0x2;continue;}if(f==='\x22'){const [j,k]=parsePgArrayValue(a,d+0x1,!![]);c['push'](j),d=k;continue;}if(f==='}')return[c,d+0x1];if(f==='{'){const [l,m]=parsePgNestedArray(a,d+0x1);c['push'](l),d=m;continue;}const [g,h]=parsePgArrayValue(a,d,![]);c['push'](g),d=h;}return[c,d];}function parsePgArray(a){const [b]=parsePgNestedArray(a,0x1);return b;}function makePgArray(a){return'{'+a['map'](b=>{if(Array['isArray'](b))return makePgArray(b);if(typeof b==='string')return'\x22'+b['replace'](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')+'\x22';return''+b;})['join'](',')+'}';}function isPgEnum(a){return!!a&&typeof a==='function'&&isPgEnumSym in a&&a[isPgEnumSym]===!![];}function isSQLWrapper(a){return a!==null&&a!==void 0x0&&typeof a['getSQL']==='function';}function mergeQueries(a){const b={'sql':'','params':[]};for(const c of a){b['sql']+=c['sql'],b['params']['push'](...c['params']),c['typings']?.['length']&&(!b['typings']&&(b['typings']=[]),b['typings']['push'](...c['typings']));}return b;}function isDriverValueEncoder(a){return typeof a==='object'&&a!==null&&'mapToDriverValue'in a&&typeof a['mapToDriverValue']==='function';}function sql(a,...b){const c=[];(b['length']>0x0||a['length']>0x0&&a[0x0]!=='')&&c['push'](new StringChunk(a[0x0]));for(const [d,e]of b['entries']()){c['push'](e,new StringChunk(a[d+0x1]));}return new SQL(c);}function fillPlaceholders(a,b){return a['map'](c=>{if(is(c,Placeholder)){if(!(c['name']in b))throw new Error('No\x20value\x20for\x20placeholder\x20\x22'+c['name']+'\x22\x20was\x20provided');return b[c['name']];}if(is(c,Param)&&is(c['value'],Placeholder)){if(!(c['value']['name']in b))throw new Error('No\x20value\x20for\x20placeholder\x20\x22'+c['value']['name']+'\x22\x20was\x20provided');return c['encoder']['mapToDriverValue'](b[c['value']['name']]);}return c;});}function mapResultRow(a,b,c){const d={},e=a['reduce']((f,{path:g,field:h},i)=>{let j;if(is(h,Column))j=h;else is(h,SQL)?j=h['decoder']:j=h['sql']['decoder'];let k=f;for(const [l,m]of g['entries']()){if(l<g['length']-0x1)!(m in k)&&(k[m]={}),k=k[m];else{const n=b[i],o=k[m]=n===null?null:j['mapFromDriverValue'](n);if(c&&is(h,Column)&&g['length']===0x2){const p=g[0x0];if(!(p in d))d[p]=o===null?getTableName(h['table']):![];else typeof d[p]==='string'&&d[p]!==getTableName(h['table'])&&(d[p]=![]);}}}return f;},{});if(c&&Object['keys'](d)['length']>0x0)for(const [f,g]of Object['entries'](d)){typeof g==='string'&&!c[g]&&(e[f]=null);}return e;}function orderSelectedFields(a,b){return Object['entries'](a)['reduce']((c,[d,e])=>{if(typeof d!=='string')return c;const f=b?[...b,d]:[d];if(is(e,Column)||is(e,SQL)||is(e,SQL['Aliased']))c['push']({'path':f,'field':e});else is(e,Table)?c['push'](...orderSelectedFields(e[Table['Symbol']['Columns']],f)):c['push'](...orderSelectedFields(e,f));return c;},[]);}function haveSameKeys(a,b){const c=Object['keys'](a),d=Object['keys'](b);if(c['length']!==d['length'])return![];for(const [e,f]of c['entries']()){if(f!==d[e])return![];}return!![];}function mapUpdateSet(a,b){const c=Object['entries'](b)['filter'](([,d])=>d!==void 0x0)['map'](([d,e])=>{return is(e,SQL)||is(e,Column)?[d,e]:[d,new Param(e,a[Table['Symbol']['Columns']][d])];});if(c['length']===0x0)throw new Error('No\x20values\x20to\x20set');return Object['fromEntries'](c);}function applyMixins(a,b){for(const c of b){for(const d of Object['getOwnPropertyNames'](c['prototype'])){if(d==='constructor')continue;Object['defineProperty'](a['prototype'],d,Object['getOwnPropertyDescriptor'](c['prototype'],d)||Object['create'](null));}}}function getTableColumns(a){return a[Table['Symbol']['Columns']];}function getTableLikeName(a){return is(a,Subquery)?a['_']['alias']:is(a,View)?a[ViewBaseConfig]['name']:is(a,SQL)?void 0x0:a[Table['Symbol']['IsAlias']]?a[Table['Symbol']['Name']]:a[Table['Symbol']['BaseName']];}function getColumnNameAndConfig(c,d){return{'name':typeof c==='string'&&c['length']>0x0?c:'','config':typeof c==='object'?c:d};}function bindIfParam(a,b){if(isDriverValueEncoder(b)&&!isSQLWrapper(a)&&!is(a,Param)&&!is(a,Placeholder)&&!is(a,Column)&&!is(a,Table)&&!is(a,View))return new Param(a,b);return a;}function and(...a){const b=a['filter'](d=>d!==void 0x0);if(b['length']===0x0)return void 0x0;if(b['length']===0x1)return new SQL(b);return new SQL([new StringChunk('('),sql['join'](b,new StringChunk('\x20and\x20')),new StringChunk(')')]);}function or(...a){const b=a['filter'](d=>d!==void 0x0);if(b['length']===0x0)return void 0x0;if(b['length']===0x1)return new SQL(b);return new SQL([new StringChunk('('),sql['join'](b,new StringChunk('\x20or\x20')),new StringChunk(')')]);}function not(a){return sql`not ${a}`;}function inArray(a,b){if(Array['isArray'](b)){if(b['length']===0x0)return sql`false`;return sql`${a} in ${b['map'](c=>bindIfParam(c,a))}`;}return sql`${a} in ${bindIfParam(b,a)}`;}function notInArray(a,b){if(Array['isArray'](b)){if(b['length']===0x0)return sql`true`;return sql`${a} not in ${b['map'](c=>bindIfParam(c,a))}`;}return sql`${a} not in ${bindIfParam(b,a)}`;}function isNull(a){return sql`${a} is null`;}function isNotNull(a){return sql`${a} is not null`;}function exists(a){return sql`exists ${a}`;}function notExists(a){return sql`not exists ${a}`;}function between(a,b,c){return sql`${a} between ${bindIfParam(b,a)} and ${bindIfParam(c,a)}`;}function notBetween(a,b,c){return sql`${a} not between ${bindIfParam(b,a)} and ${bindIfParam(c,a)}`;}function like(a,b){return sql`${a} like ${b}`;}function notLike(a,b){return sql`${a} not like ${b}`;}function ilike(a,b){return sql`${a} ilike ${b}`;}function notIlike(a,b){return sql`${a} not ilike ${b}`;}function asc(a){return sql`${a} asc`;}function desc(a){return sql`${a} desc`;}function getOperators(){return{'and':and,'between':between,'eq':eq,'exists':exists,'gt':gt,'gte':gte,'ilike':ilike,'inArray':inArray,'isNull':isNull,'isNotNull':isNotNull,'like':like,'lt':lt,'lte':lte,'ne':ne,'not':not,'notBetween':notBetween,'notExists':notExists,'notLike':notLike,'notIlike':notIlike,'notInArray':notInArray,'or':or,'sql':sql};}function getOrderByOperators(){return{'sql':sql,'asc':asc,'desc':desc};}function extractTablesRelationalConfig(a,b){Object['keys'](a)['length']===0x1&&'default'in a&&!is(a['default'],Table)&&(a=a['default']);const c={},d={},e={};for(const [f,g]of Object['entries'](a)){if(is(g,Table)){const h=getTableUniqueName(g),i=d[h];c[h]=f,e[f]={'tsName':f,'dbName':g[Table['Symbol']['Name']],'schema':g[Table['Symbol']['Schema']],'columns':g[Table['Symbol']['Columns']],'relations':i?.['relations']??{},'primaryKey':i?.['primaryKey']??[]};for(const k of Object['values'](g[Table['Symbol']['Columns']])){k['primary']&&e[f]['primaryKey']['push'](k);}const j=g[Table['Symbol']['ExtraConfigBuilder']]?.(g[Table['Symbol']['ExtraConfigColumns']]);if(j)for(const l of Object['values'](j)){is(l,PrimaryKeyBuilder)&&e[f]['primaryKey']['push'](...l['columns']);}}else{if(is(g,Relations)){const m=getTableUniqueName(g['table']),n=c[m],o=g['config'](b(g['table']));let p;for(const [q,r]of Object['entries'](o)){if(n){const s=e[n];s['relations'][q]=r,p&&s['primaryKey']['push'](...p);}else!(m in d)&&(d[m]={'relations':{},'primaryKey':p}),d[m]['relations'][q]=r;}}}}return{'tables':e,'tableNamesMap':c};}function createOne(a){return __name(function b(c,d){return new One(a,c,d,d?.['fields']['reduce']((e,g)=>e&&g['notNull'],!![])??![]);},'one');}function createMany(a){return __name(function b(c,d){return new Many(a,c,d);},'many');}function normalizeRelation(a,b,c){if(is(c,One)&&c['config'])return{'fields':c['config']['fields'],'references':c['config']['references']};const d=b[getTableUniqueName(c['referencedTable'])];if(!d)throw new Error('Table\x20\x22'+c['referencedTable'][Table['Symbol']['Name']]+'\x22\x20not\x20found\x20in\x20schema');const e=a[d];if(!e)throw new Error('Table\x20\x22'+d+'\x22\x20not\x20found\x20in\x20schema');const f=c['sourceTable'],g=b[getTableUniqueName(f)];if(!g)throw new Error('Table\x20\x22'+f[Table['Symbol']['Name']]+'\x22\x20not\x20found\x20in\x20schema');const h=[];for(const i of Object['values'](e['relations'])){(c['relationName']&&c!==i&&i['relationName']===c['relationName']||!c['relationName']&&i['referencedTable']===c['sourceTable'])&&h['push'](i);}if(h['length']>0x1)throw c['relationName']?new Error('There\x20are\x20multiple\x20relations\x20with\x20name\x20\x22'+c['relationName']+'\x22\x20in\x20table\x20\x22'+d+'\x22'):new Error('There\x20are\x20multiple\x20relations\x20between\x20\x22'+d+'\x22\x20and\x20\x22'+c['sourceTable'][Table['Symbol']['Name']]+'\x22.\x20Please\x20specify\x20relation\x20name');if(h[0x0]&&is(h[0x0],One)&&h[0x0]['config'])return{'fields':h[0x0]['config']['references'],'references':h[0x0]['config']['fields']};throw new Error('There\x20is\x20not\x20enough\x20information\x20to\x20infer\x20relation\x20\x22'+g+'.'+c['fieldName']+'\x22');}function createTableRelationsHelpers(a){return{'one':createOne(a),'many':createMany(a)};}function mapRelationalRow(a,b,c,d,e=g=>g){const f={};for(const [g,h]of d['entries']()){if(h['isJson']){const i=b['relations'][h['tsKey']],j=c[g],k=typeof j==='string'?JSON['parse'](j):j;f[h['tsKey']]=is(i,One)?k&&mapRelationalRow(a,a[h['relationTableTsKey']],k,h['selection'],e):k['map'](l=>mapRelationalRow(a,a[h['relationTableTsKey']],l,h['selection'],e));}else{const l=e(c[g]),m=h['field'];let n;if(is(m,Column))n=m;else is(m,SQL)?n=m['decoder']:n=m['sql']['decoder'];f[h['tsKey']]=l===null?null:n['mapFromDriverValue'](l);}}return f;}function aliasedTable(a,b){return new Proxy(a,new TableAliasProxyHandler(b,![]));}function aliasedTableColumn(a,b){return new Proxy(a,new ColumnAliasProxyHandler(new Proxy(a['table'],new TableAliasProxyHandler(b,![]))));}function mapColumnsInAliasedSQLToAlias(a,b){return new SQL['Aliased'](mapColumnsInSQLToAlias(a['sql'],b),a['fieldAlias']);}function mapColumnsInSQLToAlias(a,b){return sql['join'](a['queryChunks']['map'](d=>{if(is(d,Column))return aliasedTableColumn(d,b);if(is(d,SQL))return mapColumnsInSQLToAlias(d,b);if(is(d,SQL['Aliased']))return mapColumnsInAliasedSQLToAlias(d,b);return d;}));}function uniqueKeyName2(a,b){return a[TableName]+'_'+b['join']('_')+'_unique';}function blob(c,d){const {name:e,config:f}=getColumnNameAndConfig(c,d);if(f?.['mode']==='json')return new SQLiteBlobJsonBuilder(e);if(f?.['mode']==='bigint')return new SQLiteBigIntBuilder(e);return new SQLiteBlobBufferBuilder(e);}function customType(a){return(c,d)=>{const {name:e,config:f}=getColumnNameAndConfig(c,d);return new SQLiteCustomColumnBuilder(e,f,a);};}function integer(c,d){const {name:e,config:f}=getColumnNameAndConfig(c,d);if(f?.['mode']==='timestamp'||f?.['mode']==='timestamp_ms')return new SQLiteTimestampBuilder(e,f['mode']);if(f?.['mode']==='boolean')return new SQLiteBooleanBuilder(e,f['mode']);return new SQLiteIntegerBuilder(e);}function numeric(c,d){const {name:e,config:f}=getColumnNameAndConfig(c,d),g=f?.['mode'];return g==='number'?new SQLiteNumericNumberBuilder(e):g==='bigint'?new SQLiteNumericBigIntBuilder(e):new SQLiteNumericBuilder(e);}function real(a){return new SQLiteRealBuilder(a??'');}function text(c,d={}){const {name:e,config:f}=getColumnNameAndConfig(c,d);if(f['mode']==='json')return new SQLiteTextJsonBuilder(e);return new SQLiteTextBuilder(e,f);}function getSQLiteColumnBuilders(){return{'blob':blob,'customType':customType,'integer':integer,'numeric':numeric,'real':real,'text':text};}function sqliteTableBase(a,b,c,d,e=a){const f=new SQLiteTable(a,d,e),g=typeof b==='function'?b(getSQLiteColumnBuilders()):b,h=Object['fromEntries'](Object['entries'](g)['map'](([j,k])=>{const l=k;l['setName'](j);const m=l['build'](f);return f[InlineForeignKeys2]['push'](...l['buildForeignKeys'](m,f)),[j,m];})),i=Object['assign'](f,h);return i[Table['Symbol']['Columns']]=h,i[Table['Symbol']['ExtraConfigColumns']]=h,c&&(i[SQLiteTable['Symbol']['ExtraConfigBuilder']]=c),i;}function primaryKey(...a){if(a[0x0]['columns'])return new PrimaryKeyBuilder2(a[0x0]['columns'],a[0x0]['name']);return new PrimaryKeyBuilder2(a);}function extractUsedTable(a){if(is(a,SQLiteTable))return[''+a[Table['Symbol']['BaseName']]];if(is(a,Subquery))return a['_']['usedTables']??[];if(is(a,SQL))return a['usedTables']??[];return[];}function toSnakeCase(a){const b=a['replace'](/['\u2019]/g,'')['match'](/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[];return b['map'](c=>c['toLowerCase']())['join']('_');}function toCamelCase(a){const b=a['replace'](/['\u2019]/g,'')['match'](/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[];return b['reduce']((c,d,e)=>{const f=e===0x0?d['toLowerCase']():''+d[0x0]['toUpperCase']()+d['slice'](0x1);return c+f;},'');}function noopCase(a){return a;}function createSetOperator(a,b){return(c,d,...e)=>{const f=[d,...e]['map'](g=>({'type':a,'isAll':b,'rightSelect':g}));for(const g of f){if(!haveSameKeys(c['getSelectedFields'](),g['rightSelect']['getSelectedFields']()))throw new Error('Set\x20operator\x20error\x20(union\x20/\x20intersect\x20/\x20except):\x20selected\x20fields\x20are\x20not\x20the\x20same\x20or\x20are\x20in\x20a\x20different\x20order');}return c['addSetOperators'](f);};}async function hashQuery(a,b){const c=a+'-'+JSON['stringify'](b),d=new TextEncoder(),e=d['encode'](c),f=await crypto['subtle']['digest']('SHA-256',e),g=[...new Uint8Array(f)],h=g['map'](i=>i['toString'](0x10)['padStart'](0x2,'0'))['join']('');return h;}function d1ToRawMapping(a){const b=[];for(const c of a){const d=Object['keys'](c)['map'](e=>c[e]);b['push'](d);}return b;}function drizzle(a,b={}){const c=new SQLiteAsyncDialect({'casing':b['casing']});let d;if(b['logger']===!![])d=new DefaultLogger();else b['logger']!==![]&&(d=b['logger']);let e;if(b['schema']){const h=extractTablesRelationalConfig(b['schema'],createTableRelationsHelpers);e={'fullSchema':b['schema'],'schema':h['tables'],'tableNamesMap':h['tableNamesMap']};}const f=new SQLiteD1Session(a,c,e,{'logger':d,'cache':b['cache']}),g=new DrizzleD1Database('async',c,f,e);return g['$client']=a,g['$cache']=b['cache'],g['$cache']&&(g['$cache']['invalidate']=b['cache']?.['onMutate']),g;}function jsxDEV(a,b,c){let d;if(!b||!('children'in b))d=jsxFn(a,b,[]);else{const e=b['children'];d=Array['isArray'](e)?jsxFn(a,b,e):jsxFn(a,b,[e]);}return d['key']=c,d;}async function initWasm(a){if(wasmReady)return wasmModule;try{if(a)return wasmModule=a,wasmReady=!![],wasmModule;console['debug']('WASM\x20binding\x20not\x20provided,\x20attempting\x20dynamic\x20import');const b=await import('./rust/pkg/vless_parser.js');return typeof b['default']==='function'&&await b['default'](),wasmModule=b,wasmReady=!![],wasmModule;}catch(c){console['warn']('WASM\x20module\x20not\x20available\x20at\x20runtime:',c),wasmReady=![];throw c;}}async function parseVlessHeader(a){if(!wasmReady)throw new Error('WASM\x20not\x20initialized.\x20Call\x20initWasm()\x20first.');if(!wasmModule||typeof wasmModule['parse_vless_header']!=='function')throw new Error('parse_vless_header\x20not\x20available\x20on\x20wasm\x20module');return await wasmModule['parse_vless_header'](a);}async function parseVlessHeaderWithWasm(a,b){try{return await initWasm(b),await parseVlessHeader(a);}catch(c){console['error']('Wasm\x20parsing\x20error:',c);throw new Error('Failed\x20to\x20parse\x20VLESS\x20header\x20with\x20Wasm');}}function zValidatorFunction(a,b,c,d){return validator(a,async(e,f)=>{let g=e;if(a==='header'&&'_def'in b||a==='header'&&'_zod'in b){const i=Object['keys']('in'in b?b['in']['shape']:b['shape']),j=Object['fromEntries'](i['map'](k=>[k['toLowerCase'](),k]));g=Object['fromEntries'](Object['entries'](e)['map'](([k,l])=>[j[k]||k,l]));}const h=d&&d['validationFunction']?await d['validationFunction'](b,g):await b['safeParseAsync'](g);if(c){const k=await c({'data':g,...h,'target':a},f);if(k){if(k instanceof Response)return k;if('response'in k)return k['response'];}}if(!h['success'])return f['json'](h,0x190);return h['data'];});}function setErrorMap(a){overrideErrorMap=a;}function getErrorMap(){return overrideErrorMap;}function addIssueToContext(a,b){const c=getErrorMap(),d=makeIssue({'issueData':b,'data':a['data'],'path':a['path'],'errorMaps':[a['common']['contextualErrorMap'],a['schemaErrorMap'],c,c===en_default?void 0x0:en_default]['filter'](e=>!!e)});a['common']['issues']['push'](d);}function processCreateParams(a){if(!a)return{};const {errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw new Error('Can\x27t\x20use\x20\x22invalid_type_error\x22\x20or\x20\x22required_error\x22\x20in\x20conjunction\x20with\x20custom\x20error\x20map.');if(b)return{'errorMap':b,'description':e};const f=__name((g,h)=>{const {message:i}=a;if(g['code']==='invalid_enum_value')return{'message':i??h['defaultError']};if(typeof h['data']==='undefined')return{'message':i??d??h['defaultError']};if(g['code']!=='invalid_type')return{'message':h['defaultError']};return{'message':i??c??h['defaultError']};},'customMap');return{'errorMap':f,'description':e};}function timeRegexSource(a){let b='[0-5]\x5cd';if(a['precision'])b=b+'\x5c.\x5cd{'+a['precision']+'}';else a['precision']==null&&(b=b+'(\x5c.\x5cd+)?');const c=a['precision']?'+':'?';return'([01]\x5cd|2[0-3]):[0-5]\x5cd(:'+b+')'+c;}function timeRegex(a){return new RegExp('^'+timeRegexSource(a)+'$');}function datetimeRegex(a){let b=dateRegexSource+'T'+timeRegexSource(a);const c=[];c['push'](a['local']?'Z?':'Z');if(a['offset'])c['push']('([+-]\x5cd{2}:?\x5cd{2})');return b=b+'('+c['join']('|')+')',new RegExp('^'+b+'$');}function isValidIP(a,b){if((b==='v4'||!b)&&ipv4Regex['test'](a))return!![];if((b==='v6'||!b)&&ipv6Regex['test'](a))return!![];return![];}function isValidJWT(a,b){if(!jwtRegex['test'](a))return![];try{const [c]=a['split']('.');if(!c)return![];const d=c['replace'](/-/g,'+')['replace'](/_/g,'/')['padEnd'](c['length']+(0x4-c['length']%0x4)%0x4,'='),e=JSON['parse'](atob(d));if(typeof e!=='object'||e===null)return![];if('typ'in e&&e?.['typ']!=='JWT')return![];if(!e['alg'])return![];if(b&&e['alg']!==b)return![];return!![];}catch{return![];}}function isValidCidr(a,b){if((b==='v4'||!b)&&ipv4CidrRegex['test'](a))return!![];if((b==='v6'||!b)&&ipv6CidrRegex['test'](a))return!![];return![];}function floatSafeRemainder(a,b){const c=(a['toString']()['split']('.')[0x1]||'')['length'],d=(b['toString']()['split']('.')[0x1]||'')['length'],e=c>d?c:d,f=Number['parseInt'](a['toFixed'](e)['replace']('.','')),g=Number['parseInt'](b['toFixed'](e)['replace']('.',''));return f%g/0xa**e;}function deepPartialify(a){if(a instanceof ZodObject){const b={};for(const c in a['shape']){const d=a['shape'][c];b[c]=ZodOptional['create'](deepPartialify(d));}return new ZodObject({...a['_def'],'shape':__name(()=>b,'shape')});}else{if(a instanceof ZodArray)return new ZodArray({...a['_def'],'type':deepPartialify(a['element'])});else{if(a instanceof ZodOptional)return ZodOptional['create'](deepPartialify(a['unwrap']()));else{if(a instanceof ZodNullable)return ZodNullable['create'](deepPartialify(a['unwrap']()));else return a instanceof ZodTuple?ZodTuple['create'](a['items']['map'](e=>deepPartialify(e))):a;}}}}function mergeValues(c,d){const e=getParsedType(c),f=getParsedType(d);if(c===d)return{'valid':!![],'data':c};else{if(e===ZodParsedType['object']&&f===ZodParsedType['object']){const g=util['objectKeys'](d),h=util['objectKeys'](c)['filter'](j=>g['indexOf'](j)!==-0x1),i={...c,...d};for(const j of h){const k=mergeValues(c[j],d[j]);if(!k['valid'])return{'valid':![]};i[j]=k['data'];}return{'valid':!![],'data':i};}else{if(e===ZodParsedType['array']&&f===ZodParsedType['array']){if(c['length']!==d['length'])return{'valid':![]};const l=[];for(let m=0x0;m<c['length'];m++){const n=c[m],o=d[m],p=mergeValues(n,o);if(!p['valid'])return{'valid':![]};l['push'](p['data']);}return{'valid':!![],'data':l};}else return e===ZodParsedType['date']&&f===ZodParsedType['date']&&+c===+d?{'valid':!![],'data':c}:{'valid':![]};}}}function createZodEnum(a,b){return new ZodEnum({'values':a,'typeName':ZodFirstPartyTypeKind['ZodEnum'],...processCreateParams(b)});}function cleanParams(a,b){const c=typeof a==='function'?a(b):typeof a==='string'?{'message':a}:a,d=typeof c==='string'?{'message':c}:c;return d;}function custom(a,b={},c){if(a)return ZodAny['create']()['superRefine']((d,e)=>{const f=a(d);if(f instanceof Promise)return f['then'](g=>{if(!g){const h=cleanParams(b,d),i=h['fatal']??c??!![];e['addIssue']({'code':'custom',...h,'fatal':i});}});if(!f){const g=cleanParams(b,d),h=g['fatal']??c??!![];e['addIssue']({'code':'custom',...g,'fatal':h});}return;});return ZodAny['create']();}var compose,HTTPException,GET_MATCH_RESULT,parseBody,handleParsingAllValues,handleParsingNestedValues,splitPath,splitRoutingPath,extractGroupsFromPath,replaceGroupMarks,patternCache,getPattern,tryDecode,tryDecodeURI,getPath,getPathNoStrict,mergePath,checkOptionalParameter,_decodeURI,_getQueryParam,getQueryParam,getQueryParams,decodeURIComponent_,tryDecodeURIComponent,HonoRequest,HtmlEscapedCallbackPhase,raw,escapeRe,stringBufferToString,escapeToBuffer,resolveCallbackSync,resolveCallback,TEXT_PLAIN,setDefaultContentType,Context,METHOD_NAME_ALL,METHOD_NAME_ALL_LOWERCASE,METHODS,MESSAGE_MATCHER_IS_ALREADY_BUILT,UnsupportedPathError,COMPOSED_HANDLER,notFoundHandler,errorHandler,Hono,emptyParam,LABEL_REG_EXP_STR,ONLY_WILDCARD_REG_EXP_STR,TAIL_WILDCARD_REG_EXP_STR,PATH_ERROR,regExpMetaChars,Node,Trie,nullMatcher,wildcardRegExpCache,RegExpRouter,SmartRouter,emptyParams,Node2,TrieRouter,Hono2,COMPRESSIBLE_CONTENT_TYPE_REGEX,getMimeType,_baseMimes,baseMimes,defaultJoin,ENCODINGS,ENCODINGS_ORDERED_KEYS,DEFAULT_DOCUMENT,serveStatic,getContentFromKVAsset,serveStatic2,module,WSContext,defineWebSocketHelper,upgradeWebSocket,entityKind,hasOwnEntityKind,ConsoleLogWriter,DefaultLogger,NoopLogger,TableName,Schema,Columns,ExtraConfigColumns,OriginalName,BaseName,IsAlias,ExtraConfigBuilder,IsDrizzleTable,Table,Column,ColumnBuilder,ForeignKeyBuilder,ForeignKey,UniqueConstraintBuilder,UniqueOnConstraintBuilder,UniqueConstraint,PgColumnBuilder,PgColumn,ExtraConfigColumn,IndexedColumn,PgArrayBuilder,PgArray,PgEnumObjectColumnBuilder,PgEnumObjectColumn,isPgEnumSym,PgEnumColumnBuilder,PgEnumColumn,Subquery,WithSubquery,version,otel,rawTracer,tracer,ViewBaseConfig,FakePrimitiveParam,StringChunk,SQL,Name,noopDecoder,noopEncoder,noopMapper,Param,Placeholder,IsDrizzleView,View,textDecoder,InlineForeignKeys,EnableRLS,PgTable,PrimaryKeyBuilder,PrimaryKey,eq,ne,gt,gte,lt,lte,Relation,Relations,One,Many,ColumnAliasProxyHandler,TableAliasProxyHandler,RelationTableAliasProxyHandler,SelectionProxyHandler,QueryPromise,ForeignKeyBuilder2,ForeignKey2,UniqueConstraintBuilder2,UniqueOnConstraintBuilder2,UniqueConstraint2,SQLiteColumnBuilder,SQLiteColumn,SQLiteBigIntBuilder,SQLiteBigInt,SQLiteBlobJsonBuilder,SQLiteBlobJson,SQLiteBlobBufferBuilder,SQLiteBlobBuffer,SQLiteCustomColumnBuilder,SQLiteCustomColumn,SQLiteBaseIntegerBuilder,SQLiteBaseInteger,SQLiteIntegerBuilder,SQLiteInteger,SQLiteTimestampBuilder,SQLiteTimestamp,SQLiteBooleanBuilder,SQLiteBoolean,SQLiteNumericBuilder,SQLiteNumeric,SQLiteNumericNumberBuilder,SQLiteNumericNumber,SQLiteNumericBigIntBuilder,SQLiteNumericBigInt,SQLiteRealBuilder,SQLiteReal,SQLiteTextBuilder,SQLiteText,SQLiteTextJsonBuilder,SQLiteTextJson,InlineForeignKeys2,SQLiteTable,sqliteTable,PrimaryKeyBuilder2,PrimaryKey2,SQLiteDeleteBase,CasingCache,DrizzleError,DrizzleQueryError,TransactionRollbackError,SQLiteViewBase,SQLiteDialect,SQLiteSyncDialect,SQLiteAsyncDialect,TypedQueryBuilder,SQLiteSelectBuilder,SQLiteSelectQueryBuilderBase,SQLiteSelectBase,getSQLiteSetOperators,union,unionAll,intersect,except,QueryBuilder,SQLiteInsertBuilder,SQLiteInsertBase,SQLiteUpdateBuilder,SQLiteUpdateBase,SQLiteCountBuilder,RelationalQueryBuilder,SQLiteRelationalQuery,SQLiteSyncRelationalQuery,SQLiteRaw,BaseSQLiteDatabase,Cache,NoopCache,ExecuteResultSync,SQLitePreparedQuery,SQLiteSession,SQLiteTransaction,SQLiteD1Session,D1Transaction,D1PreparedQuery,DrizzleD1Database,DOM_RENDERER,DOM_ERROR_HANDLER,DOM_STASH,DOM_INTERNAL_TAG,DOM_MEMO,PERMALINK,setInternalTagFlag,createContextProviderFunction,globalContexts,createContext,useContext,deDupeKeyMap,domRenderers,dataPrecedenceAttr,components_exports,toArray,metaTagMap,insertIntoHead,returnWithoutSpecialBehavior,documentMetadataTag,title,script,style,link,meta,newJSXNode,form,formActionableElement,input,button,normalizeElementKeyMap,normalizeIntrinsicElementKey,styleObjectForEach,nameSpaceContext,getNameSpaceContext,toSVGAttributeName,emptyTags,booleanAttributes,childrenToStringToBuffer,JSXNode,JSXFunctionNode,JSXFragmentNode,initDomRenderer,jsxFn,UserPanel,schema_exports,users,userIps,proxyHealth,adminSessions,connectionEvents,getAllUsers,getUserByUuid,createUser,updateUser,deleteUser,wasmReady,wasmModule,vlessRouter,AdminDashboard,validCookieNameRegEx,validCookieValueRegEx,parse,getCookie,bufferToFormData,jsonRegex,multipartRegex,urlencodedRegex,validator,zValidator,external_exports,util,objectUtil,ZodParsedType,getParsedType,ZodIssueCode,quotelessJson,ZodError,errorMap,en_default,overrideErrorMap,makeIssue,EMPTY_PATH,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,errorUtil,ParseInputLazyPath,handleResult,ZodType,cuidRegex,cuid2Regex,ulidRegex,uuidRegex,nanoidRegex,jwtRegex,durationRegex,emailRegex,_emojiRegex,emojiRegex,ipv4Regex,ipv4CidrRegex,ipv6Regex,ipv6CidrRegex,base64Regex,base64urlRegex,dateRegexSource,dateRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,getDiscriminator,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,late,ZodFirstPartyTypeKind,instanceOfType,stringType,numberType,nanType,bigIntType,booleanType,dateType,symbolType,undefinedType,nullType,anyType,unknownType,neverType,voidType,arrayType,objectType,strictObjectType,unionType,discriminatedUnionType,intersectionType,tupleType,recordType,mapType,setType,functionType,lazyType,literalType,enumType,nativeEnumType,promiseType,effectsType,optionalType,nullableType,preprocessType,pipelineType,ostring,onumber,oboolean,coerce,NEVER,adminRouter,userSchema,Analytics,app,index_default,init_A62LQH55=__esm({'dist-obf/-A62LQH55.js'(){init_chunk_MLKGABMK(),compose=__name((a,b,c)=>{return(d,e)=>{let f=-0x1;return g(0x0);async function g(h){if(h<=f)throw new Error('next()\x20called\x20multiple\x20times');f=h;let j,k=![],l;a[h]?(l=a[h][0x0][0x0],d['req']['routeIndex']=h):l=h===a['length']&&e||void 0x0;if(l)try{j=await l(d,()=>g(h+0x1));}catch(m){if(m instanceof Error&&b)d['error']=m,j=await b(m,d),k=!![];else throw m;}else d['finalized']===![]&&c&&(j=await c(d));return j&&(d['finalized']===![]||k)&&(d['res']=j),d;}__name(g,'dispatch');};},'compose'),HTTPException=class extends Error{static{__name(this,'HTTPException');}['res'];['status'];constructor(a=0x1f4,b){super(b?.['message'],{'cause':b?.['cause']}),this['res']=b?.['res'],this['status']=a;}['getResponse'](){if(this['res']){const a=new Response(this['res']['body'],{'status':this['status'],'headers':this['res']['headers']});return a;}return new Response(this['message'],{'status':this['status']});}},GET_MATCH_RESULT=Symbol(),parseBody=__name(async(a,b=Object['create'](null))=>{const {all:all=![],dot:dot=![]}=b,c=a instanceof HonoRequest?a['raw']['headers']:a['headers'],d=c['get']('Content-Type');if(d?.['startsWith']('multipart/form-data')||d?.['startsWith']('application/x-www-form-urlencoded'))return parseFormData(a,{'all':all,'dot':dot});return{};},'parseBody'),__name(parseFormData,'parseFormData'),__name(convertFormDataToBodyData,'convertFormDataToBodyData'),handleParsingAllValues=__name((a,b,c)=>{if(a[b]!==void 0x0){if(Array['isArray'](a[b])){;a[b]['push'](c);}else a[b]=[a[b],c];}else!b['endsWith']('[]')?a[b]=c:a[b]=[c];},'handleParsingAllValues'),handleParsingNestedValues=__name((a,b,c)=>{let d=a;const e=b['split']('.');e['forEach']((f,g)=>{g===e['length']-0x1?d[f]=c:((!d[f]||typeof d[f]!=='object'||Array['isArray'](d[f])||d[f]instanceof File)&&(d[f]=Object['create'](null)),d=d[f]);});},'handleParsingNestedValues'),splitPath=__name(a=>{const b=a['split']('/');return b[0x0]===''&&b['shift'](),b;},'splitPath'),splitRoutingPath=__name(a=>{const {groups:b,path:c}=extractGroupsFromPath(a),d=splitPath(c);return replaceGroupMarks(d,b);},'splitRoutingPath'),extractGroupsFromPath=__name(a=>{const b=[];return a=a['replace'](/\{[^}]+\}/g,(c,d)=>{const e='@'+d;return b['push']([e,c]),e;}),{'groups':b,'path':a};},'extractGroupsFromPath'),replaceGroupMarks=__name((a,b)=>{for(let c=b['length']-0x1;c>=0x0;c--){const [d]=b[c];for(let e=a['length']-0x1;e>=0x0;e--){if(a[e]['includes'](d)){a[e]=a[e]['replace'](d,b[c][0x1]);break;}}}return a;},'replaceGroupMarks'),patternCache={},getPattern=__name((a,b)=>{if(a==='*')return'*';const c=a['match'](/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(c){const d=a+'#'+b;return!patternCache[d]&&(c[0x2]?patternCache[d]=b&&b[0x0]!==':'&&b[0x0]!=='*'?[d,c[0x1],new RegExp('^'+c[0x2]+'(?=/'+b+')')]:[a,c[0x1],new RegExp('^'+c[0x2]+'$')]:patternCache[d]=[a,c[0x1],!![]]),patternCache[d];}return null;},'getPattern'),tryDecode=__name((a,b)=>{try{return b(a);}catch{return a['replace'](/(?:%[0-9A-Fa-f]{2})+/g,c=>{try{return b(c);}catch{return c;}});}},'tryDecode'),tryDecodeURI=__name(a=>tryDecode(a,decodeURI),'tryDecodeURI'),getPath=__name(a=>{const b=a['url'],c=b['indexOf']('/',b['indexOf'](':')+0x4);let d=c;for(;d<b['length'];d++){const e=b['charCodeAt'](d);if(e===0x25){const f=b['indexOf']('?',d),g=b['slice'](c,f===-0x1?void 0x0:f);return tryDecodeURI(g['includes']('%25')?g['replace'](/%25/g,'%2525'):g);}else{if(e===0x3f)break;}}return b['slice'](c,d);},'getPath'),getPathNoStrict=__name(a=>{const b=getPath(a);return b['length']>0x1&&b['at'](-0x1)==='/'?b['slice'](0x0,-0x1):b;},'getPathNoStrict'),mergePath=__name((a,b,...c)=>{return c['length']&&(b=mergePath(b,...c)),''+(a?.[0x0]==='/'?'':'/')+a+(b==='/'?'':''+(a?.['at'](-0x1)==='/'?'':'/')+(b?.[0x0]==='/'?b['slice'](0x1):b));},'mergePath'),checkOptionalParameter=__name(a=>{if(a['charCodeAt'](a['length']-0x1)!==0x3f||!a['includes'](':'))return null;const b=a['split']('/'),c=[];let d='';return b['forEach'](e=>{if(e!==''&&!/\:/['test'](e))d+='/'+e;else{if(/\:/['test'](e)){if(/\?/['test'](e)){c['length']===0x0&&d===''?c['push']('/'):c['push'](d);const f=e['replace']('?','');d+='/'+f,c['push'](d);}else d+='/'+e;}}}),c['filter']((e,f,g)=>g['indexOf'](e)===f);},'checkOptionalParameter'),_decodeURI=__name(a=>{if(!/[%+]/['test'](a))return a;return a['indexOf']('+')!==-0x1&&(a=a['replace'](/\+/g,'\x20')),a['indexOf']('%')!==-0x1?tryDecode(a,decodeURIComponent_):a;},'_decodeURI'),_getQueryParam=__name((a,b,c)=>{let d;if(!c&&b&&!/[%+]/['test'](b)){let g=a['indexOf']('?',0x8);if(g===-0x1)return void 0x0;!a['startsWith'](b,g+0x1)&&(g=a['indexOf']('&'+b,g+0x1));while(g!==-0x1){const h=a['charCodeAt'](g+b['length']+0x1);if(h===0x3d){const i=g+b['length']+0x2,j=a['indexOf']('&',i);return _decodeURI(a['slice'](i,j===-0x1?void 0x0:j));}else{if(h==0x26||isNaN(h))return'';}g=a['indexOf']('&'+b,g+0x1);}d=/[%+]/['test'](a);if(!d)return void 0x0;}const e={};d??=/[%+]/['test'](a);let f=a['indexOf']('?',0x8);while(f!==-0x1){const k=a['indexOf']('&',f+0x1);let l=a['indexOf']('=',f);l>k&&k!==-0x1&&(l=-0x1);let m=a['slice'](f+0x1,l===-0x1?k===-0x1?void 0x0:k:l);d&&(m=_decodeURI(m));f=k;if(m==='')continue;let n;l===-0x1?n='':(n=a['slice'](l+0x1,k===-0x1?void 0x0:k),d&&(n=_decodeURI(n)));if(c){!(e[m]&&Array['isArray'](e[m]))&&(e[m]=[]);;e[m]['push'](n);}else e[m]??=n;}return b?e[b]:e;},'_getQueryParam'),getQueryParam=_getQueryParam,getQueryParams=__name((a,b)=>{return _getQueryParam(a,b,!![]);},'getQueryParams'),decodeURIComponent_=decodeURIComponent,tryDecodeURIComponent=__name(a=>tryDecode(a,decodeURIComponent_),'tryDecodeURIComponent'),HonoRequest=class{static{__name(this,'HonoRequest');}['raw'];#validatedData;#matchResult;['routeIndex']=0x0;['path'];['bodyCache']={};constructor(a,b='/',c=[[]]){this['raw']=a,this['path']=b,this.#matchResult=c,this.#validatedData={};}['param'](a){return a?this.#getDecodedParam(a):this.#getAllDecodedParams();}#getDecodedParam(a){const b=this.#matchResult[0x0][this['routeIndex']][0x1][a],c=this.#getParamValue(b);return c&&/\%/['test'](c)?tryDecodeURIComponent(c):c;}#getAllDecodedParams(){const a={},b=Object['keys'](this.#matchResult[0x0][this['routeIndex']][0x1]);for(const c of b){const d=this.#getParamValue(this.#matchResult[0x0][this['routeIndex']][0x1][c]);d!==void 0x0&&(a[c]=/\%/['test'](d)?tryDecodeURIComponent(d):d);}return a;}#getParamValue(a){return this.#matchResult[0x1]?this.#matchResult[0x1][a]:a;}['query'](a){return getQueryParam(this['url'],a);}['queries'](a){return getQueryParams(this['url'],a);}['header'](a){if(a)return this['raw']['headers']['get'](a)??void 0x0;const b={};return this['raw']['headers']['forEach']((c,d)=>{b[d]=c;}),b;}async['parseBody'](a){return this['bodyCache']['parsedBody']??=await parseBody(this,a);}#cachedBody=__name(key=>{const {bodyCache:bodyCache,raw:raw2}=this,cachedBody=bodyCache[key];if(cachedBody)return cachedBody;const anyCachedKey=Object['keys'](bodyCache)[0x0];if(anyCachedKey)return bodyCache[anyCachedKey]['then'](body=>{return anyCachedKey==='json'&&(body=JSON['stringify'](body)),new Response(body)[key]();});return bodyCache[key]=raw2[key]();},'#cachedBody');['json'](){return this.#cachedBody('text')['then'](a=>JSON['parse'](a));}['text'](){return this.#cachedBody('text');}['arrayBuffer'](){return this.#cachedBody('arrayBuffer');}['blob'](){return this.#cachedBody('blob');}['formData'](){return this.#cachedBody('formData');}['addValidatedData'](a,b){this.#validatedData[a]=b;}['valid'](a){return this.#validatedData[a];}get['url'](){return this['raw']['url'];}get['method'](){return this['raw']['method'];}get[GET_MATCH_RESULT](){return this.#matchResult;}get['matchedRoutes'](){return this.#matchResult[0x0]['map'](([[,a]])=>a);}get['routePath'](){return this.#matchResult[0x0]['map'](([[,a]])=>a)[this['routeIndex']]['path'];}},HtmlEscapedCallbackPhase={'Stringify':0x1,'BeforeStream':0x2,'Stream':0x3},raw=__name((a,b)=>{const c=new String(a);return c['isEscaped']=!![],c['callbacks']=b,c;},'raw'),escapeRe=/[&<>'"]/,stringBufferToString=__name(async(a,b)=>{let c='';b||=[];const d=await Promise['all'](a);for(let e=d['length']-0x1;;e--){c+=d[e],e--;if(e<0x0)break;let f=d[e];typeof f==='object'&&b['push'](...f['callbacks']||[]);const g=f['isEscaped'];f=await(typeof f==='object'?f['toString']():f);typeof f==='object'&&b['push'](...f['callbacks']||[]);if(f['isEscaped']??g)c+=f;else{const h=[c];escapeToBuffer(f,h),c=h[0x0];}}return raw(c,b);},'stringBufferToString'),escapeToBuffer=__name((a,b)=>{const c=a['search'](escapeRe);if(c===-0x1){b[0x0]+=a;return;}let d,e,f=0x0;for(e=c;e<a['length'];e++){switch(a['charCodeAt'](e)){case 0x22:d='&quot;';break;case 0x27:d='&#39;';break;case 0x26:d='&amp;';break;case 0x3c:d='&lt;';break;case 0x3e:d='&gt;';break;default:continue;}b[0x0]+=a['substring'](f,e)+d,f=e+0x1;}b[0x0]+=a['substring'](f,e);},'escapeToBuffer'),resolveCallbackSync=__name(a=>{const b=a['callbacks'];if(!b?.['length'])return a;const c=[a],d={};return b['forEach'](e=>e({'phase':HtmlEscapedCallbackPhase['Stringify'],'buffer':c,'context':d})),c[0x0];},'resolveCallbackSync'),resolveCallback=__name(async(a,b,c,d,e)=>{typeof a==='object'&&!(a instanceof String)&&(!(a instanceof Promise)&&(a=a['toString']()),a instanceof Promise&&(a=await a));const f=a['callbacks'];if(!f?.['length'])return Promise['resolve'](a);e?e[0x0]+=a:e=[a];const g=Promise['all'](f['map'](h=>h({'phase':b,'buffer':e,'context':d})))['then'](h=>Promise['all'](h['filter'](Boolean)['map'](i=>resolveCallback(i,b,![],d,e)))['then'](()=>e[0x0]));return c?raw(await g,f):g;},'resolveCallback'),TEXT_PLAIN='text/plain;\x20charset=UTF-8',setDefaultContentType=__name((a,b)=>{return{'Content-Type':a,...b};},'setDefaultContentType'),Context=class{static{__name(this,'Context');}#rawRequest;#req;['env']={};#var;['finalized']=![];['error'];#status;#executionCtx;#res;#layout;#renderer;#notFoundHandler;#preparedHeaders;#matchResult;#path;constructor(a,b){this.#rawRequest=a,b&&(this.#executionCtx=b['executionCtx'],this['env']=b['env'],this.#notFoundHandler=b['notFoundHandler'],this.#path=b['path'],this.#matchResult=b['matchResult']);}get['req'](){return this.#req??=new HonoRequest(this.#rawRequest,this.#path,this.#matchResult),this.#req;}get['event'](){if(this.#executionCtx&&'respondWith'in this.#executionCtx)return this.#executionCtx;else throw Error('This\x20context\x20has\x20no\x20FetchEvent');}get['executionCtx'](){if(this.#executionCtx)return this.#executionCtx;else throw Error('This\x20context\x20has\x20no\x20ExecutionContext');}get['res'](){return this.#res||=new Response(null,{'headers':this.#preparedHeaders??=new Headers()});}set['res'](a){if(this.#res&&a){a=new Response(a['body'],a);for(const [b,c]of this.#res['headers']['entries']()){if(b==='content-type')continue;if(b==='set-cookie'){const d=this.#res['headers']['getSetCookie']();a['headers']['delete']('set-cookie');for(const e of d){a['headers']['append']('set-cookie',e);}}else a['headers']['set'](b,c);}}this.#res=a,this['finalized']=!![];}['render']=__name((...args)=>{return this.#renderer??=content=>this['html'](content),this.#renderer(...args);},'render');['setLayout']=__name(layout=>this.#layout=layout,'setLayout');['getLayout']=__name(()=>this.#layout,'getLayout');['setRenderer']=__name(renderer=>{this.#renderer=renderer;},'setRenderer');['header']=__name((name,value,options)=>{this['finalized']&&(this.#res=new Response(this.#res['body'],this.#res));const headers=this.#res?this.#res['headers']:this.#preparedHeaders??=new Headers();if(value===void 0x0)headers['delete'](name);else options?.['append']?headers['append'](name,value):headers['set'](name,value);},'header');['status']=__name(status=>{this.#status=status;},'status');['set']=__name((key,value)=>{this.#var??=new Map(),this.#var['set'](key,value);},'set');['get']=__name(key=>{return this.#var?this.#var['get'](key):void 0x0;},'get');get['var'](){if(!this.#var)return{};return Object['fromEntries'](this.#var);}#newResponse(a,b,c){const d=this.#res?new Headers(this.#res['headers']):this.#preparedHeaders??new Headers();if(typeof b==='object'&&'headers'in b){const f=b['headers']instanceof Headers?b['headers']:new Headers(b['headers']);for(const [g,h]of f){g['toLowerCase']()==='set-cookie'?d['append'](g,h):d['set'](g,h);}}if(c)for(const [i,j]of Object['entries'](c)){if(typeof j==='string')d['set'](i,j);else{d['delete'](i);for(const l of j){d['append'](i,l);}}}const e=typeof b==='number'?b:b?.['status']??this.#status;return new Response(a,{'status':e,'headers':d});}['newResponse']=__name((...args)=>this.#newResponse(...args),'newResponse');['body']=__name((data,arg,headers)=>this.#newResponse(data,arg,headers),'body');['text']=__name((text2,arg,headers)=>{return!this.#preparedHeaders&&!this.#status&&!arg&&!headers&&!this['finalized']?new Response(text2):this.#newResponse(text2,arg,setDefaultContentType(TEXT_PLAIN,headers));},'text');['json']=__name((object,arg,headers)=>{return this.#newResponse(JSON['stringify'](object),arg,setDefaultContentType('application/json',headers));},'json');['html']=__name((html2,arg,headers)=>{const res=__name(html22=>this.#newResponse(html22,arg,setDefaultContentType('text/html;\x20charset=UTF-8',headers)),'res');return typeof html2==='object'?resolveCallback(html2,HtmlEscapedCallbackPhase['Stringify'],![],{})['then'](res):res(html2);},'html');['redirect']=__name((location,status)=>{const locationString=String(location);return this['header']('Location',!/[^\x00-\xFF]/['test'](locationString)?locationString:encodeURI(locationString)),this['newResponse'](null,status??0x12e);},'redirect');['notFound']=__name(()=>{return this.#notFoundHandler??=()=>new Response(),this.#notFoundHandler(this);},'notFound');},METHOD_NAME_ALL='ALL',METHOD_NAME_ALL_LOWERCASE='all',METHODS=['get','post','put','delete','options','patch'],MESSAGE_MATCHER_IS_ALREADY_BUILT='Can\x20not\x20add\x20a\x20route\x20since\x20the\x20matcher\x20is\x20already\x20built.',UnsupportedPathError=class extends Error{static{__name(this,'UnsupportedPathError');}},COMPOSED_HANDLER='__COMPOSED_HANDLER',notFoundHandler=__name(a=>{return a['text']('404\x20Not\x20Found',0x194);},'notFoundHandler'),errorHandler=__name((a,b)=>{if('getResponse'in a){const d=a['getResponse']();return b['newResponse'](d['body'],d);}return console['error'](a),b['text']('Internal\x20Server\x20Error',0x1f4);},'errorHandler'),Hono=class{static{__name(this,'Hono');}['get'];['post'];['put'];['delete'];['options'];['patch'];['all'];['on'];['use'];['router'];['getPath'];['_basePath']='/';#path='/';['routes']=[];constructor(a={}){const b=[...METHODS,METHOD_NAME_ALL_LOWERCASE];b['forEach'](e=>{this[e]=(f,...g)=>{return typeof f==='string'?this.#path=f:this.#addRoute(e,this.#path,f),g['forEach'](h=>{this.#addRoute(e,this.#path,h);}),this;};}),this['on']=(e,f,...g)=>{for(const h of[f]['flat']()){this.#path=h;for(const i of[e]['flat']()){g['map'](j=>{this.#addRoute(i['toUpperCase'](),this.#path,j);});}}return this;},this['use']=(e,...f)=>{return typeof e==='string'?this.#path=e:(this.#path='*',f['unshift'](e)),f['forEach'](g=>{this.#addRoute(METHOD_NAME_ALL,this.#path,g);}),this;};const {strict:c,...d}=a;Object['assign'](this,d),this['getPath']=c??!![]?a['getPath']??getPath:getPathNoStrict;}#clone(){const a=new Hono({'router':this['router'],'getPath':this['getPath']});return a['errorHandler']=this['errorHandler'],a.#notFoundHandler=this.#notFoundHandler,a['routes']=this['routes'],a;}#notFoundHandler=notFoundHandler;['errorHandler']=errorHandler;['route'](a,b){const c=this['basePath'](a);return b['routes']['map'](d=>{let e;b['errorHandler']===errorHandler?e=d['handler']:(e=__name(async(f,g)=>(await compose([],b['errorHandler'])(f,()=>d['handler'](f,g)))['res'],'handler'),e[COMPOSED_HANDLER]=d['handler']),c.#addRoute(d['method'],d['path'],e);}),this;}['basePath'](a){const b=this.#clone();return b['_basePath']=mergePath(this['_basePath'],a),b;}['onError']=__name(handler=>{return this['errorHandler']=handler,this;},'onError');['notFound']=__name(handler=>{return this.#notFoundHandler=handler,this;},'notFound');['mount'](a,b,c){let d,e;c&&(typeof c==='function'?e=c:(e=c['optionHandler'],c['replaceRequest']===![]?d=__name(h=>h,'replaceRequest'):d=c['replaceRequest']));const f=e?h=>{const i=e(h);return Array['isArray'](i)?i:[i];}:h=>{let i=void 0x0;try{i=h['executionCtx'];}catch{}return[h['env'],i];};d||=((()=>{const h=mergePath(this['_basePath'],a),i=h==='/'?0x0:h['length'];return j=>{const k=new URL(j['url']);return k['pathname']=k['pathname']['slice'](i)||'/',new Request(k,j);};})());const g=__name(async(h,i)=>{const j=await b(d(h['req']['raw']),...f(h));if(j)return j;await i();},'handler');return this.#addRoute(METHOD_NAME_ALL,mergePath(a,'*'),g),this;}#addRoute(a,b,c){a=a['toUpperCase'](),b=mergePath(this['_basePath'],b);const d={'basePath':this['_basePath'],'path':b,'method':a,'handler':c};this['router']['add'](a,b,[c,d]),this['routes']['push'](d);}#handleError(a,b){if(a instanceof Error)return this['errorHandler'](a,b);throw a;}#dispatch(a,b,d,e){if(e==='HEAD')return((async()=>new Response(null,await this.#dispatch(a,b,d,'GET')))());const f=this['getPath'](a,{'env':d}),g=this['router']['match'](e,f),h=new Context(a,{'path':f,'matchResult':g,'env':d,'executionCtx':b,'notFoundHandler':this.#notFoundHandler});if(g[0x0]['length']===0x1){let j;try{j=g[0x0][0x0][0x0][0x0](h,async()=>{h['res']=await this.#notFoundHandler(h);});}catch(k){return this.#handleError(k,h);}return j instanceof Promise?j['then'](l=>l||(h['finalized']?h['res']:this.#notFoundHandler(h)))['catch'](l=>this.#handleError(l,h)):j??this.#notFoundHandler(h);}const i=compose(g[0x0],this['errorHandler'],this.#notFoundHandler);return((async()=>{try{const l=await i(h);if(!l['finalized'])throw new Error('Context\x20is\x20not\x20finalized.\x20Did\x20you\x20forget\x20to\x20return\x20a\x20Response\x20object\x20or\x20`await\x20next()`?');return l['res'];}catch(m){return this.#handleError(m,h);}})());}['fetch']=__name((request,...rest)=>{return this.#dispatch(request,rest[0x1],rest[0x0],request['method']);},'fetch');['request']=__name((input2,requestInit,Env,executionCtx)=>{if(input2 instanceof Request)return this['fetch'](requestInit?new Request(input2,requestInit):input2,Env,executionCtx);return input2=input2['toString'](),this['fetch'](new Request(/^https?:\/\//['test'](input2)?input2:'http://localhost'+mergePath('/',input2),requestInit),Env,executionCtx);},'request');['fire']=__name(()=>{addEventListener('fetch',event=>{event['respondWith'](this.#dispatch(event['request'],event,void 0x0,event['request']['method']));});},'fire');},emptyParam=[],__name(match,'match'),LABEL_REG_EXP_STR='[^/]+',ONLY_WILDCARD_REG_EXP_STR='.*',TAIL_WILDCARD_REG_EXP_STR='(?:|/.*)',PATH_ERROR=Symbol(),regExpMetaChars=new Set('.\x5c+*[^]$()'),__name(compareKey,'compareKey'),Node=class{static{__name(this,'Node');}#index;#varIndex;#children=Object['create'](null);['insert'](a,b,c,d,e){if(a['length']===0x0){if(this.#index!==void 0x0)throw PATH_ERROR;if(e)return;this.#index=b;return;}const [f,...g]=a,h=f==='*'?g['length']===0x0?['','',ONLY_WILDCARD_REG_EXP_STR]:['','',LABEL_REG_EXP_STR]:f==='/*'?['','',TAIL_WILDCARD_REG_EXP_STR]:f['match'](/^\:([^\{\}]+)(?:\{(.+)\})?$/);let i;if(h){const j=h[0x1];let k=h[0x2]||LABEL_REG_EXP_STR;if(j&&h[0x2]){if(k==='.*')throw PATH_ERROR;k=k['replace'](/^\((?!\?:)(?=[^)]+\)$)/,'(?:');if(/\((?!\?:)/['test'](k))throw PATH_ERROR;}i=this.#children[k];if(!i){if(Object['keys'](this.#children)['some'](l=>l!==ONLY_WILDCARD_REG_EXP_STR&&l!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(e)return;i=this.#children[k]=new Node(),j!==''&&(i.#varIndex=d['varIndex']++);}!e&&j!==''&&c['push']([j,i.#varIndex]);}else{i=this.#children[f];if(!i){if(Object['keys'](this.#children)['some'](l=>l['length']>0x1&&l!==ONLY_WILDCARD_REG_EXP_STR&&l!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(e)return;i=this.#children[f]=new Node();}}i['insert'](g,b,c,d,e);}['buildRegExpStr'](){const a=Object['keys'](this.#children)['sort'](compareKey),b=a['map'](d=>{const e=this.#children[d];return(typeof e.#varIndex==='number'?'('+d+')@'+e.#varIndex:regExpMetaChars['has'](d)?'\x5c'+d:d)+e['buildRegExpStr']();});typeof this.#index==='number'&&b['unshift']('#'+this.#index);if(b['length']===0x0)return'';if(b['length']===0x1)return b[0x0];return'(?:'+b['join']('|')+')';}},Trie=class{static{__name(this,'Trie');}#context={'varIndex':0x0};#root=new Node();['insert'](a,b,c){const d=[],e=[];for(let g=0x0;;){let h=![];a=a['replace'](/\{[^}]+\}/g,k=>{const l='@\x5c'+g;return e[g]=[l,k],g++,h=!![],l;});if(!h)break;}const f=a['match'](/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let k=e['length']-0x1;k>=0x0;k--){const [l]=e[k];for(let m=f['length']-0x1;m>=0x0;m--){if(f[m]['indexOf'](l)!==-0x1){f[m]=f[m]['replace'](l,e[k][0x1]);break;}}}return this.#root['insert'](f,b,d,this.#context,c),d;}['buildRegExp'](){let a=this.#root['buildRegExpStr']();if(a==='')return[/^$/,[],[]];let b=0x0;const c=[],d=[];return a=a['replace'](/#(\d+)|@(\d+)|\.\*\$/g,(e,f,g)=>{if(f!==void 0x0)return c[++b]=Number(f),'$()';if(g!==void 0x0)return d[Number(g)]=++b,'';return'';}),[new RegExp('^'+a),c,d];}},nullMatcher=[/^$/,[],Object['create'](null)],wildcardRegExpCache=Object['create'](null),__name(buildWildcardRegExp,'buildWildcardRegExp'),__name(clearWildcardRegExpCache,'clearWildcardRegExpCache'),__name(buildMatcherFromPreprocessedRoutes,'buildMatcherFromPreprocessedRoutes'),__name(findMiddleware,'findMiddleware'),RegExpRouter=class{static{__name(this,'RegExpRouter');}['name']='RegExpRouter';#middleware;#routes;constructor(){this.#middleware={[METHOD_NAME_ALL]:Object['create'](null)},this.#routes={[METHOD_NAME_ALL]:Object['create'](null)};}['add'](a,b,c){const d=this.#middleware,e=this.#routes;if(!d||!e)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);if(!d[a]){;[d,e]['forEach'](h=>{h[a]=Object['create'](null),Object['keys'](h[METHOD_NAME_ALL])['forEach'](j=>{h[a][j]=[...h[METHOD_NAME_ALL][j]];});});}b==='/*'&&(b='*');const f=(b['match'](/\/:/g)||[])['length'];if(/\*$/['test'](b)){const h=buildWildcardRegExp(b);a===METHOD_NAME_ALL?Object['keys'](d)['forEach'](j=>{d[j][b]||=findMiddleware(d[j],b)||findMiddleware(d[METHOD_NAME_ALL],b)||[];}):d[a][b]||=findMiddleware(d[a],b)||findMiddleware(d[METHOD_NAME_ALL],b)||[];Object['keys'](d)['forEach'](j=>{(a===METHOD_NAME_ALL||a===j)&&Object['keys'](d[j])['forEach'](k=>{h['test'](k)&&d[j][k]['push']([c,f]);});}),Object['keys'](e)['forEach'](j=>{(a===METHOD_NAME_ALL||a===j)&&Object['keys'](e[j])['forEach'](k=>h['test'](k)&&e[j][k]['push']([c,f]));});return;}const g=checkOptionalParameter(b)||[b];for(let j=0x0,k=g['length'];j<k;j++){const l=g[j];Object['keys'](e)['forEach'](n=>{(a===METHOD_NAME_ALL||a===n)&&(e[n][l]||=[...findMiddleware(d[n],l)||findMiddleware(d[METHOD_NAME_ALL],l)||[]],e[n][l]['push']([c,f-k+j+0x1]));});}}['match']=match;['buildAllMatchers'](){const a=Object['create'](null);return Object['keys'](this.#routes)['concat'](Object['keys'](this.#middleware))['forEach'](b=>{a[b]||=this.#buildMatcher(b);}),this.#middleware=this.#routes=void 0x0,clearWildcardRegExpCache(),a;}#buildMatcher(a){const b=[];let c=a===METHOD_NAME_ALL;return[this.#middleware,this.#routes]['forEach'](d=>{const e=d[a]?Object['keys'](d[a])['map'](f=>[f,d[a][f]]):[];if(e['length']!==0x0)c||=!![],b['push'](...e);else a!==METHOD_NAME_ALL&&b['push'](...Object['keys'](d[METHOD_NAME_ALL])['map'](f=>[f,d[METHOD_NAME_ALL][f]]));}),!c?null:buildMatcherFromPreprocessedRoutes(b);}},SmartRouter=class{static{__name(this,'SmartRouter');}['name']='SmartRouter';#routers=[];#routes=[];constructor(a){this.#routers=a['routers'];}['add'](a,b,c){if(!this.#routes)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);this.#routes['push']([a,b,c]);}['match'](a,b){if(!this.#routes)throw new Error('Fatal\x20error');const c=this.#routers,d=this.#routes,f=c['length'];let g=0x0,h;for(;g<f;g++){const j=c[g];try{for(let k=0x0,l=d['length'];k<l;k++){j['add'](...d[k]);}h=j['match'](a,b);}catch(m){if(m instanceof UnsupportedPathError)continue;throw m;}this['match']=j['match']['bind'](j),this.#routers=[j],this.#routes=void 0x0;break;}if(g===f)throw new Error('Fatal\x20error');return this['name']='SmartRouter\x20+\x20'+this['activeRouter']['name'],h;}get['activeRouter'](){if(this.#routes||this.#routers['length']!==0x1)throw new Error('No\x20active\x20router\x20has\x20been\x20determined\x20yet.');return this.#routers[0x0];}},emptyParams=Object['create'](null),Node2=class{static{__name(this,'Node2');}#methods;#children;#patterns;#order=0x0;#params=emptyParams;constructor(a,b,c){this.#children=c||Object['create'](null),this.#methods=[];if(a&&b){const d=Object['create'](null);d[a]={'handler':b,'possibleKeys':[],'score':0x0},this.#methods=[d];}this.#patterns=[];}['insert'](a,b,c){this.#order=++this.#order;let d=this;const e=splitRoutingPath(b),f=[];for(let g=0x0,h=e['length'];g<h;g++){const j=e[g],k=e[g+0x1],l=getPattern(j,k),m=Array['isArray'](l)?l[0x0]:j;if(m in d.#children){d=d.#children[m];l&&f['push'](l[0x1]);continue;}d.#children[m]=new Node2(),l&&(d.#patterns['push'](l),f['push'](l[0x1])),d=d.#children[m];}return d.#methods['push']({[a]:{'handler':c,'possibleKeys':f['filter']((n,o,q)=>q['indexOf'](n)===o),'score':this.#order}}),d;}#getHandlerSets(a,b,c,d){const e=[];for(let f=0x0,g=a.#methods['length'];f<g;f++){const h=a.#methods[f],j=h[b]||h[METHOD_NAME_ALL],k={};if(j!==void 0x0){j['params']=Object['create'](null),e['push'](j);if(c!==emptyParams||d&&d!==emptyParams)for(let l=0x0,n=j['possibleKeys']['length'];l<n;l++){const o=j['possibleKeys'][l],p=k[j['score']];j['params'][o]=d?.[o]&&!p?d[o]:c[o]??d?.[o],k[j['score']]=!![];}}}return e;}['search'](a,b){const c=[];this.#params=emptyParams;const d=this;let e=[d];const f=splitPath(b),g=[];for(let h=0x0,l=f['length'];h<l;h++){const n=f[h],o=h===l-0x1,p=[];for(let q=0x0,r=e['length'];q<r;q++){const s=e[q],t=s.#children[n];t&&(t.#params=s.#params,o?(t.#children['*']&&c['push'](...this.#getHandlerSets(t.#children['*'],a,s.#params)),c['push'](...this.#getHandlerSets(t,a,s.#params))):p['push'](t));for(let u=0x0,v=s.#patterns['length'];u<v;u++){const w=s.#patterns[u],x=s.#params===emptyParams?{}:{...s.#params};if(w==='*'){const D=s.#children['*'];D&&(c['push'](...this.#getHandlerSets(D,a,s.#params)),D.#params=x,p['push'](D));continue;}const [y,z,A]=w;if(!n&&!(A instanceof RegExp))continue;const B=s.#children[y],C=f['slice'](h)['join']('/');if(A instanceof RegExp){const E=A['exec'](C);if(E){x[z]=E[0x0],c['push'](...this.#getHandlerSets(B,a,s.#params,x));if(Object['keys'](B.#children)['length']){B.#params=x;const F=E[0x0]['match'](/\//)?.['length']??0x0,G=g[F]||=[];G['push'](B);}continue;}}(A===!![]||A['test'](n))&&(x[z]=n,o?(c['push'](...this.#getHandlerSets(B,a,x,s.#params)),B.#children['*']&&c['push'](...this.#getHandlerSets(B.#children['*'],a,x,s.#params))):(B.#params=x,p['push'](B)));}}e=p['concat'](g['shift']()??[]);}return c['length']>0x1&&c['sort']((H,I)=>{return H['score']-I['score'];}),[c['map'](({handler:H,params:I})=>[H,I])];}},TrieRouter=class{static{__name(this,'TrieRouter');}['name']='TrieRouter';#node;constructor(){this.#node=new Node2();}['add'](a,b,c){const d=checkOptionalParameter(b);if(d){for(let e=0x0,f=d['length'];e<f;e++){this.#node['insert'](a,d[e],c);}return;}this.#node['insert'](a,b,c);}['match'](a,b){return this.#node['search'](a,b);}},Hono2=class extends Hono{static{__name(this,'Hono2');}constructor(a={}){super(a),this['router']=a['router']??new SmartRouter({'routers':[new RegExpRouter(),new TrieRouter()]});}},COMPRESSIBLE_CONTENT_TYPE_REGEX=/^\s*(?:text\/(?!event-stream(?:[;\s]|$))[^;\s]+|application\/(?:javascript|json|xml|xml-dtd|ecmascript|dart|postscript|rtf|tar|toml|vnd\.dart|vnd\.ms-fontobject|vnd\.ms-opentype|wasm|x-httpd-php|x-javascript|x-ns-proxy-autoconfig|x-sh|x-tar|x-virtualbox-hdd|x-virtualbox-ova|x-virtualbox-ovf|x-virtualbox-vbox|x-virtualbox-vdi|x-virtualbox-vhd|x-virtualbox-vmdk|x-www-form-urlencoded)|font\/(?:otf|ttf)|image\/(?:bmp|vnd\.adobe\.photoshop|vnd\.microsoft\.icon|vnd\.ms-dds|x-icon|x-ms-bmp)|message\/rfc822|model\/gltf-binary|x-shader\/x-fragment|x-shader\/x-vertex|[^;\s]+?\+(?:json|text|xml|yaml))(?:[;\s]|$)/i,getMimeType=__name((a,b=baseMimes)=>{const c=/\.([a-zA-Z0-9]+?)$/,d=a['match'](c);if(!d)return;let e=b[d[0x1]];return e&&e['startsWith']('text')&&(e+=';\x20charset=utf-8'),e;},'getMimeType'),_baseMimes={'aac':'audio/aac','avi':'video/x-msvideo','avif':'image/avif','av1':'video/av1','bin':'application/octet-stream','bmp':'image/bmp','css':'text/css','csv':'text/csv','eot':'application/vnd.ms-fontobject','epub':'application/epub+zip','gif':'image/gif','gz':'application/gzip','htm':'text/html','html':'text/html','ico':'image/x-icon','ics':'text/calendar','jpeg':'image/jpeg','jpg':'image/jpeg','js':'text/javascript','json':'application/json','jsonld':'application/ld+json','map':'application/json','mid':'audio/x-midi','midi':'audio/x-midi','mjs':'text/javascript','mp3':'audio/mpeg','mp4':'video/mp4','mpeg':'video/mpeg','oga':'audio/ogg','ogv':'video/ogg','ogx':'application/ogg','opus':'audio/opus','otf':'font/otf','pdf':'application/pdf','png':'image/png','rtf':'application/rtf','svg':'image/svg+xml','tif':'image/tiff','tiff':'image/tiff','ts':'video/mp2t','ttf':'font/ttf','txt':'text/plain','wasm':'application/wasm','webm':'video/webm','weba':'audio/webm','webmanifest':'application/manifest+json','webp':'image/webp','woff':'font/woff','woff2':'font/woff2','xhtml':'application/xhtml+xml','xml':'application/xml','zip':'application/zip','3gp':'video/3gpp','3g2':'video/3gpp2','gltf':'model/gltf+json','glb':'model/gltf-binary'},baseMimes=_baseMimes,defaultJoin=__name((...a)=>{let b=a['filter'](e=>e!=='')['join']('/');b=b['replace'](/(?<=\/)\/+/g,'');const c=b['split']('/'),d=[];for(const e of c){if(e==='..'&&d['length']>0x0&&d['at'](-0x1)!=='..')d['pop']();else e!=='.'&&d['push'](e);}return d['join']('/')||'.';},'defaultJoin'),ENCODINGS={'br':'.br','zstd':'.zst','gzip':'.gz'},ENCODINGS_ORDERED_KEYS=Object['keys'](ENCODINGS),DEFAULT_DOCUMENT='index.html',serveStatic=__name(a=>{const b=a['root']??'./',c=a['path'],d=a['join']??defaultJoin;return async(e,f)=>{if(e['finalized'])return f();let g;if(a['path'])g=a['path'];else try{g=decodeURIComponent(e['req']['path']);if(/(?:^|[\/\\])\.\.(?:$|[\/\\])/['test'](g))throw new Error();}catch{return await a['onNotFound']?.(e['req']['path'],e),f();}let h=d(b,!c&&a['rewriteRequestPath']?a['rewriteRequestPath'](g):g);a['isDir']&&await a['isDir'](h)&&(h=d(h,DEFAULT_DOCUMENT));const i=a['getContent'];let j=await i(h,e);if(j instanceof Response)return e['newResponse'](j['body'],j);if(j){const k=a['mimes']&&getMimeType(h,a['mimes'])||getMimeType(h);e['header']('Content-Type',k||'application/octet-stream');if(a['precompressed']&&(!k||COMPRESSIBLE_CONTENT_TYPE_REGEX['test'](k))){const l=new Set(e['req']['header']('Accept-Encoding')?.['split'](',')['map'](m=>m['trim']()));for(const m of ENCODINGS_ORDERED_KEYS){if(!l['has'](m))continue;const n=await i(h+ENCODINGS[m],e);if(n){j=n,e['header']('Content-Encoding',m),e['header']('Vary','Accept-Encoding',{'append':!![]});break;}}}return await a['onFound']?.(h,e),e['body'](j);}await a['onNotFound']?.(h,e),await f();return;};},'serveStatic'),getContentFromKVAsset=__name(async(a,b)=>{let c;b&&b['manifest']?typeof b['manifest']==='string'?c=JSON['parse'](b['manifest']):c=b['manifest']:typeof __STATIC_CONTENT_MANIFEST==='string'?c=JSON['parse'](__STATIC_CONTENT_MANIFEST):c=__STATIC_CONTENT_MANIFEST;let d;b&&b['namespace']?d=b['namespace']:d=__STATIC_CONTENT;const e=c[a]||a;if(!e)return null;const f=await d['get'](e,{'type':'stream'});if(!f)return null;return f;},'getContentFromKVAsset'),serveStatic2=__name(a=>{return __name(async function b(d,e){const f=__name(async g=>{return getContentFromKVAsset(g,{'manifest':a['manifest'],'namespace':a['namespace']?a['namespace']:d['env']?d['env']['__STATIC_CONTENT']:void 0x0});},'getContent');return serveStatic({...a,'getContent':f})(d,e);},'serveStatic22');},'serveStatic2'),module=__name(a=>{return serveStatic2(a);},'module'),WSContext=class{static{__name(this,'WSContext');}#init;constructor(a){this.#init=a,this['raw']=a['raw'],this['url']=a['url']?new URL(a['url']):null,this['protocol']=a['protocol']??null;}['send'](a,b){this.#init['send'](a,b??{});}['raw'];['binaryType']='arraybuffer';get['readyState'](){return this.#init['readyState'];}['url'];['protocol'];['close'](a,b){this.#init['close'](a,b);}},defineWebSocketHelper=__name(a=>{return(...b)=>{if(typeof b[0x0]==='function'){const [d,e]=b;return __name(async function f(g,h){const i=await d(g),j=await a(g,i,e);if(j)return j;await h();},'upgradeWebSocket2');}else{const [g,h,i]=b;return((async()=>{const j=await a(g,h,i);if(!j)throw new Error('Failed\x20to\x20upgrade\x20WebSocket');return j;})());}};},'defineWebSocketHelper'),upgradeWebSocket=defineWebSocketHelper(async(a,b)=>{const d=a['req']['header']('Upgrade');if(d!=='websocket')return;const e=new WebSocketPair(),f=e[0x0],g=e[0x1],h=new WSContext({'close':__name((i,j)=>g['close'](i,j),'close'),get 'protocol'(){return g['protocol'];},'raw':g,get 'readyState'(){return g['readyState'];},'url':g['url']?new URL(g['url']):null,'send':__name(i=>g['send'](i),'send')});return b['onClose']&&g['addEventListener']('close',i=>b['onClose']?.(i,h)),b['onMessage']&&g['addEventListener']('message',i=>b['onMessage']?.(i,h)),b['onError']&&g['addEventListener']('error',i=>b['onError']?.(i,h)),g['accept']?.(),new Response(null,{'status':0x65,'webSocket':f});}),entityKind=Symbol['for']('drizzle:entityKind'),hasOwnEntityKind=Symbol['for']('drizzle:hasOwnEntityKind'),__name(is,'is'),ConsoleLogWriter=class{static{__name(this,'ConsoleLogWriter');}static [entityKind]='ConsoleLogWriter';['write'](a){console['log'](a);}},DefaultLogger=class{static{__name(this,'DefaultLogger');}static [entityKind]='DefaultLogger';['writer'];constructor(a){this['writer']=a?.['writer']??new ConsoleLogWriter();}['logQuery'](a,b){const c=b['map'](e=>{try{return JSON['stringify'](e);}catch{return String(e);}}),d=c['length']?'\x20--\x20params:\x20['+c['join'](',\x20')+']':'';this['writer']['write']('Query:\x20'+a+d);}},NoopLogger=class{static{__name(this,'NoopLogger');}static [entityKind]='NoopLogger';['logQuery'](){}},TableName=Symbol['for']('drizzle:Name'),Schema=Symbol['for']('drizzle:Schema'),Columns=Symbol['for']('drizzle:Columns'),ExtraConfigColumns=Symbol['for']('drizzle:ExtraConfigColumns'),OriginalName=Symbol['for']('drizzle:OriginalName'),BaseName=Symbol['for']('drizzle:BaseName'),IsAlias=Symbol['for']('drizzle:IsAlias'),ExtraConfigBuilder=Symbol['for']('drizzle:ExtraConfigBuilder'),IsDrizzleTable=Symbol['for']('drizzle:IsDrizzleTable'),Table=class{static{__name(this,'Table');}static [entityKind]='Table';static ['Symbol']={'Name':TableName,'Schema':Schema,'OriginalName':OriginalName,'Columns':Columns,'ExtraConfigColumns':ExtraConfigColumns,'BaseName':BaseName,'IsAlias':IsAlias,'ExtraConfigBuilder':ExtraConfigBuilder};[TableName];[OriginalName];[Schema];[Columns];[ExtraConfigColumns];[BaseName];[IsAlias]=![];[IsDrizzleTable]=!![];[ExtraConfigBuilder]=void 0x0;constructor(a,b,c){this[TableName]=this[OriginalName]=a,this[Schema]=b,this[BaseName]=c;}},__name(getTableName,'getTableName'),__name(getTableUniqueName,'getTableUniqueName'),Column=class{static{__name(this,'Column');}constructor(a,b){this['table']=a,this['config']=b,this['name']=b['name'],this['keyAsName']=b['keyAsName'],this['notNull']=b['notNull'],this['default']=b['default'],this['defaultFn']=b['defaultFn'],this['onUpdateFn']=b['onUpdateFn'],this['hasDefault']=b['hasDefault'],this['primary']=b['primaryKey'],this['isUnique']=b['isUnique'],this['uniqueName']=b['uniqueName'],this['uniqueType']=b['uniqueType'],this['dataType']=b['dataType'],this['columnType']=b['columnType'],this['generated']=b['generated'],this['generatedIdentity']=b['generatedIdentity'];}static [entityKind]='Column';['name'];['keyAsName'];['primary'];['notNull'];['default'];['defaultFn'];['onUpdateFn'];['hasDefault'];['isUnique'];['uniqueName'];['uniqueType'];['dataType'];['columnType'];['enumValues']=void 0x0;['generated']=void 0x0;['generatedIdentity']=void 0x0;['config'];['mapFromDriverValue'](a){return a;}['mapToDriverValue'](a){return a;}['shouldDisableInsert'](){return this['config']['generated']!==void 0x0&&this['config']['generated']['type']!=='byDefault';}},ColumnBuilder=class{static{__name(this,'ColumnBuilder');}static [entityKind]='ColumnBuilder';['config'];constructor(a,b,c){this['config']={'name':a,'keyAsName':a==='','notNull':![],'default':void 0x0,'hasDefault':![],'primaryKey':![],'isUnique':![],'uniqueName':void 0x0,'uniqueType':void 0x0,'dataType':b,'columnType':c,'generated':void 0x0};}['$type'](){return this;}['notNull'](){return this['config']['notNull']=!![],this;}['default'](a){return this['config']['default']=a,this['config']['hasDefault']=!![],this;}['$defaultFn'](a){return this['config']['defaultFn']=a,this['config']['hasDefault']=!![],this;}['$default']=this['$defaultFn'];['$onUpdateFn'](a){return this['config']['onUpdateFn']=a,this['config']['hasDefault']=!![],this;}['$onUpdate']=this['$onUpdateFn'];['primaryKey'](){return this['config']['primaryKey']=!![],this['config']['notNull']=!![],this;}['setName'](a){if(this['config']['name']!=='')return;this['config']['name']=a;}},ForeignKeyBuilder=class{static{__name(this,'ForeignKeyBuilder');}static [entityKind]='PgForeignKeyBuilder';['reference'];['_onUpdate']='no\x20action';['_onDelete']='no\x20action';constructor(a,b){this['reference']=()=>{const {name:c,columns:d,foreignColumns:e}=a();return{'name':c,'columns':d,'foreignTable':e[0x0]['table'],'foreignColumns':e};},b&&(this['_onUpdate']=b['onUpdate'],this['_onDelete']=b['onDelete']);}['onUpdate'](a){return this['_onUpdate']=a===void 0x0?'no\x20action':a,this;}['onDelete'](a){return this['_onDelete']=a===void 0x0?'no\x20action':a,this;}['build'](a){return new ForeignKey(a,this);}},ForeignKey=class{static{__name(this,'ForeignKey');}constructor(a,b){this['table']=a,this['reference']=b['reference'],this['onUpdate']=b['_onUpdate'],this['onDelete']=b['_onDelete'];}static [entityKind]='PgForeignKey';['reference'];['onUpdate'];['onDelete'];['getName'](){const {name:a,columns:b,foreignColumns:c}=this['reference'](),d=b['map'](g=>g['name']),e=c['map'](g=>g['name']),f=[this['table'][TableName],...d,c[0x0]['table'][TableName],...e];return a??f['join']('_')+'_fk';}},__name(iife,'iife'),__name(uniqueKeyName,'uniqueKeyName'),UniqueConstraintBuilder=class{static{__name(this,'UniqueConstraintBuilder');}constructor(a,b){this['name']=b,this['columns']=a;}static [entityKind]='PgUniqueConstraintBuilder';['columns'];['nullsNotDistinctConfig']=![];['nullsNotDistinct'](){return this['nullsNotDistinctConfig']=!![],this;}['build'](a){return new UniqueConstraint(a,this['columns'],this['nullsNotDistinctConfig'],this['name']);}},UniqueOnConstraintBuilder=class{static{__name(this,'UniqueOnConstraintBuilder');}static [entityKind]='PgUniqueOnConstraintBuilder';['name'];constructor(a){this['name']=a;}['on'](...a){return new UniqueConstraintBuilder(a,this['name']);}},UniqueConstraint=class{static{__name(this,'UniqueConstraint');}constructor(a,b,c,d){this['table']=a,this['columns']=b,this['name']=d??uniqueKeyName(this['table'],this['columns']['map'](e=>e['name'])),this['nullsNotDistinct']=c;}static [entityKind]='PgUniqueConstraint';['columns'];['name'];['nullsNotDistinct']=![];['getName'](){return this['name'];}},__name(parsePgArrayValue,'parsePgArrayValue'),__name(parsePgNestedArray,'parsePgNestedArray'),__name(parsePgArray,'parsePgArray'),__name(makePgArray,'makePgArray'),PgColumnBuilder=class extends ColumnBuilder{static{__name(this,'PgColumnBuilder');}['foreignKeyConfigs']=[];static [entityKind]='PgColumnBuilder';['array'](a){return new PgArrayBuilder(this['config']['name'],this,a);}['references'](a,b={}){return this['foreignKeyConfigs']['push']({'ref':a,'actions':b}),this;}['unique'](a,b){return this['config']['isUnique']=!![],this['config']['uniqueName']=a,this['config']['uniqueType']=b?.['nulls'],this;}['generatedAlwaysAs'](a){return this['config']['generated']={'as':a,'type':'always','mode':'stored'},this;}['buildForeignKeys'](a,b){return this['foreignKeyConfigs']['map'](({ref:c,actions:d})=>{return iife((e,f)=>{const g=new ForeignKeyBuilder(()=>{const h=e();return{'columns':[a],'foreignColumns':[h]};});return f['onUpdate']&&g['onUpdate'](f['onUpdate']),f['onDelete']&&g['onDelete'](f['onDelete']),g['build'](b);},c,d);});}['buildExtraConfigColumn'](a){return new ExtraConfigColumn(a,this['config']);}},PgColumn=class extends Column{static{__name(this,'PgColumn');}constructor(a,b){!b['uniqueName']&&(b['uniqueName']=uniqueKeyName(a,[b['name']])),super(a,b),this['table']=a;}static [entityKind]='PgColumn';},ExtraConfigColumn=class extends PgColumn{static{__name(this,'ExtraConfigColumn');}static [entityKind]='ExtraConfigColumn';['getSQLType'](){return this['getSQLType']();}['indexConfig']={'order':this['config']['order']??'asc','nulls':this['config']['nulls']??'last','opClass':this['config']['opClass']};['defaultConfig']={'order':'asc','nulls':'last','opClass':void 0x0};['asc'](){return this['indexConfig']['order']='asc',this;}['desc'](){return this['indexConfig']['order']='desc',this;}['nullsFirst'](){return this['indexConfig']['nulls']='first',this;}['nullsLast'](){return this['indexConfig']['nulls']='last',this;}['op'](a){return this['indexConfig']['opClass']=a,this;}},IndexedColumn=class{static{__name(this,'IndexedColumn');}static [entityKind]='IndexedColumn';constructor(a,b,c,d){this['name']=a,this['keyAsName']=b,this['type']=c,this['indexConfig']=d;}['name'];['keyAsName'];['type'];['indexConfig'];},PgArrayBuilder=class extends PgColumnBuilder{static{__name(this,'PgArrayBuilder');}static [entityKind]='PgArrayBuilder';constructor(a,b,c){super(a,'array','PgArray'),this['config']['baseBuilder']=b,this['config']['size']=c;}['build'](a){const b=this['config']['baseBuilder']['build'](a);return new PgArray(a,this['config'],b);}},PgArray=class a extends PgColumn{static{__name(this,'_PgArray');}constructor(b,c,d,e){super(b,c),this['baseColumn']=d,this['range']=e,this['size']=c['size'];}['size'];static [entityKind]='PgArray';['getSQLType'](){return this['baseColumn']['getSQLType']()+'['+(typeof this['size']==='number'?this['size']:'')+']';}['mapFromDriverValue'](b){return typeof b==='string'&&(b=parsePgArray(b)),b['map'](c=>this['baseColumn']['mapFromDriverValue'](c));}['mapToDriverValue'](b,c=![]){const d=b['map'](e=>e===null?null:is(this['baseColumn'],a)?this['baseColumn']['mapToDriverValue'](e,!![]):this['baseColumn']['mapToDriverValue'](e));if(c)return d;return makePgArray(d);}},PgEnumObjectColumnBuilder=class extends PgColumnBuilder{static{__name(this,'PgEnumObjectColumnBuilder');}static [entityKind]='PgEnumObjectColumnBuilder';constructor(b,c){super(b,'string','PgEnumObjectColumn'),this['config']['enum']=c;}['build'](b){return new PgEnumObjectColumn(b,this['config']);}},PgEnumObjectColumn=class extends PgColumn{static{__name(this,'PgEnumObjectColumn');}static [entityKind]='PgEnumObjectColumn';['enum'];['enumValues']=this['config']['enum']['enumValues'];constructor(b,c){super(b,c),this['enum']=c['enum'];}['getSQLType'](){return this['enum']['enumName'];}},isPgEnumSym=Symbol['for']('drizzle:isPgEnum'),__name(isPgEnum,'isPgEnum'),PgEnumColumnBuilder=class extends PgColumnBuilder{static{__name(this,'PgEnumColumnBuilder');}static [entityKind]='PgEnumColumnBuilder';constructor(b,c){super(b,'string','PgEnumColumn'),this['config']['enum']=c;}['build'](b){return new PgEnumColumn(b,this['config']);}},PgEnumColumn=class extends PgColumn{static{__name(this,'PgEnumColumn');}static [entityKind]='PgEnumColumn';['enum']=this['config']['enum'];['enumValues']=this['config']['enum']['enumValues'];constructor(b,c){super(b,c),this['enum']=c['enum'];}['getSQLType'](){return this['enum']['enumName'];}},Subquery=class{static{__name(this,'Subquery');}static [entityKind]='Subquery';constructor(b,c,d,e=![],f=[]){this['_']={'brand':'Subquery','sql':b,'selectedFields':c,'alias':d,'isWith':e,'usedTables':f};}},WithSubquery=class extends Subquery{static{__name(this,'WithSubquery');}static [entityKind]='WithSubquery';},version='0.44.7',tracer={'startActiveSpan'(b,c){if(!otel)return c();return!rawTracer&&(rawTracer=otel['trace']['getTracer']('drizzle-orm',version)),iife((d,e)=>e['startActiveSpan'](b,f=>{try{return c(f);}catch(g){f['setStatus']({'code':d['SpanStatusCode']['ERROR'],'message':g instanceof Error?g['message']:'Unknown\x20error'});throw g;}finally{f['end']();}}),otel,rawTracer);}},ViewBaseConfig=Symbol['for']('drizzle:ViewBaseConfig'),FakePrimitiveParam=class{static{__name(this,'FakePrimitiveParam');}static [entityKind]='FakePrimitiveParam';},__name(isSQLWrapper,'isSQLWrapper'),__name(mergeQueries,'mergeQueries'),StringChunk=class{static{__name(this,'StringChunk');}static [entityKind]='StringChunk';['value'];constructor(b){this['value']=Array['isArray'](b)?b:[b];}['getSQL'](){return new SQL([this]);}},SQL=class b{static{__name(this,'_SQL');}constructor(c){this['queryChunks']=c;for(const d of c){if(is(d,Table)){const e=d[Table['Symbol']['Schema']];this['usedTables']['push'](e===void 0x0?d[Table['Symbol']['Name']]:e+'.'+d[Table['Symbol']['Name']]);}}}static [entityKind]='SQL';['decoder']=noopDecoder;['shouldInlineParams']=![];['usedTables']=[];['append'](c){return this['queryChunks']['push'](...c['queryChunks']),this;}['toQuery'](c){return tracer['startActiveSpan']('drizzle.buildSQL',d=>{const e=this['buildQueryFromSourceParams'](this['queryChunks'],c);return d?.['setAttributes']({'drizzle.query.text':e['sql'],'drizzle.query.params':JSON['stringify'](e['params'])}),e;});}['buildQueryFromSourceParams'](c,d){const e=Object['assign']({},d,{'inlineParams':d['inlineParams']||this['shouldInlineParams'],'paramStartIndex':d['paramStartIndex']||{'value':0x0}}),{casing:f,escapeName:g,escapeParam:h,prepareTyping:i,inlineParams:j,paramStartIndex:k}=e;return mergeQueries(c['map'](l=>{if(is(l,StringChunk))return{'sql':l['value']['join'](''),'params':[]};if(is(l,Name))return{'sql':g(l['value']),'params':[]};if(l===void 0x0)return{'sql':'','params':[]};if(Array['isArray'](l)){const m=[new StringChunk('(')];for(const [n,o]of l['entries']()){m['push'](o),n<l['length']-0x1&&m['push'](new StringChunk(',\x20'));}return m['push'](new StringChunk(')')),this['buildQueryFromSourceParams'](m,e);}if(is(l,b))return this['buildQueryFromSourceParams'](l['queryChunks'],{...e,'inlineParams':j||l['shouldInlineParams']});if(is(l,Table)){const q=l[Table['Symbol']['Schema']],r=l[Table['Symbol']['Name']];return{'sql':q===void 0x0||l[IsAlias]?g(r):g(q)+'.'+g(r),'params':[]};}if(is(l,Column)){const s=f['getColumnCasing'](l);if(d['invokeSource']==='indexes')return{'sql':g(s),'params':[]};const t=l['table'][Table['Symbol']['Schema']];return{'sql':l['table'][IsAlias]||t===void 0x0?g(l['table'][Table['Symbol']['Name']])+'.'+g(s):g(t)+'.'+g(l['table'][Table['Symbol']['Name']])+'.'+g(s),'params':[]};}if(is(l,View)){const u=l[ViewBaseConfig]['schema'],v=l[ViewBaseConfig]['name'];return{'sql':u===void 0x0||l[ViewBaseConfig]['isAlias']?g(v):g(u)+'.'+g(v),'params':[]};}if(is(l,Param)){if(is(l['value'],Placeholder))return{'sql':h(k['value']++,l),'params':[l],'typings':['none']};const w=l['value']===null?null:l['encoder']['mapToDriverValue'](l['value']);if(is(w,b))return this['buildQueryFromSourceParams']([w],e);if(j)return{'sql':this['mapInlineParam'](w,e),'params':[]};let x=['none'];return i&&(x=[i(l['encoder'])]),{'sql':h(k['value']++,w),'params':[w],'typings':x};}if(is(l,Placeholder))return{'sql':h(k['value']++,l),'params':[l],'typings':['none']};if(is(l,b['Aliased'])&&l['fieldAlias']!==void 0x0)return{'sql':g(l['fieldAlias']),'params':[]};if(is(l,Subquery)){if(l['_']['isWith'])return{'sql':g(l['_']['alias']),'params':[]};return this['buildQueryFromSourceParams']([new StringChunk('('),l['_']['sql'],new StringChunk(')\x20'),new Name(l['_']['alias'])],e);}if(isPgEnum(l)){if(l['schema'])return{'sql':g(l['schema'])+'.'+g(l['enumName']),'params':[]};return{'sql':g(l['enumName']),'params':[]};}if(isSQLWrapper(l)){if(l['shouldOmitSQLParens']?.())return this['buildQueryFromSourceParams']([l['getSQL']()],e);return this['buildQueryFromSourceParams']([new StringChunk('('),l['getSQL'](),new StringChunk(')')],e);}if(j)return{'sql':this['mapInlineParam'](l,e),'params':[]};return{'sql':h(k['value']++,l),'params':[l],'typings':['none']};}));}['mapInlineParam'](c,{escapeString:d}){if(c===null)return'null';if(typeof c==='number'||typeof c==='boolean')return c['toString']();if(typeof c==='string')return d(c);if(typeof c==='object'){const e=c['toString']();if(e==='[object\x20Object]')return d(JSON['stringify'](c));return d(e);}throw new Error('Unexpected\x20param\x20value:\x20'+c);}['getSQL'](){return this;}['as'](c){if(c===void 0x0)return this;return new b['Aliased'](this,c);}['mapWith'](c){return this['decoder']=typeof c==='function'?{'mapFromDriverValue':c}:c,this;}['inlineParams'](){return this['shouldInlineParams']=!![],this;}['if'](c){return c?this:void 0x0;}},Name=class{static{__name(this,'Name');}constructor(c){this['value']=c;}static [entityKind]='Name';['brand'];['getSQL'](){return new SQL([this]);}},__name(isDriverValueEncoder,'isDriverValueEncoder'),noopDecoder={'mapFromDriverValue':__name(c=>c,'mapFromDriverValue')},noopEncoder={'mapToDriverValue':__name(c=>c,'mapToDriverValue')},noopMapper={...noopDecoder,...noopEncoder},Param=class{static{__name(this,'Param');}constructor(c,d=noopEncoder){this['value']=c,this['encoder']=d;}static [entityKind]='Param';['brand'];['getSQL'](){return new SQL([this]);}},__name(sql,'sql'),(c=>{function d(){return new SQL([]);}__name(d,'empty'),c['empty']=d;function e(k){return new SQL(k);}__name(e,'fromList'),c['fromList']=e;function f(k){return new SQL([new StringChunk(k)]);}__name(f,'raw2'),c['raw']=f;function g(k,l){const m=[];for(const [n,o]of k['entries']()){n>0x0&&l!==void 0x0&&m['push'](l),m['push'](o);}return new SQL(m);}__name(g,'join'),c['join']=g;function h(k){return new Name(k);}__name(h,'identifier'),c['identifier']=h;function i(k){return new Placeholder(k);}__name(i,'placeholder2'),c['placeholder']=i;function j(k,l){return new Param(k,l);}__name(j,'param2'),c['param']=j;})(sql||(sql={})),(c=>{class d{static{__name(this,'Aliased');}constructor(e,f){this['sql']=e,this['fieldAlias']=f;}static [entityKind]='SQL.Aliased';['isSelectionField']=![];['getSQL'](){return this['sql'];}['clone'](){return new d(this['sql'],this['fieldAlias']);}}c['Aliased']=d;})(SQL||(SQL={})),Placeholder=class{static{__name(this,'Placeholder');}constructor(c){this['name']=c;}static [entityKind]='Placeholder';['getSQL'](){return new SQL([this]);}},__name(fillPlaceholders,'fillPlaceholders'),IsDrizzleView=Symbol['for']('drizzle:IsDrizzleView'),View=class{static{__name(this,'View');}static [entityKind]='View';[ViewBaseConfig];[IsDrizzleView]=!![];constructor({name:c,schema:d,selectedFields:e,query:f}){this[ViewBaseConfig]={'name':c,'originalName':c,'schema':d,'selectedFields':e,'query':f,'isExisting':!f,'isAlias':![]};}['getSQL'](){return new SQL([this]);}},Column['prototype']['getSQL']=function(){return new SQL([this]);},Table['prototype']['getSQL']=function(){return new SQL([this]);},Subquery['prototype']['getSQL']=function(){return new SQL([this]);},__name(mapResultRow,'mapResultRow'),__name(orderSelectedFields,'orderSelectedFields'),__name(haveSameKeys,'haveSameKeys'),__name(mapUpdateSet,'mapUpdateSet'),__name(applyMixins,'applyMixins'),__name(getTableColumns,'getTableColumns'),__name(getTableLikeName,'getTableLikeName'),__name(getColumnNameAndConfig,'getColumnNameAndConfig'),textDecoder=typeof TextDecoder==='undefined'?null:new TextDecoder(),InlineForeignKeys=Symbol['for']('drizzle:PgInlineForeignKeys'),EnableRLS=Symbol['for']('drizzle:EnableRLS'),PgTable=class extends Table{static{__name(this,'PgTable');}static [entityKind]='PgTable';static ['Symbol']=Object['assign']({},Table['Symbol'],{'InlineForeignKeys':InlineForeignKeys,'EnableRLS':EnableRLS});[InlineForeignKeys]=[];[EnableRLS]=![];[Table['Symbol']['ExtraConfigBuilder']]=void 0x0;[Table['Symbol']['ExtraConfigColumns']]={};},PrimaryKeyBuilder=class{static{__name(this,'PrimaryKeyBuilder');}static [entityKind]='PgPrimaryKeyBuilder';['columns'];['name'];constructor(c,d){this['columns']=c,this['name']=d;}['build'](c){return new PrimaryKey(c,this['columns'],this['name']);}},PrimaryKey=class{static{__name(this,'PrimaryKey');}constructor(c,d,e){this['table']=c,this['columns']=d,this['name']=e;}static [entityKind]='PgPrimaryKey';['columns'];['name'];['getName'](){return this['name']??this['table'][PgTable['Symbol']['Name']]+'_'+this['columns']['map'](c=>c['name'])['join']('_')+'_pk';}},__name(bindIfParam,'bindIfParam'),eq=__name((c,d)=>{return sql`${c} = ${bindIfParam(d,c)}`;},'eq'),ne=__name((c,d)=>{return sql`${c} <> ${bindIfParam(d,c)}`;},'ne'),__name(and,'and'),__name(or,'or'),__name(not,'not'),gt=__name((c,d)=>{return sql`${c} > ${bindIfParam(d,c)}`;},'gt'),gte=__name((c,d)=>{return sql`${c} >= ${bindIfParam(d,c)}`;},'gte'),lt=__name((c,d)=>{return sql`${c} < ${bindIfParam(d,c)}`;},'lt'),lte=__name((c,d)=>{return sql`${c} <= ${bindIfParam(d,c)}`;},'lte'),__name(inArray,'inArray'),__name(notInArray,'notInArray'),__name(isNull,'isNull'),__name(isNotNull,'isNotNull'),__name(exists,'exists'),__name(notExists,'notExists'),__name(between,'between'),__name(notBetween,'notBetween'),__name(like,'like'),__name(notLike,'notLike'),__name(ilike,'ilike'),__name(notIlike,'notIlike'),__name(asc,'asc'),__name(desc,'desc'),Relation=class{static{__name(this,'Relation');}constructor(c,d,e){this['sourceTable']=c,this['referencedTable']=d,this['relationName']=e,this['referencedTableName']=d[Table['Symbol']['Name']];}static [entityKind]='Relation';['referencedTableName'];['fieldName'];},Relations=class{static{__name(this,'Relations');}constructor(c,d){this['table']=c,this['config']=d;}static [entityKind]='Relations';},One=class c extends Relation{static{__name(this,'_One');}constructor(d,e,f,g){super(d,e,f?.['relationName']),this['config']=f,this['isNullable']=g;}static [entityKind]='One';['withFieldName'](d){const e=new c(this['sourceTable'],this['referencedTable'],this['config'],this['isNullable']);return e['fieldName']=d,e;}},Many=class d extends Relation{static{__name(this,'_Many');}constructor(e,f,g){super(e,f,g?.['relationName']),this['config']=g;}static [entityKind]='Many';['withFieldName'](e){const f=new d(this['sourceTable'],this['referencedTable'],this['config']);return f['fieldName']=e,f;}},__name(getOperators,'getOperators'),__name(getOrderByOperators,'getOrderByOperators'),__name(extractTablesRelationalConfig,'extractTablesRelationalConfig'),__name(createOne,'createOne'),__name(createMany,'createMany'),__name(normalizeRelation,'normalizeRelation'),__name(createTableRelationsHelpers,'createTableRelationsHelpers'),__name(mapRelationalRow,'mapRelationalRow'),ColumnAliasProxyHandler=class{static{__name(this,'ColumnAliasProxyHandler');}constructor(e){this['table']=e;}static [entityKind]='ColumnAliasProxyHandler';['get'](e,f){if(f==='table')return this['table'];return e[f];}},TableAliasProxyHandler=class{static{__name(this,'TableAliasProxyHandler');}constructor(e,f){this['alias']=e,this['replaceOriginalName']=f;}static [entityKind]='TableAliasProxyHandler';['get'](e,f){if(f===Table['Symbol']['IsAlias'])return!![];if(f===Table['Symbol']['Name'])return this['alias'];if(this['replaceOriginalName']&&f===Table['Symbol']['OriginalName'])return this['alias'];if(f===ViewBaseConfig)return{...e[ViewBaseConfig],'name':this['alias'],'isAlias':!![]};if(f===Table['Symbol']['Columns']){const h=e[Table['Symbol']['Columns']];if(!h)return h;const i={};return Object['keys'](h)['map'](j=>{i[j]=new Proxy(h[j],new ColumnAliasProxyHandler(new Proxy(e,this)));}),i;}const g=e[f];if(is(g,Column))return new Proxy(g,new ColumnAliasProxyHandler(new Proxy(e,this)));return g;}},RelationTableAliasProxyHandler=class{static{__name(this,'RelationTableAliasProxyHandler');}constructor(e){this['alias']=e;}static [entityKind]='RelationTableAliasProxyHandler';['get'](e,f){if(f==='sourceTable')return aliasedTable(e['sourceTable'],this['alias']);return e[f];}},__name(aliasedTable,'aliasedTable'),__name(aliasedTableColumn,'aliasedTableColumn'),__name(mapColumnsInAliasedSQLToAlias,'mapColumnsInAliasedSQLToAlias'),__name(mapColumnsInSQLToAlias,'mapColumnsInSQLToAlias'),SelectionProxyHandler=class e{static{__name(this,'_SelectionProxyHandler');}static [entityKind]='SelectionProxyHandler';['config'];constructor(f){this['config']={...f};}['get'](f,g){if(g==='_')return{...f['_'],'selectedFields':new Proxy(f['_']['selectedFields'],this)};if(g===ViewBaseConfig)return{...f[ViewBaseConfig],'selectedFields':new Proxy(f[ViewBaseConfig]['selectedFields'],this)};if(typeof g==='symbol')return f[g];const h=is(f,Subquery)?f['_']['selectedFields']:is(f,View)?f[ViewBaseConfig]['selectedFields']:f,i=h[g];if(is(i,SQL['Aliased'])){if(this['config']['sqlAliasedBehavior']==='sql'&&!i['isSelectionField'])return i['sql'];const j=i['clone']();return j['isSelectionField']=!![],j;}if(is(i,SQL)){if(this['config']['sqlBehavior']==='sql')return i;throw new Error('You\x20tried\x20to\x20reference\x20\x22'+g+'\x22\x20field\x20from\x20a\x20subquery,\x20which\x20is\x20a\x20raw\x20SQL\x20field,\x20but\x20it\x20doesn\x27t\x20have\x20an\x20alias\x20declared.\x20Please\x20add\x20an\x20alias\x20to\x20the\x20field\x20using\x20\x22.as(\x27alias\x27)\x22\x20method.');}if(is(i,Column)){if(this['config']['alias'])return new Proxy(i,new ColumnAliasProxyHandler(new Proxy(i['table'],new TableAliasProxyHandler(this['config']['alias'],this['config']['replaceOriginalName']??![]))));return i;}if(typeof i!=='object'||i===null)return i;return new Proxy(i,new e(this['config']));}},QueryPromise=class{static{__name(this,'QueryPromise');}static [entityKind]='QueryPromise';[Symbol['toStringTag']]='QueryPromise';['catch'](f){return this['then'](void 0x0,f);}['finally'](f){return this['then'](g=>{return f?.(),g;},g=>{f?.();throw g;});}['then'](f,g){return this['execute']()['then'](f,g);}},ForeignKeyBuilder2=class{static{__name(this,'ForeignKeyBuilder2');}static [entityKind]='SQLiteForeignKeyBuilder';['reference'];['_onUpdate'];['_onDelete'];constructor(f,g){this['reference']=()=>{const {name:h,columns:i,foreignColumns:j}=f();return{'name':h,'columns':i,'foreignTable':j[0x0]['table'],'foreignColumns':j};},g&&(this['_onUpdate']=g['onUpdate'],this['_onDelete']=g['onDelete']);}['onUpdate'](f){return this['_onUpdate']=f,this;}['onDelete'](f){return this['_onDelete']=f,this;}['build'](f){return new ForeignKey2(f,this);}},ForeignKey2=class{static{__name(this,'ForeignKey2');}constructor(f,g){this['table']=f,this['reference']=g['reference'],this['onUpdate']=g['_onUpdate'],this['onDelete']=g['_onDelete'];}static [entityKind]='SQLiteForeignKey';['reference'];['onUpdate'];['onDelete'];['getName'](){const {name:f,columns:g,foreignColumns:h}=this['reference'](),i=g['map'](l=>l['name']),j=h['map'](l=>l['name']),k=[this['table'][TableName],...i,h[0x0]['table'][TableName],...j];return f??k['join']('_')+'_fk';}},__name(uniqueKeyName2,'uniqueKeyName2'),UniqueConstraintBuilder2=class{static{__name(this,'UniqueConstraintBuilder2');}constructor(f,g){this['name']=g,this['columns']=f;}static [entityKind]='SQLiteUniqueConstraintBuilder';['columns'];['build'](f){return new UniqueConstraint2(f,this['columns'],this['name']);}},UniqueOnConstraintBuilder2=class{static{__name(this,'UniqueOnConstraintBuilder2');}static [entityKind]='SQLiteUniqueOnConstraintBuilder';['name'];constructor(f){this['name']=f;}['on'](...f){return new UniqueConstraintBuilder2(f,this['name']);}},UniqueConstraint2=class{static{__name(this,'UniqueConstraint2');}constructor(f,g,h){this['table']=f,this['columns']=g,this['name']=h??uniqueKeyName2(this['table'],this['columns']['map'](i=>i['name']));}static [entityKind]='SQLiteUniqueConstraint';['columns'];['name'];['getName'](){return this['name'];}},SQLiteColumnBuilder=class extends ColumnBuilder{static{__name(this,'SQLiteColumnBuilder');}static [entityKind]='SQLiteColumnBuilder';['foreignKeyConfigs']=[];['references'](f,g={}){return this['foreignKeyConfigs']['push']({'ref':f,'actions':g}),this;}['unique'](f){return this['config']['isUnique']=!![],this['config']['uniqueName']=f,this;}['generatedAlwaysAs'](f,g){return this['config']['generated']={'as':f,'type':'always','mode':g?.['mode']??'virtual'},this;}['buildForeignKeys'](f,g){return this['foreignKeyConfigs']['map'](({ref:h,actions:i})=>{return((j,k)=>{const l=new ForeignKeyBuilder2(()=>{const m=j();return{'columns':[f],'foreignColumns':[m]};});return k['onUpdate']&&l['onUpdate'](k['onUpdate']),k['onDelete']&&l['onDelete'](k['onDelete']),l['build'](g);})(h,i);});}},SQLiteColumn=class extends Column{static{__name(this,'SQLiteColumn');}constructor(f,g){!g['uniqueName']&&(g['uniqueName']=uniqueKeyName2(f,[g['name']])),super(f,g),this['table']=f;}static [entityKind]='SQLiteColumn';},SQLiteBigIntBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteBigIntBuilder');}static [entityKind]='SQLiteBigIntBuilder';constructor(f){super(f,'bigint','SQLiteBigInt');}['build'](f){return new SQLiteBigInt(f,this['config']);}},SQLiteBigInt=class extends SQLiteColumn{static{__name(this,'SQLiteBigInt');}static [entityKind]='SQLiteBigInt';['getSQLType'](){return'blob';}['mapFromDriverValue'](f){if(typeof Buffer!=='undefined'&&Buffer['from']){const g=Buffer['isBuffer'](f)?f:f instanceof ArrayBuffer?Buffer['from'](f):f['buffer']?Buffer['from'](f['buffer'],f['byteOffset'],f['byteLength']):Buffer['from'](f);return BigInt(g['toString']('utf8'));}return BigInt(textDecoder['decode'](f));}['mapToDriverValue'](f){return Buffer['from'](f['toString']());}},SQLiteBlobJsonBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteBlobJsonBuilder');}static [entityKind]='SQLiteBlobJsonBuilder';constructor(f){super(f,'json','SQLiteBlobJson');}['build'](f){return new SQLiteBlobJson(f,this['config']);}},SQLiteBlobJson=class extends SQLiteColumn{static{__name(this,'SQLiteBlobJson');}static [entityKind]='SQLiteBlobJson';['getSQLType'](){return'blob';}['mapFromDriverValue'](f){if(typeof Buffer!=='undefined'&&Buffer['from']){const g=Buffer['isBuffer'](f)?f:f instanceof ArrayBuffer?Buffer['from'](f):f['buffer']?Buffer['from'](f['buffer'],f['byteOffset'],f['byteLength']):Buffer['from'](f);return JSON['parse'](g['toString']('utf8'));}return JSON['parse'](textDecoder['decode'](f));}['mapToDriverValue'](f){return Buffer['from'](JSON['stringify'](f));}},SQLiteBlobBufferBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteBlobBufferBuilder');}static [entityKind]='SQLiteBlobBufferBuilder';constructor(f){super(f,'buffer','SQLiteBlobBuffer');}['build'](f){return new SQLiteBlobBuffer(f,this['config']);}},SQLiteBlobBuffer=class extends SQLiteColumn{static{__name(this,'SQLiteBlobBuffer');}static [entityKind]='SQLiteBlobBuffer';['mapFromDriverValue'](f){if(Buffer['isBuffer'](f))return f;return Buffer['from'](f);}['getSQLType'](){return'blob';}},__name(blob,'blob'),SQLiteCustomColumnBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteCustomColumnBuilder');}static [entityKind]='SQLiteCustomColumnBuilder';constructor(f,g,h){super(f,'custom','SQLiteCustomColumn'),this['config']['fieldConfig']=g,this['config']['customTypeParams']=h;}['build'](f){return new SQLiteCustomColumn(f,this['config']);}},SQLiteCustomColumn=class extends SQLiteColumn{static{__name(this,'SQLiteCustomColumn');}static [entityKind]='SQLiteCustomColumn';['sqlName'];['mapTo'];['mapFrom'];constructor(f,g){super(f,g),this['sqlName']=g['customTypeParams']['dataType'](g['fieldConfig']),this['mapTo']=g['customTypeParams']['toDriver'],this['mapFrom']=g['customTypeParams']['fromDriver'];}['getSQLType'](){return this['sqlName'];}['mapFromDriverValue'](f){return typeof this['mapFrom']==='function'?this['mapFrom'](f):f;}['mapToDriverValue'](f){return typeof this['mapTo']==='function'?this['mapTo'](f):f;}},__name(customType,'customType'),SQLiteBaseIntegerBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteBaseIntegerBuilder');}static [entityKind]='SQLiteBaseIntegerBuilder';constructor(f,g,h){super(f,g,h),this['config']['autoIncrement']=![];}['primaryKey'](f){return f?.['autoIncrement']&&(this['config']['autoIncrement']=!![]),this['config']['hasDefault']=!![],super['primaryKey']();}},SQLiteBaseInteger=class extends SQLiteColumn{static{__name(this,'SQLiteBaseInteger');}static [entityKind]='SQLiteBaseInteger';['autoIncrement']=this['config']['autoIncrement'];['getSQLType'](){return'integer';}},SQLiteIntegerBuilder=class extends SQLiteBaseIntegerBuilder{static{__name(this,'SQLiteIntegerBuilder');}static [entityKind]='SQLiteIntegerBuilder';constructor(f){super(f,'number','SQLiteInteger');}['build'](f){return new SQLiteInteger(f,this['config']);}},SQLiteInteger=class extends SQLiteBaseInteger{static{__name(this,'SQLiteInteger');}static [entityKind]='SQLiteInteger';},SQLiteTimestampBuilder=class extends SQLiteBaseIntegerBuilder{static{__name(this,'SQLiteTimestampBuilder');}static [entityKind]='SQLiteTimestampBuilder';constructor(f,g){super(f,'date','SQLiteTimestamp'),this['config']['mode']=g;}['defaultNow'](){return this['default'](sql`(cast((julianday('now') - 2440587.5)*86400000 as integer))`);}['build'](f){return new SQLiteTimestamp(f,this['config']);}},SQLiteTimestamp=class extends SQLiteBaseInteger{static{__name(this,'SQLiteTimestamp');}static [entityKind]='SQLiteTimestamp';['mode']=this['config']['mode'];['mapFromDriverValue'](f){if(this['config']['mode']==='timestamp')return new Date(f*0x3e8);return new Date(f);}['mapToDriverValue'](f){const g=f['getTime']();if(this['config']['mode']==='timestamp')return Math['floor'](g/0x3e8);return g;}},SQLiteBooleanBuilder=class extends SQLiteBaseIntegerBuilder{static{__name(this,'SQLiteBooleanBuilder');}static [entityKind]='SQLiteBooleanBuilder';constructor(f,g){super(f,'boolean','SQLiteBoolean'),this['config']['mode']=g;}['build'](f){return new SQLiteBoolean(f,this['config']);}},SQLiteBoolean=class extends SQLiteBaseInteger{static{__name(this,'SQLiteBoolean');}static [entityKind]='SQLiteBoolean';['mode']=this['config']['mode'];['mapFromDriverValue'](f){return Number(f)===0x1;}['mapToDriverValue'](f){return f?0x1:0x0;}},__name(integer,'integer'),SQLiteNumericBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteNumericBuilder');}static [entityKind]='SQLiteNumericBuilder';constructor(f){super(f,'string','SQLiteNumeric');}['build'](f){return new SQLiteNumeric(f,this['config']);}},SQLiteNumeric=class extends SQLiteColumn{static{__name(this,'SQLiteNumeric');}static [entityKind]='SQLiteNumeric';['mapFromDriverValue'](f){if(typeof f==='string')return f;return String(f);}['getSQLType'](){return'numeric';}},SQLiteNumericNumberBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteNumericNumberBuilder');}static [entityKind]='SQLiteNumericNumberBuilder';constructor(f){super(f,'number','SQLiteNumericNumber');}['build'](f){return new SQLiteNumericNumber(f,this['config']);}},SQLiteNumericNumber=class extends SQLiteColumn{static{__name(this,'SQLiteNumericNumber');}static [entityKind]='SQLiteNumericNumber';['mapFromDriverValue'](f){if(typeof f==='number')return f;return Number(f);}['mapToDriverValue']=String;['getSQLType'](){return'numeric';}},SQLiteNumericBigIntBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteNumericBigIntBuilder');}static [entityKind]='SQLiteNumericBigIntBuilder';constructor(f){super(f,'bigint','SQLiteNumericBigInt');}['build'](f){return new SQLiteNumericBigInt(f,this['config']);}},SQLiteNumericBigInt=class extends SQLiteColumn{static{__name(this,'SQLiteNumericBigInt');}static [entityKind]='SQLiteNumericBigInt';['mapFromDriverValue']=BigInt;['mapToDriverValue']=String;['getSQLType'](){return'numeric';}},__name(numeric,'numeric'),SQLiteRealBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteRealBuilder');}static [entityKind]='SQLiteRealBuilder';constructor(f){super(f,'number','SQLiteReal');}['build'](f){return new SQLiteReal(f,this['config']);}},SQLiteReal=class extends SQLiteColumn{static{__name(this,'SQLiteReal');}static [entityKind]='SQLiteReal';['getSQLType'](){return'real';}},__name(real,'real'),SQLiteTextBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteTextBuilder');}static [entityKind]='SQLiteTextBuilder';constructor(f,g){super(f,'string','SQLiteText'),this['config']['enumValues']=g['enum'],this['config']['length']=g['length'];}['build'](f){return new SQLiteText(f,this['config']);}},SQLiteText=class extends SQLiteColumn{static{__name(this,'SQLiteText');}static [entityKind]='SQLiteText';['enumValues']=this['config']['enumValues'];['length']=this['config']['length'];constructor(f,g){super(f,g);}['getSQLType'](){return'text'+(this['config']['length']?'('+this['config']['length']+')':'');}},SQLiteTextJsonBuilder=class extends SQLiteColumnBuilder{static{__name(this,'SQLiteTextJsonBuilder');}static [entityKind]='SQLiteTextJsonBuilder';constructor(f){super(f,'json','SQLiteTextJson');}['build'](f){return new SQLiteTextJson(f,this['config']);}},SQLiteTextJson=class extends SQLiteColumn{static{__name(this,'SQLiteTextJson');}static [entityKind]='SQLiteTextJson';['getSQLType'](){return'text';}['mapFromDriverValue'](f){return JSON['parse'](f);}['mapToDriverValue'](f){return JSON['stringify'](f);}},__name(text,'text'),__name(getSQLiteColumnBuilders,'getSQLiteColumnBuilders'),InlineForeignKeys2=Symbol['for']('drizzle:SQLiteInlineForeignKeys'),SQLiteTable=class extends Table{static{__name(this,'SQLiteTable');}static [entityKind]='SQLiteTable';static ['Symbol']=Object['assign']({},Table['Symbol'],{'InlineForeignKeys':InlineForeignKeys2});[Table['Symbol']['Columns']];[InlineForeignKeys2]=[];[Table['Symbol']['ExtraConfigBuilder']]=void 0x0;},__name(sqliteTableBase,'sqliteTableBase'),sqliteTable=__name((f,g,h)=>{return sqliteTableBase(f,g,h);},'sqliteTable'),__name(primaryKey,'primaryKey'),PrimaryKeyBuilder2=class{static{__name(this,'PrimaryKeyBuilder2');}static [entityKind]='SQLitePrimaryKeyBuilder';['columns'];['name'];constructor(f,g){this['columns']=f,this['name']=g;}['build'](f){return new PrimaryKey2(f,this['columns'],this['name']);}},PrimaryKey2=class{static{__name(this,'PrimaryKey2');}constructor(f,g,h){this['table']=f,this['columns']=g,this['name']=h;}static [entityKind]='SQLitePrimaryKey';['columns'];['name'];['getName'](){return this['name']??this['table'][SQLiteTable['Symbol']['Name']]+'_'+this['columns']['map'](f=>f['name'])['join']('_')+'_pk';}},__name(extractUsedTable,'extractUsedTable'),SQLiteDeleteBase=class extends QueryPromise{static{__name(this,'SQLiteDeleteBase');}constructor(f,g,h,i){super(),this['table']=f,this['session']=g,this['dialect']=h,this['config']={'table':f,'withList':i};}static [entityKind]='SQLiteDelete';['config'];['where'](f){return this['config']['where']=f,this;}['orderBy'](...f){if(typeof f[0x0]==='function'){const g=f[0x0](new Proxy(this['config']['table'][Table['Symbol']['Columns']],new SelectionProxyHandler({'sqlAliasedBehavior':'alias','sqlBehavior':'sql'}))),h=Array['isArray'](g)?g:[g];this['config']['orderBy']=h;}else{const i=f;this['config']['orderBy']=i;}return this;}['limit'](f){return this['config']['limit']=f,this;}['returning'](f=this['table'][SQLiteTable['Symbol']['Columns']]){return this['config']['returning']=orderSelectedFields(f),this;}['getSQL'](){return this['dialect']['buildDeleteQuery'](this['config']);}['toSQL'](){const {typings:f,...g}=this['dialect']['sqlToQuery'](this['getSQL']());return g;}['_prepare'](f=!![]){return this['session'][f?'prepareOneTimeQuery':'prepareQuery'](this['dialect']['sqlToQuery'](this['getSQL']()),this['config']['returning'],this['config']['returning']?'all':'run',!![],void 0x0,{'type':'delete','tables':extractUsedTable(this['config']['table'])});}['prepare'](){return this['_prepare'](![]);}['run']=__name(placeholderValues=>{return this['_prepare']()['run'](placeholderValues);},'run');['all']=__name(placeholderValues=>{return this['_prepare']()['all'](placeholderValues);},'all');['get']=__name(placeholderValues=>{return this['_prepare']()['get'](placeholderValues);},'get');['values']=__name(placeholderValues=>{return this['_prepare']()['values'](placeholderValues);},'values');async['execute'](f){return this['_prepare']()['execute'](f);}['$dynamic'](){return this;}},__name(toSnakeCase,'toSnakeCase'),__name(toCamelCase,'toCamelCase'),__name(noopCase,'noopCase'),CasingCache=class{static{__name(this,'CasingCache');}static [entityKind]='CasingCache';['cache']={};['cachedTables']={};['convert'];constructor(f){this['convert']=f==='snake_case'?toSnakeCase:f==='camelCase'?toCamelCase:noopCase;}['getColumnCasing'](f){if(!f['keyAsName'])return f['name'];const g=f['table'][Table['Symbol']['Schema']]??'public',h=f['table'][Table['Symbol']['OriginalName']],i=g+'.'+h+'.'+f['name'];return!this['cache'][i]&&this['cacheTable'](f['table']),this['cache'][i];}['cacheTable'](f){const g=f[Table['Symbol']['Schema']]??'public',h=f[Table['Symbol']['OriginalName']],i=g+'.'+h;if(!this['cachedTables'][i]){for(const j of Object['values'](f[Table['Symbol']['Columns']])){const k=i+'.'+j['name'];this['cache'][k]=this['convert'](j['name']);}this['cachedTables'][i]=!![];}}['clearCache'](){this['cache']={},this['cachedTables']={};}},DrizzleError=class extends Error{static{__name(this,'DrizzleError');}static [entityKind]='DrizzleError';constructor({message:f,cause:g}){super(f),this['name']='DrizzleError',this['cause']=g;}},DrizzleQueryError=class f extends Error{static{__name(this,'_DrizzleQueryError');}constructor(g,h,i){super('Failed\x20query:\x20'+g+'\x0aparams:\x20'+h),this['query']=g,this['params']=h,this['cause']=i,Error['captureStackTrace'](this,f);if(i)this['cause']=i;}},TransactionRollbackError=class extends DrizzleError{static{__name(this,'TransactionRollbackError');}static [entityKind]='TransactionRollbackError';constructor(){super({'message':'Rollback'});}},SQLiteViewBase=class extends View{static{__name(this,'SQLiteViewBase');}static [entityKind]='SQLiteViewBase';},SQLiteDialect=class{static{__name(this,'SQLiteDialect');}static [entityKind]='SQLiteDialect';['casing'];constructor(g){this['casing']=new CasingCache(g?.['casing']);}['escapeName'](g){return'\x22'+g+'\x22';}['escapeParam'](g){return'?';}['escapeString'](g){return'\x27'+g['replace'](/'/g,'\x27\x27')+'\x27';}['buildWithCTE'](g){if(!g?.['length'])return void 0x0;const h=[sql`with `];for(const [j,k]of g['entries']()){h['push'](sql`${sql['identifier'](k['_']['alias'])} as (${k['_']['sql']})`),j<g['length']-0x1&&h['push'](sql`, `);}return h['push'](sql` `),sql['join'](h);}['buildDeleteQuery']({table:g,where:h,returning:i,withList:j,limit:k,orderBy:l}){const m=this['buildWithCTE'](j),n=i?sql` returning ${this['buildSelection'](i,{'isSingleTable':!![]})}`:void 0x0,o=h?sql` where ${h}`:void 0x0,p=this['buildOrderBy'](l),q=this['buildLimit'](k);return sql`${m}delete from ${g}${o}${n}${p}${q}`;}['buildUpdateSet'](g,h){const i=g[Table['Symbol']['Columns']],j=Object['keys'](i)['filter'](l=>h[l]!==void 0x0||i[l]?.['onUpdateFn']!==void 0x0),k=j['length'];return sql['join'](j['flatMap']((l,m)=>{const n=i[l],o=h[l]??sql['param'](n['onUpdateFn'](),n),p=sql`${sql['identifier'](this['casing']['getColumnCasing'](n))} = ${o}`;if(m<k-0x1)return[p,sql['raw'](',\x20')];return[p];}));}['buildUpdateQuery']({table:g,set:h,where:i,returning:j,withList:k,joins:l,from:m,limit:n,orderBy:o}){const p=this['buildWithCTE'](k),q=this['buildUpdateSet'](g,h),r=m&&sql['join']([sql['raw']('\x20from\x20'),this['buildFromTable'](m)]),s=this['buildJoins'](l),t=j?sql` returning ${this['buildSelection'](j,{'isSingleTable':!![]})}`:void 0x0,u=i?sql` where ${i}`:void 0x0,v=this['buildOrderBy'](o),w=this['buildLimit'](n);return sql`${p}update ${g} set ${q}${r}${s}${u}${t}${v}${w}`;}['buildSelection'](g,{isSingleTable:isSingleTable=![]}={}){const h=g['length'],i=g['flatMap'](({field:j},k)=>{const l=[];if(is(j,SQL['Aliased'])&&j['isSelectionField'])l['push'](sql['identifier'](j['fieldAlias']));else{if(is(j,SQL['Aliased'])||is(j,SQL)){const m=is(j,SQL['Aliased'])?j['sql']:j;isSingleTable?l['push'](new SQL(m['queryChunks']['map'](n=>{if(is(n,Column))return sql['identifier'](this['casing']['getColumnCasing'](n));return n;}))):l['push'](m),is(j,SQL['Aliased'])&&l['push'](sql` as ${sql['identifier'](j['fieldAlias'])}`);}else{if(is(j,Column)){const n=j['table'][Table['Symbol']['Name']];j['columnType']==='SQLiteNumericBigInt'?isSingleTable?l['push'](sql`cast(${sql['identifier'](this['casing']['getColumnCasing'](j))} as text)`):l['push'](sql`cast(${sql['identifier'](n)}.${sql['identifier'](this['casing']['getColumnCasing'](j))} as text)`):isSingleTable?l['push'](sql['identifier'](this['casing']['getColumnCasing'](j))):l['push'](sql`${sql['identifier'](n)}.${sql['identifier'](this['casing']['getColumnCasing'](j))}`);}}}return k<h-0x1&&l['push'](sql`, `),l;});return sql['join'](i);}['buildJoins'](g){if(!g||g['length']===0x0)return void 0x0;const h=[];if(g)for(const [i,j]of g['entries']()){i===0x0&&h['push'](sql` `);const k=j['table'],l=j['on']?sql` on ${j['on']}`:void 0x0;if(is(k,SQLiteTable)){const m=k[SQLiteTable['Symbol']['Name']],n=k[SQLiteTable['Symbol']['Schema']],o=k[SQLiteTable['Symbol']['OriginalName']],p=m===o?void 0x0:j['alias'];h['push'](sql`${sql['raw'](j['joinType'])} join ${n?sql`${sql['identifier'](n)}.`:void 0x0}${sql['identifier'](o)}${p&&sql` ${sql['identifier'](p)}`}${l}`);}else h['push'](sql`${sql['raw'](j['joinType'])} join ${k}${l}`);i<g['length']-0x1&&h['push'](sql` `);}return sql['join'](h);}['buildLimit'](g){return typeof g==='object'||typeof g==='number'&&g>=0x0?sql` limit ${g}`:void 0x0;}['buildOrderBy'](g){const h=[];if(g)for(const [i,j]of g['entries']()){h['push'](j),i<g['length']-0x1&&h['push'](sql`, `);}return h['length']>0x0?sql` order by ${sql['join'](h)}`:void 0x0;}['buildFromTable'](g){if(is(g,Table)&&g[Table['Symbol']['IsAlias']])return sql`${sql`${sql['identifier'](g[Table['Symbol']['Schema']]??'')}.`['if'](g[Table['Symbol']['Schema']])}${sql['identifier'](g[Table['Symbol']['OriginalName']])} ${sql['identifier'](g[Table['Symbol']['Name']])}`;return g;}['buildSelectQuery']({withList:g,fields:h,fieldsFlat:i,where:j,having:k,table:l,joins:m,orderBy:n,groupBy:o,limit:p,offset:q,distinct:r,setOperators:s}){const t=i??orderSelectedFields(h);for(const I of t){if(is(I['field'],Column)&&getTableName(I['field']['table'])!==(is(l,Subquery)?l['_']['alias']:is(l,SQLiteViewBase)?l[ViewBaseConfig]['name']:is(l,SQL)?void 0x0:getTableName(l))&&!(J=>m?.['some'](({alias:K})=>K===(J[Table['Symbol']['IsAlias']]?getTableName(J):J[Table['Symbol']['BaseName']])))(I['field']['table'])){const J=getTableName(I['field']['table']);throw new Error('Your\x20\x22'+I['path']['join']('->')+'\x22\x20field\x20references\x20a\x20column\x20\x22'+J+'\x22.\x22'+I['field']['name']+'\x22,\x20but\x20the\x20table\x20\x22'+J+'\x22\x20is\x20not\x20part\x20of\x20the\x20query!\x20Did\x20you\x20forget\x20to\x20join\x20it?');}}const u=!m||m['length']===0x0,v=this['buildWithCTE'](g),w=r?sql` distinct`:void 0x0,x=this['buildSelection'](t,{'isSingleTable':u}),y=this['buildFromTable'](l),z=this['buildJoins'](m),A=j?sql` where ${j}`:void 0x0,B=k?sql` having ${k}`:void 0x0,C=[];if(o)for(const [K,L]of o['entries']()){C['push'](L),K<o['length']-0x1&&C['push'](sql`, `);}const D=C['length']>0x0?sql` group by ${sql['join'](C)}`:void 0x0,E=this['buildOrderBy'](n),F=this['buildLimit'](p),G=q?sql` offset ${q}`:void 0x0,H=sql`${v}select${w} ${x} from ${y}${z}${A}${D}${B}${E}${F}${G}`;if(s['length']>0x0)return this['buildSetOperations'](H,s);return H;}['buildSetOperations'](g,h){const [i,...j]=h;if(!i)throw new Error('Cannot\x20pass\x20undefined\x20values\x20to\x20any\x20set\x20operator');if(j['length']===0x0)return this['buildSetOperationQuery']({'leftSelect':g,'setOperator':i});return this['buildSetOperations'](this['buildSetOperationQuery']({'leftSelect':g,'setOperator':i}),j);}['buildSetOperationQuery']({leftSelect:g,setOperator:{type:h,isAll:j,rightSelect:k,limit:l,orderBy:m,offset:n}}){const o=sql`${g['getSQL']()} `,p=sql`${k['getSQL']()}`;let q;if(m&&m['length']>0x0){const u=[];for(const v of m){if(is(v,SQLiteColumn))u['push'](sql['identifier'](v['name']));else{if(is(v,SQL)){for(let w=0x0;w<v['queryChunks']['length'];w++){const x=v['queryChunks'][w];is(x,SQLiteColumn)&&(v['queryChunks'][w]=sql['identifier'](this['casing']['getColumnCasing'](x)));}u['push'](sql`${v}`);}else u['push'](sql`${v}`);}}q=sql` order by ${sql['join'](u,sql`, `)}`;}const r=typeof l==='object'||typeof l==='number'&&l>=0x0?sql` limit ${l}`:void 0x0,s=sql['raw'](h+'\x20'+(j?'all\x20':'')),t=n?sql` offset ${n}`:void 0x0;return sql`${o}${s}${p}${q}${r}${t}`;}['buildInsertQuery']({table:g,values:h,onConflict:i,returning:j,withList:k,select:l}){const m=[],n=g[Table['Symbol']['Columns']],o=Object['entries'](n)['filter'](([u,v])=>!v['shouldDisableInsert']()),p=o['map'](([,u])=>sql['identifier'](this['casing']['getColumnCasing'](u)));if(l){const u=h;is(u,SQL)?m['push'](u):m['push'](u['getSQL']());}else{const v=h;m['push'](sql['raw']('values\x20'));for(const [w,x]of v['entries']()){const y=[];for(const [z,A]of o){const B=x[z];if(B===void 0x0||is(B,Param)&&B['value']===void 0x0){let C;if(A['default']!==null&&A['default']!==void 0x0)C=is(A['default'],SQL)?A['default']:sql['param'](A['default'],A);else{if(A['defaultFn']!==void 0x0){const D=A['defaultFn']();C=is(D,SQL)?D:sql['param'](D,A);}else{if(!A['default']&&A['onUpdateFn']!==void 0x0){const E=A['onUpdateFn']();C=is(E,SQL)?E:sql['param'](E,A);}else C=sql`null`;}}y['push'](C);}else y['push'](B);}m['push'](y),w<v['length']-0x1&&m['push'](sql`, `);}}const q=this['buildWithCTE'](k),r=sql['join'](m),s=j?sql` returning ${this['buildSelection'](j,{'isSingleTable':!![]})}`:void 0x0,t=i?.['length']?sql['join'](i):void 0x0;return sql`${q}insert into ${g} ${p} ${r}${t}${s}`;}['sqlToQuery'](g,h){return g['toQuery']({'casing':this['casing'],'escapeName':this['escapeName'],'escapeParam':this['escapeParam'],'escapeString':this['escapeString'],'invokeSource':h});}['buildRelationalQuery']({fullSchema:g,schema:h,tableNamesMap:i,table:j,tableConfig:k,queryConfig:l,tableAlias:m,nestedQueryRelation:n,joinOn:o}){let p=[],q,r,s=[],t;const u=[];if(l===!![]){const w=Object['entries'](k['columns']);p=w['map'](([x,y])=>({'dbKey':y['name'],'tsKey':x,'field':aliasedTableColumn(y,m),'relationTableTsKey':void 0x0,'isJson':![],'selection':[]}));}else{const x=Object['fromEntries'](Object['entries'](k['columns'])['map'](([D,E])=>[D,aliasedTableColumn(E,m)]));if(l['where']){const D=typeof l['where']==='function'?l['where'](x,getOperators()):l['where'];t=D&&mapColumnsInSQLToAlias(D,m);}const y=[];let z=[];if(l['columns']){let E=![];for(const [F,G]of Object['entries'](l['columns'])){if(G===void 0x0)continue;F in k['columns']&&(!E&&G===!![]&&(E=!![]),z['push'](F));}z['length']>0x0&&(z=E?z['filter'](H=>l['columns']?.[H]===!![]):Object['keys'](k['columns'])['filter'](H=>!z['includes'](H)));}else z=Object['keys'](k['columns']);for(const H of z){const I=k['columns'][H];y['push']({'tsKey':H,'value':I});}let A=[];l['with']&&(A=Object['entries'](l['with'])['filter'](J=>!!J[0x1])['map'](([J,K])=>({'tsKey':J,'queryConfig':K,'relation':k['relations'][J]})));let B;if(l['extras']){B=typeof l['extras']==='function'?l['extras'](x,{'sql':sql}):l['extras'];for(const [J,K]of Object['entries'](B)){y['push']({'tsKey':J,'value':mapColumnsInAliasedSQLToAlias(K,m)});}}for(const {tsKey:L,value:M}of y){p['push']({'dbKey':is(M,SQL['Aliased'])?M['fieldAlias']:k['columns'][L]['name'],'tsKey':L,'field':is(M,Column)?aliasedTableColumn(M,m):M,'relationTableTsKey':void 0x0,'isJson':![],'selection':[]});}let C=typeof l['orderBy']==='function'?l['orderBy'](x,getOrderByOperators()):l['orderBy']??[];!Array['isArray'](C)&&(C=[C]);s=C['map'](N=>{if(is(N,Column))return aliasedTableColumn(N,m);return mapColumnsInSQLToAlias(N,m);}),q=l['limit'],r=l['offset'];for(const {tsKey:N,queryConfig:O,relation:P}of A){const Q=normalizeRelation(h,i,P),R=getTableUniqueName(P['referencedTable']),S=i[R],T=m+'_'+N,U=and(...Q['fields']['map']((X,Y)=>eq(aliasedTableColumn(Q['references'][Y],T),aliasedTableColumn(X,m)))),V=this['buildRelationalQuery']({'fullSchema':g,'schema':h,'tableNamesMap':i,'table':g[S],'tableConfig':h[S],'queryConfig':is(P,One)?O===!![]?{'limit':0x1}:{...O,'limit':0x1}:O,'tableAlias':T,'joinOn':U,'nestedQueryRelation':P}),W=sql`(${V['sql']})`['as'](N);p['push']({'dbKey':N,'tsKey':N,'field':W,'relationTableTsKey':S,'isJson':!![],'selection':V['selection']});}}if(p['length']===0x0)throw new DrizzleError({'message':'No\x20fields\x20selected\x20for\x20table\x20\x22'+k['tsName']+'\x22\x20(\x22'+m+'\x22).\x20You\x20need\x20to\x20have\x20at\x20least\x20one\x20item\x20in\x20\x22columns\x22,\x20\x22with\x22\x20or\x20\x22extras\x22.\x20If\x20you\x20need\x20to\x20select\x20all\x20columns,\x20omit\x20the\x20\x22columns\x22\x20key\x20or\x20set\x20it\x20to\x20undefined.'});let v;t=and(o,t);if(n){let X=sql`json_array(${sql['join'](p['map'](({field:a0})=>is(a0,SQLiteColumn)?sql['identifier'](this['casing']['getColumnCasing'](a0)):is(a0,SQL['Aliased'])?a0['sql']:a0),sql`, `)})`;is(n,Many)&&(X=sql`coalesce(json_group_array(${X}), json_array())`);const Y=[{'dbKey':'data','tsKey':'data','field':X['as']('data'),'isJson':!![],'relationTableTsKey':k['tsName'],'selection':p}],Z=q!==void 0x0||r!==void 0x0||s['length']>0x0;Z?(v=this['buildSelectQuery']({'table':aliasedTable(j,m),'fields':{},'fieldsFlat':[{'path':[],'field':sql['raw']('*')}],'where':t,'limit':q,'offset':r,'orderBy':s,'setOperators':[]}),t=void 0x0,q=void 0x0,r=void 0x0,s=void 0x0):v=aliasedTable(j,m),v=this['buildSelectQuery']({'table':is(v,SQLiteTable)?v:new Subquery(v,{},m),'fields':{},'fieldsFlat':Y['map'](({field:a0})=>({'path':[],'field':is(a0,Column)?aliasedTableColumn(a0,m):a0})),'joins':u,'where':t,'limit':q,'offset':r,'orderBy':s,'setOperators':[]});}else v=this['buildSelectQuery']({'table':aliasedTable(j,m),'fields':{},'fieldsFlat':p['map'](({field:a0})=>({'path':[],'field':is(a0,Column)?aliasedTableColumn(a0,m):a0})),'joins':u,'where':t,'limit':q,'offset':r,'orderBy':s,'setOperators':[]});return{'tableTsKey':k['tsName'],'sql':v,'selection':p};}},SQLiteSyncDialect=class extends SQLiteDialect{static{__name(this,'SQLiteSyncDialect');}static [entityKind]='SQLiteSyncDialect';['migrate'](g,h,i){const j=i===void 0x0?'__drizzle_migrations':typeof i==='string'?'__drizzle_migrations':i['migrationsTable']??'__drizzle_migrations',k=sql`
			CREATE TABLE IF NOT EXISTS ${sql['identifier'](j)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;h['run'](k);const l=h['values'](sql`SELECT id, hash, created_at FROM ${sql['identifier'](j)} ORDER BY created_at DESC LIMIT 1`),m=l[0x0]??void 0x0;h['run'](sql`BEGIN`);try{for(const n of g){if(!m||Number(m[0x2])<n['folderMillis']){for(const o of n['sql']){h['run'](sql['raw'](o));}h['run'](sql`INSERT INTO ${sql['identifier'](j)} ("hash", "created_at") VALUES(${n['hash']}, ${n['folderMillis']})`);}}h['run'](sql`COMMIT`);}catch(p){h['run'](sql`ROLLBACK`);throw p;}}},SQLiteAsyncDialect=class extends SQLiteDialect{static{__name(this,'SQLiteAsyncDialect');}static [entityKind]='SQLiteAsyncDialect';async['migrate'](g,h,i){const j=i===void 0x0?'__drizzle_migrations':typeof i==='string'?'__drizzle_migrations':i['migrationsTable']??'__drizzle_migrations',k=sql`
			CREATE TABLE IF NOT EXISTS ${sql['identifier'](j)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await h['run'](k);const l=await h['values'](sql`SELECT id, hash, created_at FROM ${sql['identifier'](j)} ORDER BY created_at DESC LIMIT 1`),m=l[0x0]??void 0x0;await h['transaction'](async n=>{for(const o of g){if(!m||Number(m[0x2])<o['folderMillis']){for(const p of o['sql']){await n['run'](sql['raw'](p));}await n['run'](sql`INSERT INTO ${sql['identifier'](j)} ("hash", "created_at") VALUES(${o['hash']}, ${o['folderMillis']})`);}}});}},TypedQueryBuilder=class{static{__name(this,'TypedQueryBuilder');}static [entityKind]='TypedQueryBuilder';['getSelectedFields'](){return this['_']['selectedFields'];}},SQLiteSelectBuilder=class{static{__name(this,'SQLiteSelectBuilder');}static [entityKind]='SQLiteSelectBuilder';['fields'];['session'];['dialect'];['withList'];['distinct'];constructor(g){this['fields']=g['fields'],this['session']=g['session'],this['dialect']=g['dialect'],this['withList']=g['withList'],this['distinct']=g['distinct'];}['from'](g){const h=!!this['fields'];let i;if(this['fields'])i=this['fields'];else{if(is(g,Subquery))i=Object['fromEntries'](Object['keys'](g['_']['selectedFields'])['map'](j=>[j,g[j]]));else{if(is(g,SQLiteViewBase))i=g[ViewBaseConfig]['selectedFields'];else is(g,SQL)?i={}:i=getTableColumns(g);}}return new SQLiteSelectBase({'table':g,'fields':i,'isPartialSelect':h,'session':this['session'],'dialect':this['dialect'],'withList':this['withList'],'distinct':this['distinct']});}},SQLiteSelectQueryBuilderBase=class extends TypedQueryBuilder{static{__name(this,'SQLiteSelectQueryBuilderBase');}static [entityKind]='SQLiteSelectQueryBuilder';['_'];['config'];['joinsNotNullableMap'];['tableName'];['isPartialSelect'];['session'];['dialect'];['cacheConfig']=void 0x0;['usedTables']=new Set();constructor({table:g,fields:h,isPartialSelect:i,session:j,dialect:k,withList:l,distinct:m}){super(),this['config']={'withList':l,'table':g,'fields':{...h},'distinct':m,'setOperators':[]},this['isPartialSelect']=i,this['session']=j,this['dialect']=k,this['_']={'selectedFields':h,'config':this['config']},this['tableName']=getTableLikeName(g),this['joinsNotNullableMap']=typeof this['tableName']==='string'?{[this['tableName']]:!![]}:{};for(const n of extractUsedTable(g))this['usedTables']['add'](n);}['getUsedTables'](){return[...this['usedTables']];}['createJoin'](g){return(h,i)=>{const j=this['tableName'],k=getTableLikeName(h);for(const l of extractUsedTable(h))this['usedTables']['add'](l);if(typeof k==='string'&&this['config']['joins']?.['some'](m=>m['alias']===k))throw new Error('Alias\x20\x22'+k+'\x22\x20is\x20already\x20used\x20in\x20this\x20query');if(!this['isPartialSelect']){Object['keys'](this['joinsNotNullableMap'])['length']===0x1&&typeof j==='string'&&(this['config']['fields']={[j]:this['config']['fields']});if(typeof k==='string'&&!is(h,SQL)){const m=is(h,Subquery)?h['_']['selectedFields']:is(h,View)?h[ViewBaseConfig]['selectedFields']:h[Table['Symbol']['Columns']];this['config']['fields'][k]=m;}}typeof i==='function'&&(i=i(new Proxy(this['config']['fields'],new SelectionProxyHandler({'sqlAliasedBehavior':'sql','sqlBehavior':'sql'}))));!this['config']['joins']&&(this['config']['joins']=[]);this['config']['joins']['push']({'on':i,'table':h,'joinType':g,'alias':k});if(typeof k==='string')switch(g){case'left':{this['joinsNotNullableMap'][k]=![];break;}case'right':{this['joinsNotNullableMap']=Object['fromEntries'](Object['entries'](this['joinsNotNullableMap'])['map'](([n])=>[n,![]])),this['joinsNotNullableMap'][k]=!![];break;}case'cross':case'inner':{this['joinsNotNullableMap'][k]=!![];break;}case'full':{this['joinsNotNullableMap']=Object['fromEntries'](Object['entries'](this['joinsNotNullableMap'])['map'](([n])=>[n,![]])),this['joinsNotNullableMap'][k]=![];break;}}return this;};}['leftJoin']=this['createJoin']('left');['rightJoin']=this['createJoin']('right');['innerJoin']=this['createJoin']('inner');['fullJoin']=this['createJoin']('full');['crossJoin']=this['createJoin']('cross');['createSetOperator'](g,h){return i=>{const j=typeof i==='function'?i(getSQLiteSetOperators()):i;if(!haveSameKeys(this['getSelectedFields'](),j['getSelectedFields']()))throw new Error('Set\x20operator\x20error\x20(union\x20/\x20intersect\x20/\x20except):\x20selected\x20fields\x20are\x20not\x20the\x20same\x20or\x20are\x20in\x20a\x20different\x20order');return this['config']['setOperators']['push']({'type':g,'isAll':h,'rightSelect':j}),this;};}['union']=this['createSetOperator']('union',![]);['unionAll']=this['createSetOperator']('union',!![]);['intersect']=this['createSetOperator']('intersect',![]);['except']=this['createSetOperator']('except',![]);['addSetOperators'](g){return this['config']['setOperators']['push'](...g),this;}['where'](g){return typeof g==='function'&&(g=g(new Proxy(this['config']['fields'],new SelectionProxyHandler({'sqlAliasedBehavior':'sql','sqlBehavior':'sql'})))),this['config']['where']=g,this;}['having'](g){return typeof g==='function'&&(g=g(new Proxy(this['config']['fields'],new SelectionProxyHandler({'sqlAliasedBehavior':'sql','sqlBehavior':'sql'})))),this['config']['having']=g,this;}['groupBy'](...g){if(typeof g[0x0]==='function'){const h=g[0x0](new Proxy(this['config']['fields'],new SelectionProxyHandler({'sqlAliasedBehavior':'alias','sqlBehavior':'sql'})));this['config']['groupBy']=Array['isArray'](h)?h:[h];}else this['config']['groupBy']=g;return this;}['orderBy'](...g){if(typeof g[0x0]==='function'){const h=g[0x0](new Proxy(this['config']['fields'],new SelectionProxyHandler({'sqlAliasedBehavior':'alias','sqlBehavior':'sql'}))),i=Array['isArray'](h)?h:[h];this['config']['setOperators']['length']>0x0?this['config']['setOperators']['at'](-0x1)['orderBy']=i:this['config']['orderBy']=i;}else{const j=g;this['config']['setOperators']['length']>0x0?this['config']['setOperators']['at'](-0x1)['orderBy']=j:this['config']['orderBy']=j;}return this;}['limit'](g){return this['config']['setOperators']['length']>0x0?this['config']['setOperators']['at'](-0x1)['limit']=g:this['config']['limit']=g,this;}['offset'](g){return this['config']['setOperators']['length']>0x0?this['config']['setOperators']['at'](-0x1)['offset']=g:this['config']['offset']=g,this;}['getSQL'](){return this['dialect']['buildSelectQuery'](this['config']);}['toSQL'](){const {typings:g,...h}=this['dialect']['sqlToQuery'](this['getSQL']());return h;}['as'](g){const h=[];h['push'](...extractUsedTable(this['config']['table']));if(this['config']['joins']){for(const i of this['config']['joins'])h['push'](...extractUsedTable(i['table']));}return new Proxy(new Subquery(this['getSQL'](),this['config']['fields'],g,![],[...new Set(h)]),new SelectionProxyHandler({'alias':g,'sqlAliasedBehavior':'alias','sqlBehavior':'error'}));}['getSelectedFields'](){return new Proxy(this['config']['fields'],new SelectionProxyHandler({'alias':this['tableName'],'sqlAliasedBehavior':'alias','sqlBehavior':'error'}));}['$dynamic'](){return this;}},SQLiteSelectBase=class extends SQLiteSelectQueryBuilderBase{static{__name(this,'SQLiteSelectBase');}static [entityKind]='SQLiteSelect';['_prepare'](g=!![]){if(!this['session'])throw new Error('Cannot\x20execute\x20a\x20query\x20on\x20a\x20query\x20builder.\x20Please\x20use\x20a\x20database\x20instance\x20instead.');const h=orderSelectedFields(this['config']['fields']),i=this['session'][g?'prepareOneTimeQuery':'prepareQuery'](this['dialect']['sqlToQuery'](this['getSQL']()),h,'all',!![],void 0x0,{'type':'select','tables':[...this['usedTables']]},this['cacheConfig']);return i['joinsNotNullableMap']=this['joinsNotNullableMap'],i;}['$withCache'](g){return this['cacheConfig']=g===void 0x0?{'config':{},'enable':!![],'autoInvalidate':!![]}:g===![]?{'enable':![]}:{'enable':!![],'autoInvalidate':!![],...g},this;}['prepare'](){return this['_prepare'](![]);}['run']=__name(placeholderValues=>{return this['_prepare']()['run'](placeholderValues);},'run');['all']=__name(placeholderValues=>{return this['_prepare']()['all'](placeholderValues);},'all');['get']=__name(placeholderValues=>{return this['_prepare']()['get'](placeholderValues);},'get');['values']=__name(placeholderValues=>{return this['_prepare']()['values'](placeholderValues);},'values');async['execute'](){return this['all']();}},applyMixins(SQLiteSelectBase,[QueryPromise]),__name(createSetOperator,'createSetOperator'),getSQLiteSetOperators=__name(()=>({'union':union,'unionAll':unionAll,'intersect':intersect,'except':except}),'getSQLiteSetOperators'),union=createSetOperator('union',![]),unionAll=createSetOperator('union',!![]),intersect=createSetOperator('intersect',![]),except=createSetOperator('except',![]),QueryBuilder=class{static{__name(this,'QueryBuilder');}static [entityKind]='SQLiteQueryBuilder';['dialect'];['dialectConfig'];constructor(g){this['dialect']=is(g,SQLiteDialect)?g:void 0x0,this['dialectConfig']=is(g,SQLiteDialect)?void 0x0:g;}['$with']=__name((alias,selection)=>{const queryBuilder=this,as=__name(qb=>{return typeof qb==='function'&&(qb=qb(queryBuilder)),new Proxy(new WithSubquery(qb['getSQL'](),selection??('getSelectedFields'in qb?qb['getSelectedFields']()??{}:{}),alias,!![]),new SelectionProxyHandler({'alias':alias,'sqlAliasedBehavior':'alias','sqlBehavior':'error'}));},'as');return{'as':as};},'$with');['with'](...g){const h=this;function i(k){return new SQLiteSelectBuilder({'fields':k??void 0x0,'session':void 0x0,'dialect':h['getDialect'](),'withList':g});}__name(i,'select');function j(k){return new SQLiteSelectBuilder({'fields':k??void 0x0,'session':void 0x0,'dialect':h['getDialect'](),'withList':g,'distinct':!![]});}return __name(j,'selectDistinct'),{'select':i,'selectDistinct':j};}['select'](g){return new SQLiteSelectBuilder({'fields':g??void 0x0,'session':void 0x0,'dialect':this['getDialect']()});}['selectDistinct'](g){return new SQLiteSelectBuilder({'fields':g??void 0x0,'session':void 0x0,'dialect':this['getDialect'](),'distinct':!![]});}['getDialect'](){return!this['dialect']&&(this['dialect']=new SQLiteSyncDialect(this['dialectConfig'])),this['dialect'];}},SQLiteInsertBuilder=class{static{__name(this,'SQLiteInsertBuilder');}constructor(g,h,i,j){this['table']=g,this['session']=h,this['dialect']=i,this['withList']=j;}static [entityKind]='SQLiteInsertBuilder';['values'](g){g=Array['isArray'](g)?g:[g];if(g['length']===0x0)throw new Error('values()\x20must\x20be\x20called\x20with\x20at\x20least\x20one\x20value');const h=g['map'](i=>{const j={},k=this['table'][Table['Symbol']['Columns']];for(const l of Object['keys'](i)){const m=i[l];j[l]=is(m,SQL)?m:new Param(m,k[l]);}return j;});return new SQLiteInsertBase(this['table'],h,this['session'],this['dialect'],this['withList']);}['select'](g){const h=typeof g==='function'?g(new QueryBuilder()):g;if(!is(h,SQL)&&!haveSameKeys(this['table'][Columns],h['_']['selectedFields']))throw new Error('Insert\x20select\x20error:\x20selected\x20fields\x20are\x20not\x20the\x20same\x20or\x20are\x20in\x20a\x20different\x20order\x20compared\x20to\x20the\x20table\x20definition');return new SQLiteInsertBase(this['table'],h,this['session'],this['dialect'],this['withList'],!![]);}},SQLiteInsertBase=class extends QueryPromise{static{__name(this,'SQLiteInsertBase');}constructor(g,h,i,j,k,l){super(),this['session']=i,this['dialect']=j,this['config']={'table':g,'values':h,'withList':k,'select':l};}static [entityKind]='SQLiteInsert';['config'];['returning'](g=this['config']['table'][SQLiteTable['Symbol']['Columns']]){return this['config']['returning']=orderSelectedFields(g),this;}['onConflictDoNothing'](g={}){if(!this['config']['onConflict'])this['config']['onConflict']=[];if(g['target']===void 0x0)this['config']['onConflict']['push'](sql` on conflict do nothing`);else{const h=Array['isArray'](g['target'])?sql`${g['target']}`:sql`${[g['target']]}`,i=g['where']?sql` where ${g['where']}`:sql``;this['config']['onConflict']['push'](sql` on conflict ${h} do nothing${i}`);}return this;}['onConflictDoUpdate'](g){if(g['where']&&(g['targetWhere']||g['setWhere']))throw new Error('You\x20cannot\x20use\x20both\x20\x22where\x22\x20and\x20\x22targetWhere\x22/\x22setWhere\x22\x20at\x20the\x20same\x20time\x20-\x20\x22where\x22\x20is\x20deprecated,\x20use\x20\x22targetWhere\x22\x20or\x20\x22setWhere\x22\x20instead.');if(!this['config']['onConflict'])this['config']['onConflict']=[];const h=g['where']?sql` where ${g['where']}`:void 0x0,i=g['targetWhere']?sql` where ${g['targetWhere']}`:void 0x0,j=g['setWhere']?sql` where ${g['setWhere']}`:void 0x0,k=Array['isArray'](g['target'])?sql`${g['target']}`:sql`${[g['target']]}`,l=this['dialect']['buildUpdateSet'](this['config']['table'],mapUpdateSet(this['config']['table'],g['set']));return this['config']['onConflict']['push'](sql` on conflict ${k}${i} do update set ${l}${h}${j}`),this;}['getSQL'](){return this['dialect']['buildInsertQuery'](this['config']);}['toSQL'](){const {typings:g,...h}=this['dialect']['sqlToQuery'](this['getSQL']());return h;}['_prepare'](g=!![]){return this['session'][g?'prepareOneTimeQuery':'prepareQuery'](this['dialect']['sqlToQuery'](this['getSQL']()),this['config']['returning'],this['config']['returning']?'all':'run',!![],void 0x0,{'type':'insert','tables':extractUsedTable(this['config']['table'])});}['prepare'](){return this['_prepare'](![]);}['run']=__name(placeholderValues=>{return this['_prepare']()['run'](placeholderValues);},'run');['all']=__name(placeholderValues=>{return this['_prepare']()['all'](placeholderValues);},'all');['get']=__name(placeholderValues=>{return this['_prepare']()['get'](placeholderValues);},'get');['values']=__name(placeholderValues=>{return this['_prepare']()['values'](placeholderValues);},'values');async['execute'](){return this['config']['returning']?this['all']():this['run']();}['$dynamic'](){return this;}},SQLiteUpdateBuilder=class{static{__name(this,'SQLiteUpdateBuilder');}constructor(g,h,i,j){this['table']=g,this['session']=h,this['dialect']=i,this['withList']=j;}static [entityKind]='SQLiteUpdateBuilder';['set'](g){return new SQLiteUpdateBase(this['table'],mapUpdateSet(this['table'],g),this['session'],this['dialect'],this['withList']);}},SQLiteUpdateBase=class extends QueryPromise{static{__name(this,'SQLiteUpdateBase');}constructor(g,h,i,j,k){super(),this['session']=i,this['dialect']=j,this['config']={'set':h,'table':g,'withList':k,'joins':[]};}static [entityKind]='SQLiteUpdate';['config'];['from'](g){return this['config']['from']=g,this;}['createJoin'](g){return(h,i)=>{const j=getTableLikeName(h);if(typeof j==='string'&&this['config']['joins']['some'](k=>k['alias']===j))throw new Error('Alias\x20\x22'+j+'\x22\x20is\x20already\x20used\x20in\x20this\x20query');if(typeof i==='function'){const k=this['config']['from']?is(h,SQLiteTable)?h[Table['Symbol']['Columns']]:is(h,Subquery)?h['_']['selectedFields']:is(h,SQLiteViewBase)?h[ViewBaseConfig]['selectedFields']:void 0x0:void 0x0;i=i(new Proxy(this['config']['table'][Table['Symbol']['Columns']],new SelectionProxyHandler({'sqlAliasedBehavior':'sql','sqlBehavior':'sql'})),k&&new Proxy(k,new SelectionProxyHandler({'sqlAliasedBehavior':'sql','sqlBehavior':'sql'})));}return this['config']['joins']['push']({'on':i,'table':h,'joinType':g,'alias':j}),this;};}['leftJoin']=this['createJoin']('left');['rightJoin']=this['createJoin']('right');['innerJoin']=this['createJoin']('inner');['fullJoin']=this['createJoin']('full');['where'](g){return this['config']['where']=g,this;}['orderBy'](...g){if(typeof g[0x0]==='function'){const h=g[0x0](new Proxy(this['config']['table'][Table['Symbol']['Columns']],new SelectionProxyHandler({'sqlAliasedBehavior':'alias','sqlBehavior':'sql'}))),i=Array['isArray'](h)?h:[h];this['config']['orderBy']=i;}else{const j=g;this['config']['orderBy']=j;}return this;}['limit'](g){return this['config']['limit']=g,this;}['returning'](g=this['config']['table'][SQLiteTable['Symbol']['Columns']]){return this['config']['returning']=orderSelectedFields(g),this;}['getSQL'](){return this['dialect']['buildUpdateQuery'](this['config']);}['toSQL'](){const {typings:g,...h}=this['dialect']['sqlToQuery'](this['getSQL']());return h;}['_prepare'](g=!![]){return this['session'][g?'prepareOneTimeQuery':'prepareQuery'](this['dialect']['sqlToQuery'](this['getSQL']()),this['config']['returning'],this['config']['returning']?'all':'run',!![],void 0x0,{'type':'insert','tables':extractUsedTable(this['config']['table'])});}['prepare'](){return this['_prepare'](![]);}['run']=__name(placeholderValues=>{return this['_prepare']()['run'](placeholderValues);},'run');['all']=__name(placeholderValues=>{return this['_prepare']()['all'](placeholderValues);},'all');['get']=__name(placeholderValues=>{return this['_prepare']()['get'](placeholderValues);},'get');['values']=__name(placeholderValues=>{return this['_prepare']()['values'](placeholderValues);},'values');async['execute'](){return this['config']['returning']?this['all']():this['run']();}['$dynamic'](){return this;}},SQLiteCountBuilder=class g extends SQL{static{__name(this,'_SQLiteCountBuilder');}constructor(h){super(g['buildEmbeddedCount'](h['source'],h['filters'])['queryChunks']),this['params']=h,this['session']=h['session'],this['sql']=g['buildCount'](h['source'],h['filters']);}['sql'];static [entityKind]='SQLiteCountBuilderAsync';[Symbol['toStringTag']]='SQLiteCountBuilderAsync';['session'];static['buildEmbeddedCount'](h,i){return sql`(select count(*) from ${h}${sql['raw']('\x20where\x20')['if'](i)}${i})`;}static['buildCount'](h,i){return sql`select count(*) from ${h}${sql['raw']('\x20where\x20')['if'](i)}${i}`;}['then'](h,i){return Promise['resolve'](this['session']['count'](this['sql']))['then'](h,i);}['catch'](h){return this['then'](void 0x0,h);}['finally'](h){return this['then'](i=>{return h?.(),i;},i=>{h?.();throw i;});}},RelationalQueryBuilder=class{static{__name(this,'RelationalQueryBuilder');}constructor(h,i,j,k,l,m,n,o){this['mode']=h,this['fullSchema']=i,this['schema']=j,this['tableNamesMap']=k,this['table']=l,this['tableConfig']=m,this['dialect']=n,this['session']=o;}static [entityKind]='SQLiteAsyncRelationalQueryBuilder';['findMany'](h){return this['mode']==='sync'?new SQLiteSyncRelationalQuery(this['fullSchema'],this['schema'],this['tableNamesMap'],this['table'],this['tableConfig'],this['dialect'],this['session'],h?h:{},'many'):new SQLiteRelationalQuery(this['fullSchema'],this['schema'],this['tableNamesMap'],this['table'],this['tableConfig'],this['dialect'],this['session'],h?h:{},'many');}['findFirst'](h){return this['mode']==='sync'?new SQLiteSyncRelationalQuery(this['fullSchema'],this['schema'],this['tableNamesMap'],this['table'],this['tableConfig'],this['dialect'],this['session'],h?{...h,'limit':0x1}:{'limit':0x1},'first'):new SQLiteRelationalQuery(this['fullSchema'],this['schema'],this['tableNamesMap'],this['table'],this['tableConfig'],this['dialect'],this['session'],h?{...h,'limit':0x1}:{'limit':0x1},'first');}},SQLiteRelationalQuery=class extends QueryPromise{static{__name(this,'SQLiteRelationalQuery');}constructor(h,i,j,k,l,m,n,o,p){super(),this['fullSchema']=h,this['schema']=i,this['tableNamesMap']=j,this['table']=k,this['tableConfig']=l,this['dialect']=m,this['session']=n,this['config']=o,this['mode']=p;}static [entityKind]='SQLiteAsyncRelationalQuery';['mode'];['getSQL'](){return this['dialect']['buildRelationalQuery']({'fullSchema':this['fullSchema'],'schema':this['schema'],'tableNamesMap':this['tableNamesMap'],'table':this['table'],'tableConfig':this['tableConfig'],'queryConfig':this['config'],'tableAlias':this['tableConfig']['tsName']})['sql'];}['_prepare'](h=![]){const {query:i,builtQuery:j}=this['_toSQL']();return this['session'][h?'prepareOneTimeQuery':'prepareQuery'](j,void 0x0,this['mode']==='first'?'get':'all',!![],(k,l)=>{const m=k['map'](n=>mapRelationalRow(this['schema'],this['tableConfig'],n,i['selection'],l));if(this['mode']==='first')return m[0x0];return m;});}['prepare'](){return this['_prepare'](![]);}['_toSQL'](){const h=this['dialect']['buildRelationalQuery']({'fullSchema':this['fullSchema'],'schema':this['schema'],'tableNamesMap':this['tableNamesMap'],'table':this['table'],'tableConfig':this['tableConfig'],'queryConfig':this['config'],'tableAlias':this['tableConfig']['tsName']}),i=this['dialect']['sqlToQuery'](h['sql']);return{'query':h,'builtQuery':i};}['toSQL'](){return this['_toSQL']()['builtQuery'];}['executeRaw'](){if(this['mode']==='first')return this['_prepare'](![])['get']();return this['_prepare'](![])['all']();}async['execute'](){return this['executeRaw']();}},SQLiteSyncRelationalQuery=class extends SQLiteRelationalQuery{static{__name(this,'SQLiteSyncRelationalQuery');}static [entityKind]='SQLiteSyncRelationalQuery';['sync'](){return this['executeRaw']();}},SQLiteRaw=class extends QueryPromise{static{__name(this,'SQLiteRaw');}constructor(h,i,j,k,l){super(),this['execute']=h,this['getSQL']=i,this['dialect']=k,this['mapBatchResult']=l,this['config']={'action':j};}static [entityKind]='SQLiteRaw';['config'];['getQuery'](){return{...this['dialect']['sqlToQuery'](this['getSQL']()),'method':this['config']['action']};}['mapResult'](h,i){return i?this['mapBatchResult'](h):h;}['_prepare'](){return this;}['isResponseInArrayMode'](){return![];}},BaseSQLiteDatabase=class{static{__name(this,'BaseSQLiteDatabase');}constructor(h,i,j,k){this['resultKind']=h,this['dialect']=i,this['session']=j,this['_']=k?{'schema':k['schema'],'fullSchema':k['fullSchema'],'tableNamesMap':k['tableNamesMap']}:{'schema':void 0x0,'fullSchema':{},'tableNamesMap':{}},this['query']={};const l=this['query'];if(this['_']['schema'])for(const [m,n]of Object['entries'](this['_']['schema'])){l[m]=new RelationalQueryBuilder(h,k['fullSchema'],this['_']['schema'],this['_']['tableNamesMap'],k['fullSchema'][m],n,i,j);}this['$cache']={'invalidate':__name(async o=>{},'invalidate')};}static [entityKind]='BaseSQLiteDatabase';['query'];['$with']=__name((alias,selection)=>{const self=this,as=__name(qb=>{return typeof qb==='function'&&(qb=qb(new QueryBuilder(self['dialect']))),new Proxy(new WithSubquery(qb['getSQL'](),selection??('getSelectedFields'in qb?qb['getSelectedFields']()??{}:{}),alias,!![]),new SelectionProxyHandler({'alias':alias,'sqlAliasedBehavior':'alias','sqlBehavior':'error'}));},'as');return{'as':as};},'$with');['$count'](h,i){return new SQLiteCountBuilder({'source':h,'filters':i,'session':this['session']});}['with'](...h){const i=this;function j(o){return new SQLiteSelectBuilder({'fields':o??void 0x0,'session':i['session'],'dialect':i['dialect'],'withList':h});}__name(j,'select');function k(o){return new SQLiteSelectBuilder({'fields':o??void 0x0,'session':i['session'],'dialect':i['dialect'],'withList':h,'distinct':!![]});}__name(k,'selectDistinct');function l(o){return new SQLiteUpdateBuilder(o,i['session'],i['dialect'],h);}__name(l,'update');function m(o){return new SQLiteInsertBuilder(o,i['session'],i['dialect'],h);}__name(m,'insert');function n(o){return new SQLiteDeleteBase(o,i['session'],i['dialect'],h);}return __name(n,'delete_'),{'select':j,'selectDistinct':k,'update':l,'insert':m,'delete':n};}['select'](h){return new SQLiteSelectBuilder({'fields':h??void 0x0,'session':this['session'],'dialect':this['dialect']});}['selectDistinct'](h){return new SQLiteSelectBuilder({'fields':h??void 0x0,'session':this['session'],'dialect':this['dialect'],'distinct':!![]});}['update'](h){return new SQLiteUpdateBuilder(h,this['session'],this['dialect']);}['$cache'];['insert'](h){return new SQLiteInsertBuilder(h,this['session'],this['dialect']);}['delete'](h){return new SQLiteDeleteBase(h,this['session'],this['dialect']);}['run'](h){const i=typeof h==='string'?sql['raw'](h):h['getSQL']();if(this['resultKind']==='async')return new SQLiteRaw(async()=>this['session']['run'](i),()=>i,'run',this['dialect'],this['session']['extractRawRunValueFromBatchResult']['bind'](this['session']));return this['session']['run'](i);}['all'](h){const i=typeof h==='string'?sql['raw'](h):h['getSQL']();if(this['resultKind']==='async')return new SQLiteRaw(async()=>this['session']['all'](i),()=>i,'all',this['dialect'],this['session']['extractRawAllValueFromBatchResult']['bind'](this['session']));return this['session']['all'](i);}['get'](h){const i=typeof h==='string'?sql['raw'](h):h['getSQL']();if(this['resultKind']==='async')return new SQLiteRaw(async()=>this['session']['get'](i),()=>i,'get',this['dialect'],this['session']['extractRawGetValueFromBatchResult']['bind'](this['session']));return this['session']['get'](i);}['values'](h){const i=typeof h==='string'?sql['raw'](h):h['getSQL']();if(this['resultKind']==='async')return new SQLiteRaw(async()=>this['session']['values'](i),()=>i,'values',this['dialect'],this['session']['extractRawValuesValueFromBatchResult']['bind'](this['session']));return this['session']['values'](i);}['transaction'](h,i){return this['session']['transaction'](h,i);}},Cache=class{static{__name(this,'Cache');}static [entityKind]='Cache';},NoopCache=class extends Cache{static{__name(this,'NoopCache');}['strategy'](){return'all';}static [entityKind]='NoopCache';async['get'](h){return void 0x0;}async['put'](h,i,j,k){}async['onMutate'](h){}},__name(hashQuery,'hashQuery'),ExecuteResultSync=class extends QueryPromise{static{__name(this,'ExecuteResultSync');}constructor(h){super(),this['resultCb']=h;}static [entityKind]='ExecuteResultSync';async['execute'](){return this['resultCb']();}['sync'](){return this['resultCb']();}},SQLitePreparedQuery=class{static{__name(this,'SQLitePreparedQuery');}constructor(h,i,j,k,l,m){this['mode']=h,this['executeMethod']=i,this['query']=j,this['cache']=k,this['queryMetadata']=l,this['cacheConfig']=m,k&&k['strategy']()==='all'&&m===void 0x0&&(this['cacheConfig']={'enable':!![],'autoInvalidate':!![]}),!this['cacheConfig']?.['enable']&&(this['cacheConfig']=void 0x0);}static [entityKind]='PreparedQuery';['joinsNotNullableMap'];async['queryWithCache'](h,i,j){if(this['cache']===void 0x0||is(this['cache'],NoopCache)||this['queryMetadata']===void 0x0)try{return await j();}catch(k){throw new DrizzleQueryError(h,i,k);}if(this['cacheConfig']&&!this['cacheConfig']['enable'])try{return await j();}catch(l){throw new DrizzleQueryError(h,i,l);}if((this['queryMetadata']['type']==='insert'||this['queryMetadata']['type']==='update'||this['queryMetadata']['type']==='delete')&&this['queryMetadata']['tables']['length']>0x0)try{const [m]=await Promise['all']([j(),this['cache']['onMutate']({'tables':this['queryMetadata']['tables']})]);return m;}catch(n){throw new DrizzleQueryError(h,i,n);}if(!this['cacheConfig'])try{return await j();}catch(o){throw new DrizzleQueryError(h,i,o);}if(this['queryMetadata']['type']==='select'){const p=await this['cache']['get'](this['cacheConfig']['tag']??await hashQuery(h,i),this['queryMetadata']['tables'],this['cacheConfig']['tag']!==void 0x0,this['cacheConfig']['autoInvalidate']);if(p===void 0x0){let q;try{q=await j();}catch(r){throw new DrizzleQueryError(h,i,r);}return await this['cache']['put'](this['cacheConfig']['tag']??await hashQuery(h,i),q,this['cacheConfig']['autoInvalidate']?this['queryMetadata']['tables']:[],this['cacheConfig']['tag']!==void 0x0,this['cacheConfig']['config']),q;}return p;}try{return await j();}catch(s){throw new DrizzleQueryError(h,i,s);}}['getQuery'](){return this['query'];}['mapRunResult'](h,i){return h;}['mapAllResult'](h,i){throw new Error('Not\x20implemented');}['mapGetResult'](h,i){throw new Error('Not\x20implemented');}['execute'](h){if(this['mode']==='async')return this[this['executeMethod']](h);return new ExecuteResultSync(()=>this[this['executeMethod']](h));}['mapResult'](h,i){switch(this['executeMethod']){case'run':{return this['mapRunResult'](h,i);}case'all':{return this['mapAllResult'](h,i);}case'get':{return this['mapGetResult'](h,i);}}}},SQLiteSession=class{static{__name(this,'SQLiteSession');}constructor(h){this['dialect']=h;}static [entityKind]='SQLiteSession';['prepareOneTimeQuery'](h,i,j,k,l,m,n){return this['prepareQuery'](h,i,j,k,l,m,n);}['run'](h){const i=this['dialect']['sqlToQuery'](h);try{return this['prepareOneTimeQuery'](i,void 0x0,'run',![])['run']();}catch(j){throw new DrizzleError({'cause':j,'message':'Failed\x20to\x20run\x20the\x20query\x20\x27'+i['sql']+'\x27'});}}['extractRawRunValueFromBatchResult'](h){return h;}['all'](h){return this['prepareOneTimeQuery'](this['dialect']['sqlToQuery'](h),void 0x0,'run',![])['all']();}['extractRawAllValueFromBatchResult'](h){throw new Error('Not\x20implemented');}['get'](h){return this['prepareOneTimeQuery'](this['dialect']['sqlToQuery'](h),void 0x0,'run',![])['get']();}['extractRawGetValueFromBatchResult'](h){throw new Error('Not\x20implemented');}['values'](h){return this['prepareOneTimeQuery'](this['dialect']['sqlToQuery'](h),void 0x0,'run',![])['values']();}async['count'](h){const i=await this['values'](h);return i[0x0][0x0];}['extractRawValuesValueFromBatchResult'](h){throw new Error('Not\x20implemented');}},SQLiteTransaction=class extends BaseSQLiteDatabase{static{__name(this,'SQLiteTransaction');}constructor(h,i,j,k,l=0x0){super(h,i,j,k),this['schema']=k,this['nestedIndex']=l;}static [entityKind]='SQLiteTransaction';['rollback'](){throw new TransactionRollbackError();}},SQLiteD1Session=class extends SQLiteSession{static{__name(this,'SQLiteD1Session');}constructor(h,i,j,k={}){super(i),this['client']=h,this['schema']=j,this['options']=k,this['logger']=k['logger']??new NoopLogger(),this['cache']=k['cache']??new NoopCache();}static [entityKind]='SQLiteD1Session';['logger'];['cache'];['prepareQuery'](h,i,j,k,l,m,n){const o=this['client']['prepare'](h['sql']);return new D1PreparedQuery(o,h,this['logger'],this['cache'],m,n,i,j,k,l);}async['batch'](h){const i=[],j=[];for(const l of h){const m=l['_prepare'](),n=m['getQuery']();i['push'](m);if(n['params']['length']>0x0)j['push'](m['stmt']['bind'](...n['params']));else{const o=m['getQuery']();j['push'](this['client']['prepare'](o['sql'])['bind'](...o['params']));}}const k=await this['client']['batch'](j);return k['map']((p,q)=>i[q]['mapResult'](p,!![]));}['extractRawAllValueFromBatchResult'](h){return h['results'];}['extractRawGetValueFromBatchResult'](h){return h['results'][0x0];}['extractRawValuesValueFromBatchResult'](h){return d1ToRawMapping(h['results']);}async['transaction'](h,i){const j=new D1Transaction('async',this['dialect'],this,this['schema']);await this['run'](sql['raw']('begin'+(i?.['behavior']?'\x20'+i['behavior']:'')));try{const k=await h(j);return await this['run'](sql`commit`),k;}catch(l){await this['run'](sql`rollback`);throw l;}}},D1Transaction=class h extends SQLiteTransaction{static{__name(this,'_D1Transaction');}static [entityKind]='D1Transaction';async['transaction'](i){const j='sp'+this['nestedIndex'],k=new h('async',this['dialect'],this['session'],this['schema'],this['nestedIndex']+0x1);await this['session']['run'](sql['raw']('savepoint\x20'+j));try{const l=await i(k);return await this['session']['run'](sql['raw']('release\x20savepoint\x20'+j)),l;}catch(m){await this['session']['run'](sql['raw']('rollback\x20to\x20savepoint\x20'+j));throw m;}}},__name(d1ToRawMapping,'d1ToRawMapping'),D1PreparedQuery=class extends SQLitePreparedQuery{static{__name(this,'D1PreparedQuery');}constructor(i,j,k,l,m,n,o,p,q,r){super('async',p,j,l,m,n),this['logger']=k,this['_isResponseInArrayMode']=q,this['customResultMapper']=r,this['fields']=o,this['stmt']=i;}static [entityKind]='D1PreparedQuery';['customResultMapper'];['fields'];['stmt'];async['run'](i){const j=fillPlaceholders(this['query']['params'],i??{});return this['logger']['logQuery'](this['query']['sql'],j),await this['queryWithCache'](this['query']['sql'],j,async()=>{return this['stmt']['bind'](...j)['run']();});}async['all'](i){const {fields:j,query:k,logger:l,stmt:m,customResultMapper:n}=this;if(!j&&!n){const p=fillPlaceholders(k['params'],i??{});return l['logQuery'](k['sql'],p),await this['queryWithCache'](k['sql'],p,async()=>{return m['bind'](...p)['all']()['then'](({results:q})=>this['mapAllResult'](q));});}const o=await this['values'](i);return this['mapAllResult'](o);}['mapAllResult'](i,j){j&&(i=d1ToRawMapping(i['results']));if(!this['fields']&&!this['customResultMapper'])return i;if(this['customResultMapper'])return this['customResultMapper'](i);return i['map'](k=>mapResultRow(this['fields'],k,this['joinsNotNullableMap']));}async['get'](i){const {fields:j,joinsNotNullableMap:k,query:l,logger:m,stmt:n,customResultMapper:o}=this;if(!j&&!o){const q=fillPlaceholders(l['params'],i??{});return m['logQuery'](l['sql'],q),await this['queryWithCache'](l['sql'],q,async()=>{return n['bind'](...q)['all']()['then'](({results:r})=>r[0x0]);});}const p=await this['values'](i);if(!p[0x0])return void 0x0;if(o)return o(p);return mapResultRow(j,p[0x0],k);}['mapGetResult'](i,j){j&&(i=d1ToRawMapping(i['results'])[0x0]);if(!this['fields']&&!this['customResultMapper'])return i;if(this['customResultMapper'])return this['customResultMapper']([i]);return mapResultRow(this['fields'],i,this['joinsNotNullableMap']);}async['values'](i){const j=fillPlaceholders(this['query']['params'],i??{});return this['logger']['logQuery'](this['query']['sql'],j),await this['queryWithCache'](this['query']['sql'],j,async()=>{return this['stmt']['bind'](...j)['raw']();});}['isResponseInArrayMode'](){return this['_isResponseInArrayMode'];}},DrizzleD1Database=class extends BaseSQLiteDatabase{static{__name(this,'DrizzleD1Database');}static [entityKind]='D1Database';async['batch'](i){return this['session']['batch'](i);}},__name(drizzle,'drizzle'),DOM_RENDERER=Symbol('RENDERER'),DOM_ERROR_HANDLER=Symbol('ERROR_HANDLER'),DOM_STASH=Symbol('STASH'),DOM_INTERNAL_TAG=Symbol('INTERNAL'),DOM_MEMO=Symbol('MEMO'),PERMALINK=Symbol('PERMALINK'),setInternalTagFlag=__name(i=>{;return i[DOM_INTERNAL_TAG]=!![],i;},'setInternalTagFlag'),createContextProviderFunction=__name(i=>({value:j,children:k})=>{if(!k)return void 0x0;const l={'children':[{'tag':setInternalTagFlag(()=>{i['push'](j);}),'props':{}}]};Array['isArray'](k)?l['children']['push'](...k['flat']()):l['children']['push'](k);l['children']['push']({'tag':setInternalTagFlag(()=>{i['pop']();}),'props':{}});const m={'tag':'','props':l,'type':''};return m[DOM_ERROR_HANDLER]=n=>{i['pop']();throw n;},m;},'createContextProviderFunction'),globalContexts=[],createContext=__name(i=>{const j=[i],k=__name(l=>{j['push'](l['value']);let m;try{m=l['children']?(Array['isArray'](l['children'])?new JSXFragmentNode('',{},l['children']):l['children'])['toString']():'';}finally{j['pop']();}return m instanceof Promise?m['then'](n=>raw(n,n['callbacks'])):raw(m);},'context');return k['values']=j,k['Provider']=k,k[DOM_RENDERER]=createContextProviderFunction(j),globalContexts['push'](k),k;},'createContext'),useContext=__name(i=>{return i['values']['at'](-0x1);},'useContext'),deDupeKeyMap={'title':[],'script':['src'],'style':['data-href'],'link':['href'],'meta':['name','httpEquiv','charset','itemProp']},domRenderers={},dataPrecedenceAttr='data-precedence',components_exports={},__export2(components_exports,{'button':__name(()=>button,'button'),'form':__name(()=>form,'form'),'input':__name(()=>input,'input'),'link':__name(()=>link,'link'),'meta':__name(()=>meta,'meta'),'script':__name(()=>script,'script'),'style':__name(()=>style,'style'),'title':__name(()=>title,'title')}),toArray=__name(i=>Array['isArray'](i)?i:[i],'toArray'),metaTagMap=new WeakMap(),insertIntoHead=__name((i,j,k,l)=>({buffer:m,context:n})=>{if(!m)return;const o=metaTagMap['get'](n)||{};metaTagMap['set'](n,o);const p=o[i]||=[];let q=![];const r=deDupeKeyMap[i];if(r['length']>0x0){x:for(const [,s]of p){for(const t of r){if((s?.[t]??null)===k?.[t]){q=!![];break x;}}}}if(q)m[0x0]=m[0x0]['replaceAll'](j,'');else r['length']>0x0?p['push']([j,k,l]):p['unshift']([j,k,l]);if(m[0x0]['indexOf']('</head>')!==-0x1){let u;if(l===void 0x0)u=p['map'](([v])=>v);else{const v=[];u=p['map'](([w,,x])=>{let y=v['indexOf'](x);return y===-0x1&&(v['push'](x),y=v['length']-0x1),[w,y];})['sort']((w,x)=>w[0x1]-x[0x1])['map'](([w])=>w);}u['forEach'](w=>{m[0x0]=m[0x0]['replaceAll'](w,'');}),m[0x0]=m[0x0]['replace'](/(?=<\/head>)/,u['join'](''));}},'insertIntoHead'),returnWithoutSpecialBehavior=__name((i,j,k)=>raw(new JSXNode(i,k,toArray(j??[]))['toString']()),'returnWithoutSpecialBehavior'),documentMetadataTag=__name((i,j,k,l)=>{if('itemProp'in k)return returnWithoutSpecialBehavior(i,j,k);let {precedence:m,blocking:n,...o}=k;m=l?m??'':void 0x0;l&&(o[dataPrecedenceAttr]=m);const p=new JSXNode(i,o,toArray(j||[]))['toString']();return p instanceof Promise?p['then'](q=>raw(p,[...q['callbacks']||[],insertIntoHead(i,q,o,m)])):raw(p,[insertIntoHead(i,p,o,m)]);},'documentMetadataTag'),title=__name(({children:i,...j})=>{const k=getNameSpaceContext();if(k){const l=useContext(k);if(l==='svg'||l==='head')return new JSXNode('title',j,toArray(i??[]));}return documentMetadataTag('title',i,j,![]);},'title'),script=__name(({children:i,...j})=>{const k=getNameSpaceContext();if(['src','async']['some'](l=>!j[l])||k&&useContext(k)==='head')return returnWithoutSpecialBehavior('script',i,j);return documentMetadataTag('script',i,j,![]);},'script'),style=__name(({children:i,...j})=>{if(!['href','precedence']['every'](l=>l in j))return returnWithoutSpecialBehavior('style',i,j);return j['data-href']=j['href'],delete j['href'],documentMetadataTag('style',i,j,!![]);},'style'),link=__name(({children:i,...j})=>{if(['onLoad','onError']['some'](l=>l in j)||j['rel']==='stylesheet'&&(!('precedence'in j)||'disabled'in j))return returnWithoutSpecialBehavior('link',i,j);return documentMetadataTag('link',i,j,'precedence'in j);},'link'),meta=__name(({children:i,...j})=>{const k=getNameSpaceContext();if(k&&useContext(k)==='head')return returnWithoutSpecialBehavior('meta',i,j);return documentMetadataTag('meta',i,j,![]);},'meta'),newJSXNode=__name((i,{children:j,...k})=>new JSXNode(i,k,toArray(j??[])),'newJSXNode'),form=__name(i=>{return typeof i['action']==='function'&&(i['action']=PERMALINK in i['action']?i['action'][PERMALINK]:void 0x0),newJSXNode('form',i);},'form'),formActionableElement=__name((i,j)=>{return typeof j['formAction']==='function'&&(j['formAction']=PERMALINK in j['formAction']?j['formAction'][PERMALINK]:void 0x0),newJSXNode(i,j);},'formActionableElement'),input=__name(i=>formActionableElement('input',i),'input'),button=__name(i=>formActionableElement('button',i),'button'),normalizeElementKeyMap=new Map([['className','class'],['htmlFor','for'],['crossOrigin','crossorigin'],['httpEquiv','http-equiv'],['itemProp','itemprop'],['fetchPriority','fetchpriority'],['noModule','nomodule'],['formAction','formaction']]),normalizeIntrinsicElementKey=__name(i=>normalizeElementKeyMap['get'](i)||i,'normalizeIntrinsicElementKey'),styleObjectForEach=__name((i,j)=>{for(const [l,m]of Object['entries'](i)){const n=l[0x0]==='-'||!/[A-Z]/['test'](l)?l:l['replace'](/[A-Z]/g,o=>'-'+o['toLowerCase']());j(n,m==null?null:typeof m==='number'?!n['match'](/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?m+'px':''+m:m);}},'styleObjectForEach'),nameSpaceContext=void 0x0,getNameSpaceContext=__name(()=>nameSpaceContext,'getNameSpaceContext'),toSVGAttributeName=__name(i=>/[A-Z]/['test'](i)&&i['match'](/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?i['replace'](/([A-Z])/g,'-$1')['toLowerCase']():i,'toSVGAttributeName'),emptyTags=['area','base','br','col','embed','hr','img','input','keygen','link','meta','param','source','track','wbr'],booleanAttributes=['allowfullscreen','async','autofocus','autoplay','checked','controls','default','defer','disabled','download','formnovalidate','hidden','inert','ismap','itemscope','loop','multiple','muted','nomodule','novalidate','open','playsinline','readonly','required','reversed','selected'],childrenToStringToBuffer=__name((j,k)=>{for(let l=0x0,m=j['length'];l<m;l++){const n=j[l];if(typeof n==='string')escapeToBuffer(n,k);else{if(typeof n==='boolean'||n===null||n===void 0x0)continue;else{if(n instanceof JSXNode)n['toStringToBuffer'](k);else{if(typeof n==='number'||n['isEscaped']){;k[0x0]+=n;}else n instanceof Promise?k['unshift']('',n):childrenToStringToBuffer(n,k);}}}}},'childrenToStringToBuffer'),JSXNode=class{static{__name(this,'JSXNode');}['tag'];['props'];['key'];['children'];['isEscaped']=!![];['localContexts'];constructor(i,j,k){this['tag']=i,this['props']=j,this['children']=k;}get['type'](){return this['tag'];}get['ref'](){return this['props']['ref']||null;}['toString'](){const i=[''];this['localContexts']?.['forEach'](([j,k])=>{j['values']['push'](k);});try{this['toStringToBuffer'](i);}finally{this['localContexts']?.['forEach'](([j])=>{j['values']['pop']();});}return i['length']===0x1?'callbacks'in i?resolveCallbackSync(raw(i[0x0],i['callbacks']))['toString']():i[0x0]:stringBufferToString(i,i['callbacks']);}['toStringToBuffer'](i){const j=this['tag'],k=this['props'];let {children:l}=this;i[0x0]+='<'+j;const m=nameSpaceContext&&useContext(nameSpaceContext)==='svg'?n=>toSVGAttributeName(normalizeIntrinsicElementKey(n)):n=>normalizeIntrinsicElementKey(n);for(let [n,o]of Object['entries'](k)){n=m(n);if(n==='children'){}else{if(n==='style'&&typeof o==='object'){let p='';styleObjectForEach(o,(q,r)=>{r!=null&&(p+=''+(p?';':'')+q+':'+r);}),i[0x0]+='\x20style=\x22',escapeToBuffer(p,i),i[0x0]+='\x22';}else{if(typeof o==='string')i[0x0]+='\x20'+n+'=\x22',escapeToBuffer(o,i),i[0x0]+='\x22';else{if(o===null||o===void 0x0){}else{if(typeof o==='number'||o['isEscaped'])i[0x0]+='\x20'+n+'=\x22'+o+'\x22';else{if(typeof o==='boolean'&&booleanAttributes['includes'](n))o&&(i[0x0]+='\x20'+n+'=\x22\x22');else{if(n==='dangerouslySetInnerHTML'){if(l['length']>0x0)throw new Error('Can\x20only\x20set\x20one\x20of\x20`children`\x20or\x20`props.dangerouslySetInnerHTML`.');l=[raw(o['__html'])];}else{if(o instanceof Promise)i[0x0]+='\x20'+n+'=\x22',i['unshift']('\x22',o);else{if(typeof o==='function'){if(!n['startsWith']('on')&&n!=='ref')throw new Error('Invalid\x20prop\x20\x27'+n+'\x27\x20of\x20type\x20\x27function\x27\x20supplied\x20to\x20\x27'+j+'\x27.');}else i[0x0]+='\x20'+n+'=\x22',escapeToBuffer(o['toString'](),i),i[0x0]+='\x22';}}}}}}}}}if(emptyTags['includes'](j)&&l['length']===0x0){i[0x0]+='/>';return;}i[0x0]+='>',childrenToStringToBuffer(l,i),i[0x0]+='</'+j+'>';}},JSXFunctionNode=class extends JSXNode{static{__name(this,'JSXFunctionNode');}['toStringToBuffer'](i){const {children:j}=this,k={...this['props']};j['length']&&(k['children']=j['length']===0x1?j[0x0]:j);const l=this['tag']['call'](null,k);if(typeof l==='boolean'||l==null)return;else{if(l instanceof Promise){if(globalContexts['length']===0x0)i['unshift']('',l);else{const m=globalContexts['map'](n=>[n,n['values']['at'](-0x1)]);i['unshift']('',l['then'](n=>{return n instanceof JSXNode&&(n['localContexts']=m),n;}));}}else{if(l instanceof JSXNode)l['toStringToBuffer'](i);else typeof l==='number'||l['isEscaped']?(i[0x0]+=l,l['callbacks']&&(i['callbacks']||=[],i['callbacks']['push'](...l['callbacks']))):escapeToBuffer(l,i);}}}},JSXFragmentNode=class extends JSXNode{static{__name(this,'JSXFragmentNode');}['toStringToBuffer'](i){childrenToStringToBuffer(this['children'],i);}},initDomRenderer=![],jsxFn=__name((i,j,l)=>{if(!initDomRenderer){for(const m in domRenderers){;components_exports[m][DOM_RENDERER]=domRenderers[m];}initDomRenderer=!![];}if(typeof i==='function')return new JSXFunctionNode(i,j,l);else{if(components_exports[i])return new JSXFunctionNode(components_exports[i],j,l);else return i==='svg'||i==='head'?(nameSpaceContext||=createContext(''),new JSXNode(i,j,[new JSXFunctionNode(nameSpaceContext,{'value':i},l)])):new JSXNode(i,j,l);}},'jsxFn'),__name(jsxDEV,'jsxDEV'),UserPanel=__name(({user:i})=>{const j=new Date(i['expirationDate']+'T'+i['expirationTime']+'Z')['toISOString']();return jsxDEV('html',{'children':[jsxDEV('head',{'children':[jsxDEV('title',{'children':'User\x20Panel'}),jsxDEV('script',{'src':'https://unpkg.com/htmx.org@1.9.12'}),jsxDEV('script',{'src':'https://unpkg.com/alpinejs@3.14.0','defer':!![]}),jsxDEV('link',{'href':'https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css','rel':'stylesheet'})]}),jsxDEV('body',{'class':'bg-gray-900\x20text-white\x20p-8','children':jsxDEV('div',{'class':'max-w-4xl\x20mx-auto','children':[jsxDEV('h1',{'class':'text-3xl\x20font-bold\x20mb-4','children':'VLESS\x20User\x20Panel'}),jsxDEV('div',{'class':'bg-gray-800\x20p-6\x20rounded-lg\x20shadow-lg','children':[jsxDEV('h2',{'class':'text-xl\x20font-semibold\x20mb-4','children':['Welcome,\x20',i['uuid']]}),jsxDEV('div',{'hx-get':'/api/user/'+i['uuid']+'/stats','hx-trigger':'every\x205s'}),jsxDEV('div',{'x-data':'{\x20qrCodeUrl:\x20\x27\x27\x20}','children':[jsxDEV('button',{...{'@click':'qrCodeUrl\x20=\x20`/api/qr?data=...`'},'class':'bg-blue-500\x20hover:bg-blue-700\x20text-white\x20font-bold\x20py-2\x20px-4\x20rounded','children':'Show\x20QR\x20Code'}),jsxDEV('template',{'x-if':'qrCodeUrl','children':jsxDEV('img',{...{':src':'qrCodeUrl'}})})]}),jsxDEV('div',{'x-data':'{\x20timeLeft:\x20\x27\x27\x20}','x-init':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20expiry\x20=\x20new\x20Date(\x27{expiryISO}\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setInterval(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20diff\x20=\x20expiry.getTime()\x20-\x20now.getTime();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(diff\x20<\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20timeLeft\x20=\x20\x27Expired\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20days\x20=\x20Math.floor(diff\x20/\x20(1000\x20*\x2060\x20*\x2060\x20*\x2024));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20Math.floor((diff\x20%\x20(1000\x20*\x2060\x20*\x2060\x20*\x2024))\x20/\x20(1000\x20*\x2060\x20*\x2060));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20Math.floor((diff\x20%\x20(1000\x20*\x2060\x20*\x2060))\x20/\x20(1000\x20*\x2060));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20Math.floor((diff\x20%\x20(1000\x20*\x2060))\x20/\x201000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20timeLeft\x20=\x20`${days}d\x20${hours}h\x20${minutes}m\x20${seconds}s`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x201000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','children':jsxDEV('p',{'children':['Time\x20Remaining:\x20',jsxDEV('span',{'x-text':'timeLeft'})]})})]})]})})]});},'UserPanel'),schema_exports={},__export2(schema_exports,{'adminSessions':__name(()=>adminSessions,'adminSessions'),'connectionEvents':__name(()=>connectionEvents,'connectionEvents'),'proxyHealth':__name(()=>proxyHealth,'proxyHealth'),'userIps':__name(()=>userIps,'userIps'),'users':__name(()=>users,'users')}),users=sqliteTable('users',{'uuid':text('uuid')['primaryKey'](),'createdAt':text('created_at')['default'](sql`(strftime('%Y-%m-%d %H:%M:%S', 'now'))`)['notNull'](),'expirationDate':text('expiration_date')['notNull'](),'expirationTime':text('expiration_time')['notNull'](),'notes':text('notes'),'trafficLimit':integer('traffic_limit'),'trafficUsed':integer('traffic_used')['default'](0x0),'ipLimit':integer('ip_limit')['default'](-0x1)}),userIps=sqliteTable('user_ips',{'uuid':text('uuid')['notNull']()['references'](()=>users['uuid'],{'onDelete':'cascade'}),'ip':text('ip')['notNull'](),'lastSeen':text('last_seen')['default'](sql`(strftime('%Y-%m-%d %H:%M:%S', 'now'))`)['notNull']()},i=>({'pk':primaryKey({'columns':[i['uuid'],i['ip']]})})),proxyHealth=sqliteTable('proxy_health',{'ipPort':text('ip_port')['primaryKey'](),'isHealthy':integer('is_healthy',{'mode':'boolean'})['notNull'](),'latencyMs':integer('latency_ms'),'lastCheck':integer('last_check',{'mode':'timestamp'})['notNull']()}),adminSessions=sqliteTable('admin_sessions',{'tokenHash':text('token_hash')['primaryKey'](),'expiresAt':integer('expires_at',{'mode':'timestamp'})['notNull']()}),connectionEvents=sqliteTable('connection_events',{'id':integer('id')['primaryKey']({'autoIncrement':!![]}),'timestamp':integer('timestamp',{'mode':'timestamp'})['default'](sql`(strftime('%Y-%m-%d %H:%M:%S', 'now'))`)['notNull'](),'uuid':text('uuid'),'ip':text('ip'),'country':text('country'),'status':text('status')}),getAllUsers=__name(async i=>{return await i['select']()['from'](users)['all']();},'getAllUsers'),getUserByUuid=__name(async(i,j)=>{return await i['select']()['from'](users)['where'](eq(users['uuid'],j))['get']();},'getUserByUuid'),createUser=__name(async(i,j)=>{await i['insert'](users)['values'](j)['run']();},'createUser'),updateUser=__name(async(i,j,k)=>{await i['update'](users)['set'](k)['where'](eq(users['uuid'],j))['run']();},'updateUser'),deleteUser=__name(async(i,j)=>{await i['delete'](users)['where'](eq(users['uuid'],j))['run']();},'deleteUser'),wasmReady=![],wasmModule=null,__name(initWasm,'initWasm'),__name(parseVlessHeader,'parseVlessHeader'),__name(parseVlessHeaderWithWasm,'parseVlessHeaderWithWasm'),vlessRouter=new Hono2(),vlessRouter['get']('/:uuid',async i=>{const j=i['req']['param']('uuid'),k=i['get']('db'),l=i['get']('analytics');try{const m=await getUserByUuid(k,j);if(!m)return i['text']('User\x20not\x20found',0x194);return l['track']('user_panel_visit',{'uuid':j}),i['html'](jsxDEV(UserPanel,{'user':m}));}catch(n){return console['error']('Error\x20fetching\x20user\x20for\x20panel:',n),l['error']({'message':'User\x20panel\x20fetch\x20failed','error':n}),i['text']('Internal\x20Server\x20Error',0x1f4);}}),vlessRouter['get']('/',async i=>{if(i['req']['header']('Upgrade')?.['toLowerCase']()==='websocket'){const j=new WebSocketPair(),k=j[0x0],l=j[0x1];l['accept']();const m=i['get']('db'),n=i['get']('analytics'),o=i['req']['header']('cf-connecting-ip')||'unknown';let p=0x0,q=null;const r=__name(async s=>{if(p>0x0)try{await m['update'](users)['set']({'trafficUsed':sql`${users['trafficUsed']} + ${p}`})['where'](eq(users['uuid'],s)),p=0x0;}catch(t){console['error']('Failed\x20to\x20update\x20usage\x20in\x20DB:',t),n['error']({'message':'DB\x20usage\x20update\x20failed','error':t});}},'updateUsage');return l['addEventListener']('message',async s=>{try{const t=new Uint8Array(s['data']),u=await parseVlessHeaderWithWasm(t,i['env']['VLESS_PARSER']),v=await getUserByUuid(m,u['uuid']);if(!v)throw new Error('Invalid\x20user');q=v['uuid'],i['executionCtx']['waitUntil'](r(v['uuid']));const w=connect({'hostname':u['address'],'port':u['port']}),x=new ReadableStream({'start'(B){w['readable']['pipeTo'](new WritableStream({'write'(C){p+=C['byteLength'],l['send'](C);},'close'(){l['close']();}}))['catch'](C=>{console['error']('Pipe\x20error:',C);});}}),y=new WritableStream({'write'(B){const C=w['writable']['getWriter']();C['write'](B)['catch'](D=>{console['error']('Write\x20error:',D);})['finally'](()=>{C['releaseLock']();});}}),z=t['slice'](u['raw_data_index']),A=y['getWriter']();await A['write'](z),A['releaseLock']();}catch(B){console['error']('WebSocket\x20Error:',B),n['error']({'message':'VLESS\x20WebSocket\x20processing\x20failed','error':B}),l['close'](0x3f3,'Processing\x20error');}}),l['addEventListener']('close',s=>{q&&i['executionCtx']['waitUntil'](r(q)),console['log']('WebSocket\x20closed',s['code'],s['reason']);}),new Response(null,{'status':0x65,'webSocket':k});}return i['text']('Welcome\x20to\x20the\x20VLESS\x20proxy.');}),AdminDashboard=__name(({users:i})=>{return jsxDEV('html',{'children':[jsxDEV('head',{'children':[jsxDEV('title',{'children':'Admin\x20Dashboard'}),jsxDEV('script',{'src':'https://unpkg.com/htmx.org@1.9.12'}),jsxDEV('script',{'src':'https://unpkg.com/alpinejs@3.14.0','defer':!![]}),jsxDEV('link',{'href':'https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css','rel':'stylesheet'})]}),jsxDEV('body',{'class':'bg-gray-900\x20text-white\x20p-8','children':jsxDEV('div',{'class':'max-w-6xl\x20mx-auto','children':[jsxDEV('h1',{'class':'text-3xl\x20font-bold\x20mb-4','children':'Admin\x20Dashboard'}),jsxDEV('div',{'class':'bg-gray-800\x20p-6\x20rounded-lg\x20shadow-lg','children':[jsxDEV('h2',{'class':'text-xl\x20font-semibold\x20mb-4','children':'Users'}),jsxDEV('div',{'hx-get':'/admin/users','hx-trigger':'every\x2060s','hx-swap':'outerHTML','children':jsxDEV('table',{'class':'min-w-full\x20divide-y\x20divide-gray-700','children':[jsxDEV('thead',{'class':'bg-gray-700','children':jsxDEV('tr',{'children':[jsxDEV('th',{'class':'px-6\x20py-3\x20text-left\x20text-xs\x20font-medium\x20text-gray-300\x20uppercase\x20tracking-wider','children':'UUID'}),jsxDEV('th',{'class':'px-6\x20py-3\x20text-left\x20text-xs\x20font-medium\x20text-gray-300\x20uppercase\x20tracking-wider','children':'Notes'}),jsxDEV('th',{'class':'px-6\x20py-3\x20text-left\x20text-xs\x20font-medium\x20text-gray-300\x20uppercase\x20tracking-wider','children':'Actions'})]})}),jsxDEV('tbody',{'class':'bg-gray-800\x20divide-y\x20divide-gray-700','children':i['map'](j=>jsxDEV('tr',{'children':[jsxDEV('td',{'class':'px-6\x20py-4\x20whitespace-nowrap','children':j['uuid']}),jsxDEV('td',{'class':'px-6\x20py-4\x20whitespace-nowrap','children':j['notes']}),jsxDEV('td',{'class':'px-6\x20py-4\x20whitespace-nowrap','children':[jsxDEV('button',{'class':'text-blue-400\x20hover:text-blue-600','children':'Edit'}),jsxDEV('button',{'hx-delete':'/admin/users/'+j['uuid'],'hx-confirm':'Are\x20you\x20sure?','class':'text-red-400\x20hover:text-red-600\x20ml-4','children':'Delete'})]})]},j['uuid']))})]})})]})]})})]});},'AdminDashboard'),validCookieNameRegEx=/^[\w!#$%&'*.^`|~+-]+$/,validCookieValueRegEx=/^[ !#-:<-[\]-~]*$/,parse=__name((i,j)=>{if(j&&i['indexOf'](j)===-0x1)return{};const k=i['trim']()['split'](';'),l={};for(let m of k){m=m['trim']();const n=m['indexOf']('=');if(n===-0x1)continue;const o=m['substring'](0x0,n)['trim']();if(j&&j!==o||!validCookieNameRegEx['test'](o))continue;let p=m['substring'](n+0x1)['trim']();p['startsWith']('\x22')&&p['endsWith']('\x22')&&(p=p['slice'](0x1,-0x1));if(validCookieValueRegEx['test'](p)){l[o]=p['indexOf']('%')!==-0x1?tryDecode(p,decodeURIComponent_):p;if(j)break;}}return l;},'parse'),getCookie=__name((i,j,k)=>{const l=i['req']['raw']['headers']['get']('Cookie');if(typeof j==='string'){if(!l)return void 0x0;let n=j;if(k==='secure')n='__Secure-'+j;else k==='host'&&(n='__Host-'+j);const o=parse(l,n);return o[n];}if(!l)return{};const m=parse(l);return m;},'getCookie'),bufferToFormData=__name((i,j)=>{const k=new Response(i,{'headers':{'Content-Type':j}});return k['formData']();},'bufferToFormData'),jsonRegex=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,multipartRegex=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,urlencodedRegex=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,validator=__name((i,j)=>{return async(k,l)=>{let m={};const n=k['req']['header']('Content-Type');switch(i){case'json':if(!n||!jsonRegex['test'](n))break;try{m=await k['req']['json']();}catch{const p='Malformed\x20JSON\x20in\x20request\x20body';throw new HTTPException(0x190,{'message':p});}break;case'form':{if(!n||!(multipartRegex['test'](n)||urlencodedRegex['test'](n)))break;let q;if(k['req']['bodyCache']['formData'])q=await k['req']['bodyCache']['formData'];else try{const s=await k['req']['arrayBuffer']();q=await bufferToFormData(s,n),k['req']['bodyCache']['formData']=q;}catch(t){let u='Malformed\x20FormData\x20request.';u+=t instanceof Error?'\x20'+t['message']:'\x20'+String(t);throw new HTTPException(0x190,{'message':u});}const r={};q['forEach']((v,w)=>{if(w['endsWith']('[]')){;(r[w]??=[])['push'](v);}else{if(Array['isArray'](r[w])){;r[w]['push'](v);}else w in r?r[w]=[r[w],v]:r[w]=v;}}),m=r;break;}case'query':m=Object['fromEntries'](Object['entries'](k['req']['queries']())['map'](([w,x])=>{return x['length']===0x1?[w,x[0x0]]:[w,x];}));break;case'param':m=k['req']['param']();break;case'header':m=k['req']['header']();break;case'cookie':m=getCookie(k);break;}const o=await j(m,k);if(o instanceof Response)return o;return k['req']['addValidatedData'](i,o),await l();};},'validator'),__name(zValidatorFunction,'zValidatorFunction'),zValidator=zValidatorFunction,external_exports={},__export2(external_exports,{'BRAND':__name(()=>BRAND,'BRAND'),'DIRTY':__name(()=>DIRTY,'DIRTY'),'EMPTY_PATH':__name(()=>EMPTY_PATH,'EMPTY_PATH'),'INVALID':__name(()=>INVALID,'INVALID'),'NEVER':__name(()=>NEVER,'NEVER'),'OK':__name(()=>OK,'OK'),'ParseStatus':__name(()=>ParseStatus,'ParseStatus'),'Schema':__name(()=>ZodType,'Schema'),'ZodAny':__name(()=>ZodAny,'ZodAny'),'ZodArray':__name(()=>ZodArray,'ZodArray'),'ZodBigInt':__name(()=>ZodBigInt,'ZodBigInt'),'ZodBoolean':__name(()=>ZodBoolean,'ZodBoolean'),'ZodBranded':__name(()=>ZodBranded,'ZodBranded'),'ZodCatch':__name(()=>ZodCatch,'ZodCatch'),'ZodDate':__name(()=>ZodDate,'ZodDate'),'ZodDefault':__name(()=>ZodDefault,'ZodDefault'),'ZodDiscriminatedUnion':__name(()=>ZodDiscriminatedUnion,'ZodDiscriminatedUnion'),'ZodEffects':__name(()=>ZodEffects,'ZodEffects'),'ZodEnum':__name(()=>ZodEnum,'ZodEnum'),'ZodError':__name(()=>ZodError,'ZodError'),'ZodFirstPartyTypeKind':__name(()=>ZodFirstPartyTypeKind,'ZodFirstPartyTypeKind'),'ZodFunction':__name(()=>ZodFunction,'ZodFunction'),'ZodIntersection':__name(()=>ZodIntersection,'ZodIntersection'),'ZodIssueCode':__name(()=>ZodIssueCode,'ZodIssueCode'),'ZodLazy':__name(()=>ZodLazy,'ZodLazy'),'ZodLiteral':__name(()=>ZodLiteral,'ZodLiteral'),'ZodMap':__name(()=>ZodMap,'ZodMap'),'ZodNaN':__name(()=>ZodNaN,'ZodNaN'),'ZodNativeEnum':__name(()=>ZodNativeEnum,'ZodNativeEnum'),'ZodNever':__name(()=>ZodNever,'ZodNever'),'ZodNull':__name(()=>ZodNull,'ZodNull'),'ZodNullable':__name(()=>ZodNullable,'ZodNullable'),'ZodNumber':__name(()=>ZodNumber,'ZodNumber'),'ZodObject':__name(()=>ZodObject,'ZodObject'),'ZodOptional':__name(()=>ZodOptional,'ZodOptional'),'ZodParsedType':__name(()=>ZodParsedType,'ZodParsedType'),'ZodPipeline':__name(()=>ZodPipeline,'ZodPipeline'),'ZodPromise':__name(()=>ZodPromise,'ZodPromise'),'ZodReadonly':__name(()=>ZodReadonly,'ZodReadonly'),'ZodRecord':__name(()=>ZodRecord,'ZodRecord'),'ZodSchema':__name(()=>ZodType,'ZodSchema'),'ZodSet':__name(()=>ZodSet,'ZodSet'),'ZodString':__name(()=>ZodString,'ZodString'),'ZodSymbol':__name(()=>ZodSymbol,'ZodSymbol'),'ZodTransformer':__name(()=>ZodEffects,'ZodTransformer'),'ZodTuple':__name(()=>ZodTuple,'ZodTuple'),'ZodType':__name(()=>ZodType,'ZodType'),'ZodUndefined':__name(()=>ZodUndefined,'ZodUndefined'),'ZodUnion':__name(()=>ZodUnion,'ZodUnion'),'ZodUnknown':__name(()=>ZodUnknown,'ZodUnknown'),'ZodVoid':__name(()=>ZodVoid,'ZodVoid'),'addIssueToContext':__name(()=>addIssueToContext,'addIssueToContext'),'any':__name(()=>anyType,'any'),'array':__name(()=>arrayType,'array'),'bigint':__name(()=>bigIntType,'bigint'),'boolean':__name(()=>booleanType,'boolean'),'coerce':__name(()=>coerce,'coerce'),'custom':__name(()=>custom,'custom'),'date':__name(()=>dateType,'date'),'datetimeRegex':__name(()=>datetimeRegex,'datetimeRegex'),'defaultErrorMap':__name(()=>en_default,'defaultErrorMap'),'discriminatedUnion':__name(()=>discriminatedUnionType,'discriminatedUnion'),'effect':__name(()=>effectsType,'effect'),'enum':__name(()=>enumType,'enum'),'function':__name(()=>functionType,'function'),'getErrorMap':__name(()=>getErrorMap,'getErrorMap'),'getParsedType':__name(()=>getParsedType,'getParsedType'),'instanceof':__name(()=>instanceOfType,'instanceof'),'intersection':__name(()=>intersectionType,'intersection'),'isAborted':__name(()=>isAborted,'isAborted'),'isAsync':__name(()=>isAsync,'isAsync'),'isDirty':__name(()=>isDirty,'isDirty'),'isValid':__name(()=>isValid,'isValid'),'late':__name(()=>late,'late'),'lazy':__name(()=>lazyType,'lazy'),'literal':__name(()=>literalType,'literal'),'makeIssue':__name(()=>makeIssue,'makeIssue'),'map':__name(()=>mapType,'map'),'nan':__name(()=>nanType,'nan'),'nativeEnum':__name(()=>nativeEnumType,'nativeEnum'),'never':__name(()=>neverType,'never'),'null':__name(()=>nullType,'null'),'nullable':__name(()=>nullableType,'nullable'),'number':__name(()=>numberType,'number'),'object':__name(()=>objectType,'object'),'objectUtil':__name(()=>objectUtil,'objectUtil'),'oboolean':__name(()=>oboolean,'oboolean'),'onumber':__name(()=>onumber,'onumber'),'optional':__name(()=>optionalType,'optional'),'ostring':__name(()=>ostring,'ostring'),'pipeline':__name(()=>pipelineType,'pipeline'),'preprocess':__name(()=>preprocessType,'preprocess'),'promise':__name(()=>promiseType,'promise'),'quotelessJson':__name(()=>quotelessJson,'quotelessJson'),'record':__name(()=>recordType,'record'),'set':__name(()=>setType,'set'),'setErrorMap':__name(()=>setErrorMap,'setErrorMap'),'strictObject':__name(()=>strictObjectType,'strictObject'),'string':__name(()=>stringType,'string'),'symbol':__name(()=>symbolType,'symbol'),'transformer':__name(()=>effectsType,'transformer'),'tuple':__name(()=>tupleType,'tuple'),'undefined':__name(()=>undefinedType,'undefined'),'union':__name(()=>unionType,'union'),'unknown':__name(()=>unknownType,'unknown'),'util':__name(()=>util,'util'),'void':__name(()=>voidType,'void')}),function(i){i['assertEqual']=m=>{};function j(m){}__name(j,'assertIs'),i['assertIs']=j;function k(m){throw new Error();}__name(k,'assertNever'),i['assertNever']=k,i['arrayToEnum']=m=>{const n={};for(const o of m){n[o]=o;}return n;},i['getValidEnumValues']=m=>{const n=i['objectKeys'](m)['filter'](p=>typeof m[m[p]]!=='number'),o={};for(const p of n){o[p]=m[p];}return i['objectValues'](o);},i['objectValues']=m=>{return i['objectKeys'](m)['map'](function(n){return m[n];});},i['objectKeys']=typeof Object['keys']==='function'?m=>Object['keys'](m):m=>{const n=[];for(const o in m){Object['prototype']['hasOwnProperty']['call'](m,o)&&n['push'](o);}return n;},i['find']=(m,n)=>{for(const o of m){if(n(o))return o;}return void 0x0;},i['isInteger']=typeof Number['isInteger']==='function'?m=>Number['isInteger'](m):m=>typeof m==='number'&&Number['isFinite'](m)&&Math['floor'](m)===m;function l(m,n='\x20|\x20'){return m['map'](o=>typeof o==='string'?'\x27'+o+'\x27':o)['join'](n);}__name(l,'joinValues'),i['joinValues']=l,i['jsonStringifyReplacer']=(m,n)=>{if(typeof n==='bigint')return n['toString']();return n;};}(util||(util={})),function(i){i['mergeShapes']=(j,k)=>{return{...j,...k};};}(objectUtil||(objectUtil={})),ZodParsedType=util['arrayToEnum'](['string','nan','number','integer','float','boolean','date','bigint','symbol','function','undefined','null','array','object','unknown','promise','void','never','map','set']),getParsedType=__name(i=>{const j=typeof i;switch(j){case'undefined':return ZodParsedType['undefined'];case'string':return ZodParsedType['string'];case'number':return Number['isNaN'](i)?ZodParsedType['nan']:ZodParsedType['number'];case'boolean':return ZodParsedType['boolean'];case'function':return ZodParsedType['function'];case'bigint':return ZodParsedType['bigint'];case'symbol':return ZodParsedType['symbol'];case'object':if(Array['isArray'](i))return ZodParsedType['array'];if(i===null)return ZodParsedType['null'];if(i['then']&&typeof i['then']==='function'&&i['catch']&&typeof i['catch']==='function')return ZodParsedType['promise'];if(typeof Map!=='undefined'&&i instanceof Map)return ZodParsedType['map'];if(typeof Set!=='undefined'&&i instanceof Set)return ZodParsedType['set'];if(typeof Date!=='undefined'&&i instanceof Date)return ZodParsedType['date'];return ZodParsedType['object'];default:return ZodParsedType['unknown'];}},'getParsedType'),ZodIssueCode=util['arrayToEnum'](['invalid_type','invalid_literal','custom','invalid_union','invalid_union_discriminator','invalid_enum_value','unrecognized_keys','invalid_arguments','invalid_return_type','invalid_date','invalid_string','too_small','too_big','invalid_intersection_types','not_multiple_of','not_finite']),quotelessJson=__name(i=>{const j=JSON['stringify'](i,null,0x2);return j['replace'](/"([^"]+)":/g,'$1:');},'quotelessJson'),ZodError=class i extends Error{static{__name(this,'_ZodError');}get['errors'](){return this['issues'];}constructor(j){super(),this['issues']=[],this['addIssue']=l=>{this['issues']=[...this['issues'],l];},this['addIssues']=(l=[])=>{this['issues']=[...this['issues'],...l];};const k=new.target['prototype'];Object['setPrototypeOf']?Object['setPrototypeOf'](this,k):this['__proto__']=k,this['name']='ZodError',this['issues']=j;}['format'](j){const k=j||function(n){return n['message'];},l={'_errors':[]},m=__name(n=>{for(const o of n['issues']){if(o['code']==='invalid_union')o['unionErrors']['map'](m);else{if(o['code']==='invalid_return_type')m(o['returnTypeError']);else{if(o['code']==='invalid_arguments')m(o['argumentsError']);else{if(o['path']['length']===0x0)l['_errors']['push'](k(o));else{let p=l,q=0x0;while(q<o['path']['length']){const r=o['path'][q],s=q===o['path']['length']-0x1;!s?p[r]=p[r]||{'_errors':[]}:(p[r]=p[r]||{'_errors':[]},p[r]['_errors']['push'](k(o))),p=p[r],q++;}}}}}}},'processError');return m(this),l;}static['assert'](j){if(!(j instanceof i))throw new Error('Not\x20a\x20ZodError:\x20'+j);}['toString'](){return this['message'];}get['message'](){return JSON['stringify'](this['issues'],util['jsonStringifyReplacer'],0x2);}get['isEmpty'](){return this['issues']['length']===0x0;}['flatten'](j=m=>m['message']){const k={},l=[];for(const m of this['issues']){if(m['path']['length']>0x0){const n=m['path'][0x0];k[n]=k[n]||[],k[n]['push'](j(m));}else l['push'](j(m));}return{'formErrors':l,'fieldErrors':k};}get['formErrors'](){return this['flatten']();}},ZodError['create']=j=>{const k=new ZodError(j);return k;},errorMap=__name((j,k)=>{let l;switch(j['code']){case ZodIssueCode['invalid_type']:j['received']===ZodParsedType['undefined']?l='Required':l='Expected\x20'+j['expected']+',\x20received\x20'+j['received'];break;case ZodIssueCode['invalid_literal']:l='Invalid\x20literal\x20value,\x20expected\x20'+JSON['stringify'](j['expected'],util['jsonStringifyReplacer']);break;case ZodIssueCode['unrecognized_keys']:l='Unrecognized\x20key(s)\x20in\x20object:\x20'+util['joinValues'](j['keys'],',\x20');break;case ZodIssueCode['invalid_union']:l='Invalid\x20input';break;case ZodIssueCode['invalid_union_discriminator']:l='Invalid\x20discriminator\x20value.\x20Expected\x20'+util['joinValues'](j['options']);break;case ZodIssueCode['invalid_enum_value']:l='Invalid\x20enum\x20value.\x20Expected\x20'+util['joinValues'](j['options'])+',\x20received\x20\x27'+j['received']+'\x27';break;case ZodIssueCode['invalid_arguments']:l='Invalid\x20function\x20arguments';break;case ZodIssueCode['invalid_return_type']:l='Invalid\x20function\x20return\x20type';break;case ZodIssueCode['invalid_date']:l='Invalid\x20date';break;case ZodIssueCode['invalid_string']:if(typeof j['validation']==='object'){if('includes'in j['validation'])l='Invalid\x20input:\x20must\x20include\x20\x22'+j['validation']['includes']+'\x22',typeof j['validation']['position']==='number'&&(l=l+'\x20at\x20one\x20or\x20more\x20positions\x20greater\x20than\x20or\x20equal\x20to\x20'+j['validation']['position']);else{if('startsWith'in j['validation'])l='Invalid\x20input:\x20must\x20start\x20with\x20\x22'+j['validation']['startsWith']+'\x22';else'endsWith'in j['validation']?l='Invalid\x20input:\x20must\x20end\x20with\x20\x22'+j['validation']['endsWith']+'\x22':util['assertNever'](j['validation']);}}else j['validation']!=='regex'?l='Invalid\x20'+j['validation']:l='Invalid';break;case ZodIssueCode['too_small']:if(j['type']==='array')l='Array\x20must\x20contain\x20'+(j['exact']?'exactly':j['inclusive']?'at\x20least':'more\x20than')+'\x20'+j['minimum']+'\x20element(s)';else{if(j['type']==='string')l='String\x20must\x20contain\x20'+(j['exact']?'exactly':j['inclusive']?'at\x20least':'over')+'\x20'+j['minimum']+'\x20character(s)';else{if(j['type']==='number')l='Number\x20must\x20be\x20'+(j['exact']?'exactly\x20equal\x20to\x20':j['inclusive']?'greater\x20than\x20or\x20equal\x20to\x20':'greater\x20than\x20')+j['minimum'];else{if(j['type']==='bigint')l='Number\x20must\x20be\x20'+(j['exact']?'exactly\x20equal\x20to\x20':j['inclusive']?'greater\x20than\x20or\x20equal\x20to\x20':'greater\x20than\x20')+j['minimum'];else{if(j['type']==='date')l='Date\x20must\x20be\x20'+(j['exact']?'exactly\x20equal\x20to\x20':j['inclusive']?'greater\x20than\x20or\x20equal\x20to\x20':'greater\x20than\x20')+new Date(Number(j['minimum']));else l='Invalid\x20input';}}}}break;case ZodIssueCode['too_big']:if(j['type']==='array')l='Array\x20must\x20contain\x20'+(j['exact']?'exactly':j['inclusive']?'at\x20most':'less\x20than')+'\x20'+j['maximum']+'\x20element(s)';else{if(j['type']==='string')l='String\x20must\x20contain\x20'+(j['exact']?'exactly':j['inclusive']?'at\x20most':'under')+'\x20'+j['maximum']+'\x20character(s)';else{if(j['type']==='number')l='Number\x20must\x20be\x20'+(j['exact']?'exactly':j['inclusive']?'less\x20than\x20or\x20equal\x20to':'less\x20than')+'\x20'+j['maximum'];else{if(j['type']==='bigint')l='BigInt\x20must\x20be\x20'+(j['exact']?'exactly':j['inclusive']?'less\x20than\x20or\x20equal\x20to':'less\x20than')+'\x20'+j['maximum'];else{if(j['type']==='date')l='Date\x20must\x20be\x20'+(j['exact']?'exactly':j['inclusive']?'smaller\x20than\x20or\x20equal\x20to':'smaller\x20than')+'\x20'+new Date(Number(j['maximum']));else l='Invalid\x20input';}}}}break;case ZodIssueCode['custom']:l='Invalid\x20input';break;case ZodIssueCode['invalid_intersection_types']:l='Intersection\x20results\x20could\x20not\x20be\x20merged';break;case ZodIssueCode['not_multiple_of']:l='Number\x20must\x20be\x20a\x20multiple\x20of\x20'+j['multipleOf'];break;case ZodIssueCode['not_finite']:l='Number\x20must\x20be\x20finite';break;default:l=k['defaultError'],util['assertNever'](j);}return{'message':l};},'errorMap'),en_default=errorMap,overrideErrorMap=en_default,__name(setErrorMap,'setErrorMap'),__name(getErrorMap,'getErrorMap'),makeIssue=__name(j=>{const {data:k,path:l,errorMaps:m,issueData:n}=j,o=[...l,...n['path']||[]],p={...n,'path':o};if(n['message']!==void 0x0)return{...n,'path':o,'message':n['message']};let q='';const r=m['filter'](s=>!!s)['slice']()['reverse']();for(const s of r){q=s(p,{'data':k,'defaultError':q})['message'];}return{...n,'path':o,'message':q};},'makeIssue'),EMPTY_PATH=[],__name(addIssueToContext,'addIssueToContext'),ParseStatus=class j{static{__name(this,'_ParseStatus');}constructor(){this['value']='valid';}['dirty'](){if(this['value']==='valid')this['value']='dirty';}['abort'](){if(this['value']!=='aborted')this['value']='aborted';}static['mergeArray'](k,l){const m=[];for(const n of l){if(n['status']==='aborted')return INVALID;if(n['status']==='dirty')k['dirty']();m['push'](n['value']);}return{'status':k['value'],'value':m};}static async['mergeObjectAsync'](k,l){const m=[];for(const n of l){const o=await n['key'],p=await n['value'];m['push']({'key':o,'value':p});}return j['mergeObjectSync'](k,m);}static['mergeObjectSync'](k,l){const m={};for(const n of l){const {key:o,value:p}=n;if(o['status']==='aborted')return INVALID;if(p['status']==='aborted')return INVALID;if(o['status']==='dirty')k['dirty']();if(p['status']==='dirty')k['dirty']();o['value']!=='__proto__'&&(typeof p['value']!=='undefined'||n['alwaysSet'])&&(m[o['value']]=p['value']);}return{'status':k['value'],'value':m};}},INVALID=Object['freeze']({'status':'aborted'}),DIRTY=__name(k=>({'status':'dirty','value':k}),'DIRTY'),OK=__name(k=>({'status':'valid','value':k}),'OK'),isAborted=__name(k=>k['status']==='aborted','isAborted'),isDirty=__name(k=>k['status']==='dirty','isDirty'),isValid=__name(k=>k['status']==='valid','isValid'),isAsync=__name(k=>typeof Promise!=='undefined'&&k instanceof Promise,'isAsync'),function(k){k['errToObj']=l=>typeof l==='string'?{'message':l}:l||{},k['toString']=l=>typeof l==='string'?l:l?.['message'];}(errorUtil||(errorUtil={})),ParseInputLazyPath=class{static{__name(this,'ParseInputLazyPath');}constructor(k,l,m,n){this['_cachedPath']=[],this['parent']=k,this['data']=l,this['_path']=m,this['_key']=n;}get['path'](){return!this['_cachedPath']['length']&&(Array['isArray'](this['_key'])?this['_cachedPath']['push'](...this['_path'],...this['_key']):this['_cachedPath']['push'](...this['_path'],this['_key'])),this['_cachedPath'];}},handleResult=__name((k,l)=>{if(isValid(l))return{'success':!![],'data':l['value']};else{if(!k['common']['issues']['length'])throw new Error('Validation\x20failed\x20but\x20no\x20issues\x20detected.');return{'success':![],get 'error'(){if(this['_error'])return this['_error'];const m=new ZodError(k['common']['issues']);return this['_error']=m,this['_error'];}};}},'handleResult'),__name(processCreateParams,'processCreateParams'),ZodType=class{static{__name(this,'ZodType');}get['description'](){return this['_def']['description'];}['_getType'](k){return getParsedType(k['data']);}['_getOrReturnCtx'](k,l){return l||{'common':k['parent']['common'],'data':k['data'],'parsedType':getParsedType(k['data']),'schemaErrorMap':this['_def']['errorMap'],'path':k['path'],'parent':k['parent']};}['_processInputParams'](k){return{'status':new ParseStatus(),'ctx':{'common':k['parent']['common'],'data':k['data'],'parsedType':getParsedType(k['data']),'schemaErrorMap':this['_def']['errorMap'],'path':k['path'],'parent':k['parent']}};}['_parseSync'](k){const l=this['_parse'](k);if(isAsync(l))throw new Error('Synchronous\x20parse\x20encountered\x20promise.');return l;}['_parseAsync'](k){const l=this['_parse'](k);return Promise['resolve'](l);}['parse'](k,l){const m=this['safeParse'](k,l);if(m['success'])return m['data'];throw m['error'];}['safeParse'](k,l){const m={'common':{'issues':[],'async':l?.['async']??![],'contextualErrorMap':l?.['errorMap']},'path':l?.['path']||[],'schemaErrorMap':this['_def']['errorMap'],'parent':null,'data':k,'parsedType':getParsedType(k)},n=this['_parseSync']({'data':k,'path':m['path'],'parent':m});return handleResult(m,n);}['~validate'](k){const l={'common':{'issues':[],'async':!!this['~standard']['async']},'path':[],'schemaErrorMap':this['_def']['errorMap'],'parent':null,'data':k,'parsedType':getParsedType(k)};if(!this['~standard']['async'])try{const m=this['_parseSync']({'data':k,'path':[],'parent':l});return isValid(m)?{'value':m['value']}:{'issues':l['common']['issues']};}catch(n){n?.['message']?.['toLowerCase']()?.['includes']('encountered')&&(this['~standard']['async']=!![]),l['common']={'issues':[],'async':!![]};}return this['_parseAsync']({'data':k,'path':[],'parent':l})['then'](o=>isValid(o)?{'value':o['value']}:{'issues':l['common']['issues']});}async['parseAsync'](k,l){const m=await this['safeParseAsync'](k,l);if(m['success'])return m['data'];throw m['error'];}async['safeParseAsync'](k,l){const m={'common':{'issues':[],'contextualErrorMap':l?.['errorMap'],'async':!![]},'path':l?.['path']||[],'schemaErrorMap':this['_def']['errorMap'],'parent':null,'data':k,'parsedType':getParsedType(k)},n=this['_parse']({'data':k,'path':m['path'],'parent':m}),o=await(isAsync(n)?n:Promise['resolve'](n));return handleResult(m,o);}['refine'](k,l){const m=__name(n=>{if(typeof l==='string'||typeof l==='undefined')return{'message':l};else return typeof l==='function'?l(n):l;},'getIssueProperties');return this['_refinement']((n,o)=>{const p=k(n),q=__name(()=>o['addIssue']({'code':ZodIssueCode['custom'],...m(n)}),'setError');if(typeof Promise!=='undefined'&&p instanceof Promise)return p['then'](r=>{return!r?(q(),![]):!![];});return!p?(q(),![]):!![];});}['refinement'](k,l){return this['_refinement']((m,n)=>{return!k(m)?(n['addIssue'](typeof l==='function'?l(m,n):l),![]):!![];});}['_refinement'](k){return new ZodEffects({'schema':this,'typeName':ZodFirstPartyTypeKind['ZodEffects'],'effect':{'type':'refinement','refinement':k}});}['superRefine'](k){return this['_refinement'](k);}constructor(k){this['spa']=this['safeParseAsync'],this['_def']=k,this['parse']=this['parse']['bind'](this),this['safeParse']=this['safeParse']['bind'](this),this['parseAsync']=this['parseAsync']['bind'](this),this['safeParseAsync']=this['safeParseAsync']['bind'](this),this['spa']=this['spa']['bind'](this),this['refine']=this['refine']['bind'](this),this['refinement']=this['refinement']['bind'](this),this['superRefine']=this['superRefine']['bind'](this),this['optional']=this['optional']['bind'](this),this['nullable']=this['nullable']['bind'](this),this['nullish']=this['nullish']['bind'](this),this['array']=this['array']['bind'](this),this['promise']=this['promise']['bind'](this),this['or']=this['or']['bind'](this),this['and']=this['and']['bind'](this),this['transform']=this['transform']['bind'](this),this['brand']=this['brand']['bind'](this),this['default']=this['default']['bind'](this),this['catch']=this['catch']['bind'](this),this['describe']=this['describe']['bind'](this),this['pipe']=this['pipe']['bind'](this),this['readonly']=this['readonly']['bind'](this),this['isNullable']=this['isNullable']['bind'](this),this['isOptional']=this['isOptional']['bind'](this),this['~standard']={'version':0x1,'vendor':'zod','validate':__name(l=>this['~validate'](l),'validate')};}['optional'](){return ZodOptional['create'](this,this['_def']);}['nullable'](){return ZodNullable['create'](this,this['_def']);}['nullish'](){return this['nullable']()['optional']();}['array'](){return ZodArray['create'](this);}['promise'](){return ZodPromise['create'](this,this['_def']);}['or'](k){return ZodUnion['create']([this,k],this['_def']);}['and'](k){return ZodIntersection['create'](this,k,this['_def']);}['transform'](k){return new ZodEffects({...processCreateParams(this['_def']),'schema':this,'typeName':ZodFirstPartyTypeKind['ZodEffects'],'effect':{'type':'transform','transform':k}});}['default'](k){const l=typeof k==='function'?k:()=>k;return new ZodDefault({...processCreateParams(this['_def']),'innerType':this,'defaultValue':l,'typeName':ZodFirstPartyTypeKind['ZodDefault']});}['brand'](){return new ZodBranded({'typeName':ZodFirstPartyTypeKind['ZodBranded'],'type':this,...processCreateParams(this['_def'])});}['catch'](k){const l=typeof k==='function'?k:()=>k;return new ZodCatch({...processCreateParams(this['_def']),'innerType':this,'catchValue':l,'typeName':ZodFirstPartyTypeKind['ZodCatch']});}['describe'](k){const l=this['constructor'];return new l({...this['_def'],'description':k});}['pipe'](k){return ZodPipeline['create'](this,k);}['readonly'](){return ZodReadonly['create'](this);}['isOptional'](){return this['safeParse'](void 0x0)['success'];}['isNullable'](){return this['safeParse'](null)['success'];}},cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex='^(\x5cp{Extended_Pictographic}|\x5cp{Emoji_Component})+$',ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource='((\x5cd\x5cd[2468][048]|\x5cd\x5cd[13579][26]|\x5cd\x5cd0[48]|[02468][048]00|[13579][26]00)-02-29|\x5cd{4}-((0[13578]|1[02])-(0[1-9]|[12]\x5cd|3[01])|(0[469]|11)-(0[1-9]|[12]\x5cd|30)|(02)-(0[1-9]|1\x5cd|2[0-8])))',dateRegex=new RegExp('^'+dateRegexSource+'$'),__name(timeRegexSource,'timeRegexSource'),__name(timeRegex,'timeRegex'),__name(datetimeRegex,'datetimeRegex'),__name(isValidIP,'isValidIP'),__name(isValidJWT,'isValidJWT'),__name(isValidCidr,'isValidCidr'),ZodString=class k extends ZodType{static{__name(this,'_ZodString');}['_parse'](l){this['_def']['coerce']&&(l['data']=String(l['data']));const m=this['_getType'](l);if(m!==ZodParsedType['string']){const p=this['_getOrReturnCtx'](l);return addIssueToContext(p,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['string'],'received':p['parsedType']}),INVALID;}const n=new ParseStatus();let o=void 0x0;for(const q of this['_def']['checks']){if(q['kind']==='min')l['data']['length']<q['value']&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'code':ZodIssueCode['too_small'],'minimum':q['value'],'type':'string','inclusive':!![],'exact':![],'message':q['message']}),n['dirty']());else{if(q['kind']==='max')l['data']['length']>q['value']&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'code':ZodIssueCode['too_big'],'maximum':q['value'],'type':'string','inclusive':!![],'exact':![],'message':q['message']}),n['dirty']());else{if(q['kind']==='length'){const r=l['data']['length']>q['value'],s=l['data']['length']<q['value'];if(r||s){o=this['_getOrReturnCtx'](l,o);if(r)addIssueToContext(o,{'code':ZodIssueCode['too_big'],'maximum':q['value'],'type':'string','inclusive':!![],'exact':!![],'message':q['message']});else s&&addIssueToContext(o,{'code':ZodIssueCode['too_small'],'minimum':q['value'],'type':'string','inclusive':!![],'exact':!![],'message':q['message']});n['dirty']();}}else{if(q['kind']==='email')!emailRegex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'email','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='emoji')!emojiRegex&&(emojiRegex=new RegExp(_emojiRegex,'u')),!emojiRegex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'emoji','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='uuid')!uuidRegex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'uuid','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='nanoid')!nanoidRegex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'nanoid','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='cuid')!cuidRegex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'cuid','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='cuid2')!cuid2Regex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'cuid2','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='ulid')!ulidRegex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'ulid','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='url')try{new URL(l['data']);}catch{o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'url','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']();}else{if(q['kind']==='regex'){q['regex']['lastIndex']=0x0;const t=q['regex']['test'](l['data']);!t&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'regex','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());}else{if(q['kind']==='trim')l['data']=l['data']['trim']();else{if(q['kind']==='includes')!l['data']['includes'](q['value'],q['position'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'code':ZodIssueCode['invalid_string'],'validation':{'includes':q['value'],'position':q['position']},'message':q['message']}),n['dirty']());else{if(q['kind']==='toLowerCase')l['data']=l['data']['toLowerCase']();else{if(q['kind']==='toUpperCase')l['data']=l['data']['toUpperCase']();else{if(q['kind']==='startsWith')!l['data']['startsWith'](q['value'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'code':ZodIssueCode['invalid_string'],'validation':{'startsWith':q['value']},'message':q['message']}),n['dirty']());else{if(q['kind']==='endsWith')!l['data']['endsWith'](q['value'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'code':ZodIssueCode['invalid_string'],'validation':{'endsWith':q['value']},'message':q['message']}),n['dirty']());else{if(q['kind']==='datetime'){const u=datetimeRegex(q);!u['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'code':ZodIssueCode['invalid_string'],'validation':'datetime','message':q['message']}),n['dirty']());}else{if(q['kind']==='date'){const v=dateRegex;!v['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'code':ZodIssueCode['invalid_string'],'validation':'date','message':q['message']}),n['dirty']());}else{if(q['kind']==='time'){const w=timeRegex(q);!w['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'code':ZodIssueCode['invalid_string'],'validation':'time','message':q['message']}),n['dirty']());}else{if(q['kind']==='duration')!durationRegex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'duration','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='ip')!isValidIP(l['data'],q['version'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'ip','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='jwt')!isValidJWT(l['data'],q['alg'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'jwt','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='cidr')!isValidCidr(l['data'],q['version'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'cidr','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else{if(q['kind']==='base64')!base64Regex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'base64','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']());else q['kind']==='base64url'?!base64urlRegex['test'](l['data'])&&(o=this['_getOrReturnCtx'](l,o),addIssueToContext(o,{'validation':'base64url','code':ZodIssueCode['invalid_string'],'message':q['message']}),n['dirty']()):util['assertNever'](q);}}}}}}}}}}}}}}}}}}}}}}}}}}return{'status':n['value'],'value':l['data']};}['_regex'](l,m,n){return this['refinement'](o=>l['test'](o),{'validation':m,'code':ZodIssueCode['invalid_string'],...errorUtil['errToObj'](n)});}['_addCheck'](l){return new k({...this['_def'],'checks':[...this['_def']['checks'],l]});}['email'](l){return this['_addCheck']({'kind':'email',...errorUtil['errToObj'](l)});}['url'](l){return this['_addCheck']({'kind':'url',...errorUtil['errToObj'](l)});}['emoji'](l){return this['_addCheck']({'kind':'emoji',...errorUtil['errToObj'](l)});}['uuid'](l){return this['_addCheck']({'kind':'uuid',...errorUtil['errToObj'](l)});}['nanoid'](l){return this['_addCheck']({'kind':'nanoid',...errorUtil['errToObj'](l)});}['cuid'](l){return this['_addCheck']({'kind':'cuid',...errorUtil['errToObj'](l)});}['cuid2'](l){return this['_addCheck']({'kind':'cuid2',...errorUtil['errToObj'](l)});}['ulid'](l){return this['_addCheck']({'kind':'ulid',...errorUtil['errToObj'](l)});}['base64'](l){return this['_addCheck']({'kind':'base64',...errorUtil['errToObj'](l)});}['base64url'](l){return this['_addCheck']({'kind':'base64url',...errorUtil['errToObj'](l)});}['jwt'](l){return this['_addCheck']({'kind':'jwt',...errorUtil['errToObj'](l)});}['ip'](l){return this['_addCheck']({'kind':'ip',...errorUtil['errToObj'](l)});}['cidr'](l){return this['_addCheck']({'kind':'cidr',...errorUtil['errToObj'](l)});}['datetime'](l){if(typeof l==='string')return this['_addCheck']({'kind':'datetime','precision':null,'offset':![],'local':![],'message':l});return this['_addCheck']({'kind':'datetime','precision':typeof l?.['precision']==='undefined'?null:l?.['precision'],'offset':l?.['offset']??![],'local':l?.['local']??![],...errorUtil['errToObj'](l?.['message'])});}['date'](l){return this['_addCheck']({'kind':'date','message':l});}['time'](l){if(typeof l==='string')return this['_addCheck']({'kind':'time','precision':null,'message':l});return this['_addCheck']({'kind':'time','precision':typeof l?.['precision']==='undefined'?null:l?.['precision'],...errorUtil['errToObj'](l?.['message'])});}['duration'](l){return this['_addCheck']({'kind':'duration',...errorUtil['errToObj'](l)});}['regex'](l,m){return this['_addCheck']({'kind':'regex','regex':l,...errorUtil['errToObj'](m)});}['includes'](l,m){return this['_addCheck']({'kind':'includes','value':l,'position':m?.['position'],...errorUtil['errToObj'](m?.['message'])});}['startsWith'](l,m){return this['_addCheck']({'kind':'startsWith','value':l,...errorUtil['errToObj'](m)});}['endsWith'](l,m){return this['_addCheck']({'kind':'endsWith','value':l,...errorUtil['errToObj'](m)});}['min'](l,m){return this['_addCheck']({'kind':'min','value':l,...errorUtil['errToObj'](m)});}['max'](l,m){return this['_addCheck']({'kind':'max','value':l,...errorUtil['errToObj'](m)});}['length'](l,m){return this['_addCheck']({'kind':'length','value':l,...errorUtil['errToObj'](m)});}['nonempty'](l){return this['min'](0x1,errorUtil['errToObj'](l));}['trim'](){return new k({...this['_def'],'checks':[...this['_def']['checks'],{'kind':'trim'}]});}['toLowerCase'](){return new k({...this['_def'],'checks':[...this['_def']['checks'],{'kind':'toLowerCase'}]});}['toUpperCase'](){return new k({...this['_def'],'checks':[...this['_def']['checks'],{'kind':'toUpperCase'}]});}get['isDatetime'](){return!!this['_def']['checks']['find'](l=>l['kind']==='datetime');}get['isDate'](){return!!this['_def']['checks']['find'](l=>l['kind']==='date');}get['isTime'](){return!!this['_def']['checks']['find'](l=>l['kind']==='time');}get['isDuration'](){return!!this['_def']['checks']['find'](l=>l['kind']==='duration');}get['isEmail'](){return!!this['_def']['checks']['find'](l=>l['kind']==='email');}get['isURL'](){return!!this['_def']['checks']['find'](l=>l['kind']==='url');}get['isEmoji'](){return!!this['_def']['checks']['find'](l=>l['kind']==='emoji');}get['isUUID'](){return!!this['_def']['checks']['find'](l=>l['kind']==='uuid');}get['isNANOID'](){return!!this['_def']['checks']['find'](l=>l['kind']==='nanoid');}get['isCUID'](){return!!this['_def']['checks']['find'](l=>l['kind']==='cuid');}get['isCUID2'](){return!!this['_def']['checks']['find'](l=>l['kind']==='cuid2');}get['isULID'](){return!!this['_def']['checks']['find'](l=>l['kind']==='ulid');}get['isIP'](){return!!this['_def']['checks']['find'](l=>l['kind']==='ip');}get['isCIDR'](){return!!this['_def']['checks']['find'](l=>l['kind']==='cidr');}get['isBase64'](){return!!this['_def']['checks']['find'](l=>l['kind']==='base64');}get['isBase64url'](){return!!this['_def']['checks']['find'](l=>l['kind']==='base64url');}get['minLength'](){let l=null;for(const m of this['_def']['checks']){if(m['kind']==='min'){if(l===null||m['value']>l)l=m['value'];}}return l;}get['maxLength'](){let l=null;for(const m of this['_def']['checks']){if(m['kind']==='max'){if(l===null||m['value']<l)l=m['value'];}}return l;}},ZodString['create']=l=>{return new ZodString({'checks':[],'typeName':ZodFirstPartyTypeKind['ZodString'],'coerce':l?.['coerce']??![],...processCreateParams(l)});},__name(floatSafeRemainder,'floatSafeRemainder'),ZodNumber=class l extends ZodType{static{__name(this,'_ZodNumber');}constructor(){super(...arguments),this['min']=this['gte'],this['max']=this['lte'],this['step']=this['multipleOf'];}['_parse'](m){this['_def']['coerce']&&(m['data']=Number(m['data']));const n=this['_getType'](m);if(n!==ZodParsedType['number']){const q=this['_getOrReturnCtx'](m);return addIssueToContext(q,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['number'],'received':q['parsedType']}),INVALID;}let o=void 0x0;const p=new ParseStatus();for(const r of this['_def']['checks']){if(r['kind']==='int')!util['isInteger'](m['data'])&&(o=this['_getOrReturnCtx'](m,o),addIssueToContext(o,{'code':ZodIssueCode['invalid_type'],'expected':'integer','received':'float','message':r['message']}),p['dirty']());else{if(r['kind']==='min'){const s=r['inclusive']?m['data']<r['value']:m['data']<=r['value'];s&&(o=this['_getOrReturnCtx'](m,o),addIssueToContext(o,{'code':ZodIssueCode['too_small'],'minimum':r['value'],'type':'number','inclusive':r['inclusive'],'exact':![],'message':r['message']}),p['dirty']());}else{if(r['kind']==='max'){const t=r['inclusive']?m['data']>r['value']:m['data']>=r['value'];t&&(o=this['_getOrReturnCtx'](m,o),addIssueToContext(o,{'code':ZodIssueCode['too_big'],'maximum':r['value'],'type':'number','inclusive':r['inclusive'],'exact':![],'message':r['message']}),p['dirty']());}else{if(r['kind']==='multipleOf')floatSafeRemainder(m['data'],r['value'])!==0x0&&(o=this['_getOrReturnCtx'](m,o),addIssueToContext(o,{'code':ZodIssueCode['not_multiple_of'],'multipleOf':r['value'],'message':r['message']}),p['dirty']());else r['kind']==='finite'?!Number['isFinite'](m['data'])&&(o=this['_getOrReturnCtx'](m,o),addIssueToContext(o,{'code':ZodIssueCode['not_finite'],'message':r['message']}),p['dirty']()):util['assertNever'](r);}}}}return{'status':p['value'],'value':m['data']};}['gte'](m,n){return this['setLimit']('min',m,!![],errorUtil['toString'](n));}['gt'](m,n){return this['setLimit']('min',m,![],errorUtil['toString'](n));}['lte'](m,n){return this['setLimit']('max',m,!![],errorUtil['toString'](n));}['lt'](m,n){return this['setLimit']('max',m,![],errorUtil['toString'](n));}['setLimit'](m,n,o,p){return new l({...this['_def'],'checks':[...this['_def']['checks'],{'kind':m,'value':n,'inclusive':o,'message':errorUtil['toString'](p)}]});}['_addCheck'](m){return new l({...this['_def'],'checks':[...this['_def']['checks'],m]});}['int'](m){return this['_addCheck']({'kind':'int','message':errorUtil['toString'](m)});}['positive'](m){return this['_addCheck']({'kind':'min','value':0x0,'inclusive':![],'message':errorUtil['toString'](m)});}['negative'](m){return this['_addCheck']({'kind':'max','value':0x0,'inclusive':![],'message':errorUtil['toString'](m)});}['nonpositive'](m){return this['_addCheck']({'kind':'max','value':0x0,'inclusive':!![],'message':errorUtil['toString'](m)});}['nonnegative'](m){return this['_addCheck']({'kind':'min','value':0x0,'inclusive':!![],'message':errorUtil['toString'](m)});}['multipleOf'](m,n){return this['_addCheck']({'kind':'multipleOf','value':m,'message':errorUtil['toString'](n)});}['finite'](m){return this['_addCheck']({'kind':'finite','message':errorUtil['toString'](m)});}['safe'](m){return this['_addCheck']({'kind':'min','inclusive':!![],'value':Number['MIN_SAFE_INTEGER'],'message':errorUtil['toString'](m)})['_addCheck']({'kind':'max','inclusive':!![],'value':Number['MAX_SAFE_INTEGER'],'message':errorUtil['toString'](m)});}get['minValue'](){let m=null;for(const n of this['_def']['checks']){if(n['kind']==='min'){if(m===null||n['value']>m)m=n['value'];}}return m;}get['maxValue'](){let m=null;for(const n of this['_def']['checks']){if(n['kind']==='max'){if(m===null||n['value']<m)m=n['value'];}}return m;}get['isInt'](){return!!this['_def']['checks']['find'](m=>m['kind']==='int'||m['kind']==='multipleOf'&&util['isInteger'](m['value']));}get['isFinite'](){let m=null,n=null;for(const o of this['_def']['checks']){if(o['kind']==='finite'||o['kind']==='int'||o['kind']==='multipleOf')return!![];else{if(o['kind']==='min'){if(n===null||o['value']>n)n=o['value'];}else{if(o['kind']==='max'){if(m===null||o['value']<m)m=o['value'];}}}}return Number['isFinite'](n)&&Number['isFinite'](m);}},ZodNumber['create']=m=>{return new ZodNumber({'checks':[],'typeName':ZodFirstPartyTypeKind['ZodNumber'],'coerce':m?.['coerce']||![],...processCreateParams(m)});},ZodBigInt=class m extends ZodType{static{__name(this,'_ZodBigInt');}constructor(){super(...arguments),this['min']=this['gte'],this['max']=this['lte'];}['_parse'](n){if(this['_def']['coerce'])try{n['data']=BigInt(n['data']);}catch{return this['_getInvalidInput'](n);}const o=this['_getType'](n);if(o!==ZodParsedType['bigint'])return this['_getInvalidInput'](n);let p=void 0x0;const q=new ParseStatus();for(const r of this['_def']['checks']){if(r['kind']==='min'){const s=r['inclusive']?n['data']<r['value']:n['data']<=r['value'];s&&(p=this['_getOrReturnCtx'](n,p),addIssueToContext(p,{'code':ZodIssueCode['too_small'],'type':'bigint','minimum':r['value'],'inclusive':r['inclusive'],'message':r['message']}),q['dirty']());}else{if(r['kind']==='max'){const t=r['inclusive']?n['data']>r['value']:n['data']>=r['value'];t&&(p=this['_getOrReturnCtx'](n,p),addIssueToContext(p,{'code':ZodIssueCode['too_big'],'type':'bigint','maximum':r['value'],'inclusive':r['inclusive'],'message':r['message']}),q['dirty']());}else r['kind']==='multipleOf'?n['data']%r['value']!==BigInt(0x0)&&(p=this['_getOrReturnCtx'](n,p),addIssueToContext(p,{'code':ZodIssueCode['not_multiple_of'],'multipleOf':r['value'],'message':r['message']}),q['dirty']()):util['assertNever'](r);}}return{'status':q['value'],'value':n['data']};}['_getInvalidInput'](n){const o=this['_getOrReturnCtx'](n);return addIssueToContext(o,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['bigint'],'received':o['parsedType']}),INVALID;}['gte'](n,o){return this['setLimit']('min',n,!![],errorUtil['toString'](o));}['gt'](n,o){return this['setLimit']('min',n,![],errorUtil['toString'](o));}['lte'](n,o){return this['setLimit']('max',n,!![],errorUtil['toString'](o));}['lt'](n,o){return this['setLimit']('max',n,![],errorUtil['toString'](o));}['setLimit'](n,o,p,q){return new m({...this['_def'],'checks':[...this['_def']['checks'],{'kind':n,'value':o,'inclusive':p,'message':errorUtil['toString'](q)}]});}['_addCheck'](n){return new m({...this['_def'],'checks':[...this['_def']['checks'],n]});}['positive'](n){return this['_addCheck']({'kind':'min','value':BigInt(0x0),'inclusive':![],'message':errorUtil['toString'](n)});}['negative'](n){return this['_addCheck']({'kind':'max','value':BigInt(0x0),'inclusive':![],'message':errorUtil['toString'](n)});}['nonpositive'](n){return this['_addCheck']({'kind':'max','value':BigInt(0x0),'inclusive':!![],'message':errorUtil['toString'](n)});}['nonnegative'](n){return this['_addCheck']({'kind':'min','value':BigInt(0x0),'inclusive':!![],'message':errorUtil['toString'](n)});}['multipleOf'](n,o){return this['_addCheck']({'kind':'multipleOf','value':n,'message':errorUtil['toString'](o)});}get['minValue'](){let n=null;for(const o of this['_def']['checks']){if(o['kind']==='min'){if(n===null||o['value']>n)n=o['value'];}}return n;}get['maxValue'](){let n=null;for(const o of this['_def']['checks']){if(o['kind']==='max'){if(n===null||o['value']<n)n=o['value'];}}return n;}},ZodBigInt['create']=n=>{return new ZodBigInt({'checks':[],'typeName':ZodFirstPartyTypeKind['ZodBigInt'],'coerce':n?.['coerce']??![],...processCreateParams(n)});},ZodBoolean=class extends ZodType{static{__name(this,'ZodBoolean');}['_parse'](n){this['_def']['coerce']&&(n['data']=Boolean(n['data']));const o=this['_getType'](n);if(o!==ZodParsedType['boolean']){const p=this['_getOrReturnCtx'](n);return addIssueToContext(p,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['boolean'],'received':p['parsedType']}),INVALID;}return OK(n['data']);}},ZodBoolean['create']=n=>{return new ZodBoolean({'typeName':ZodFirstPartyTypeKind['ZodBoolean'],'coerce':n?.['coerce']||![],...processCreateParams(n)});},ZodDate=class n extends ZodType{static{__name(this,'_ZodDate');}['_parse'](o){this['_def']['coerce']&&(o['data']=new Date(o['data']));const p=this['_getType'](o);if(p!==ZodParsedType['date']){const s=this['_getOrReturnCtx'](o);return addIssueToContext(s,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['date'],'received':s['parsedType']}),INVALID;}if(Number['isNaN'](o['data']['getTime']())){const t=this['_getOrReturnCtx'](o);return addIssueToContext(t,{'code':ZodIssueCode['invalid_date']}),INVALID;}const q=new ParseStatus();let r=void 0x0;for(const u of this['_def']['checks']){if(u['kind']==='min')o['data']['getTime']()<u['value']&&(r=this['_getOrReturnCtx'](o,r),addIssueToContext(r,{'code':ZodIssueCode['too_small'],'message':u['message'],'inclusive':!![],'exact':![],'minimum':u['value'],'type':'date'}),q['dirty']());else u['kind']==='max'?o['data']['getTime']()>u['value']&&(r=this['_getOrReturnCtx'](o,r),addIssueToContext(r,{'code':ZodIssueCode['too_big'],'message':u['message'],'inclusive':!![],'exact':![],'maximum':u['value'],'type':'date'}),q['dirty']()):util['assertNever'](u);}return{'status':q['value'],'value':new Date(o['data']['getTime']())};}['_addCheck'](o){return new n({...this['_def'],'checks':[...this['_def']['checks'],o]});}['min'](o,p){return this['_addCheck']({'kind':'min','value':o['getTime'](),'message':errorUtil['toString'](p)});}['max'](o,p){return this['_addCheck']({'kind':'max','value':o['getTime'](),'message':errorUtil['toString'](p)});}get['minDate'](){let o=null;for(const p of this['_def']['checks']){if(p['kind']==='min'){if(o===null||p['value']>o)o=p['value'];}}return o!=null?new Date(o):null;}get['maxDate'](){let o=null;for(const p of this['_def']['checks']){if(p['kind']==='max'){if(o===null||p['value']<o)o=p['value'];}}return o!=null?new Date(o):null;}},ZodDate['create']=o=>{return new ZodDate({'checks':[],'coerce':o?.['coerce']||![],'typeName':ZodFirstPartyTypeKind['ZodDate'],...processCreateParams(o)});},ZodSymbol=class extends ZodType{static{__name(this,'ZodSymbol');}['_parse'](o){const p=this['_getType'](o);if(p!==ZodParsedType['symbol']){const q=this['_getOrReturnCtx'](o);return addIssueToContext(q,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['symbol'],'received':q['parsedType']}),INVALID;}return OK(o['data']);}},ZodSymbol['create']=o=>{return new ZodSymbol({'typeName':ZodFirstPartyTypeKind['ZodSymbol'],...processCreateParams(o)});},ZodUndefined=class extends ZodType{static{__name(this,'ZodUndefined');}['_parse'](o){const p=this['_getType'](o);if(p!==ZodParsedType['undefined']){const q=this['_getOrReturnCtx'](o);return addIssueToContext(q,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['undefined'],'received':q['parsedType']}),INVALID;}return OK(o['data']);}},ZodUndefined['create']=o=>{return new ZodUndefined({'typeName':ZodFirstPartyTypeKind['ZodUndefined'],...processCreateParams(o)});},ZodNull=class extends ZodType{static{__name(this,'ZodNull');}['_parse'](o){const p=this['_getType'](o);if(p!==ZodParsedType['null']){const q=this['_getOrReturnCtx'](o);return addIssueToContext(q,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['null'],'received':q['parsedType']}),INVALID;}return OK(o['data']);}},ZodNull['create']=o=>{return new ZodNull({'typeName':ZodFirstPartyTypeKind['ZodNull'],...processCreateParams(o)});},ZodAny=class extends ZodType{static{__name(this,'ZodAny');}constructor(){super(...arguments),this['_any']=!![];}['_parse'](o){return OK(o['data']);}},ZodAny['create']=o=>{return new ZodAny({'typeName':ZodFirstPartyTypeKind['ZodAny'],...processCreateParams(o)});},ZodUnknown=class extends ZodType{static{__name(this,'ZodUnknown');}constructor(){super(...arguments),this['_unknown']=!![];}['_parse'](o){return OK(o['data']);}},ZodUnknown['create']=o=>{return new ZodUnknown({'typeName':ZodFirstPartyTypeKind['ZodUnknown'],...processCreateParams(o)});},ZodNever=class extends ZodType{static{__name(this,'ZodNever');}['_parse'](o){const p=this['_getOrReturnCtx'](o);return addIssueToContext(p,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['never'],'received':p['parsedType']}),INVALID;}},ZodNever['create']=o=>{return new ZodNever({'typeName':ZodFirstPartyTypeKind['ZodNever'],...processCreateParams(o)});},ZodVoid=class extends ZodType{static{__name(this,'ZodVoid');}['_parse'](o){const p=this['_getType'](o);if(p!==ZodParsedType['undefined']){const q=this['_getOrReturnCtx'](o);return addIssueToContext(q,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['void'],'received':q['parsedType']}),INVALID;}return OK(o['data']);}},ZodVoid['create']=o=>{return new ZodVoid({'typeName':ZodFirstPartyTypeKind['ZodVoid'],...processCreateParams(o)});},ZodArray=class o extends ZodType{static{__name(this,'_ZodArray');}['_parse'](p){const {ctx:q,status:r}=this['_processInputParams'](p),s=this['_def'];if(q['parsedType']!==ZodParsedType['array'])return addIssueToContext(q,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['array'],'received':q['parsedType']}),INVALID;if(s['exactLength']!==null){const u=q['data']['length']>s['exactLength']['value'],v=q['data']['length']<s['exactLength']['value'];(u||v)&&(addIssueToContext(q,{'code':u?ZodIssueCode['too_big']:ZodIssueCode['too_small'],'minimum':v?s['exactLength']['value']:void 0x0,'maximum':u?s['exactLength']['value']:void 0x0,'type':'array','inclusive':!![],'exact':!![],'message':s['exactLength']['message']}),r['dirty']());}s['minLength']!==null&&(q['data']['length']<s['minLength']['value']&&(addIssueToContext(q,{'code':ZodIssueCode['too_small'],'minimum':s['minLength']['value'],'type':'array','inclusive':!![],'exact':![],'message':s['minLength']['message']}),r['dirty']()));s['maxLength']!==null&&(q['data']['length']>s['maxLength']['value']&&(addIssueToContext(q,{'code':ZodIssueCode['too_big'],'maximum':s['maxLength']['value'],'type':'array','inclusive':!![],'exact':![],'message':s['maxLength']['message']}),r['dirty']()));if(q['common']['async'])return Promise['all']([...q['data']]['map']((w,x)=>{return s['type']['_parseAsync'](new ParseInputLazyPath(q,w,q['path'],x));}))['then'](w=>{return ParseStatus['mergeArray'](r,w);});const t=[...q['data']]['map']((w,x)=>{return s['type']['_parseSync'](new ParseInputLazyPath(q,w,q['path'],x));});return ParseStatus['mergeArray'](r,t);}get['element'](){return this['_def']['type'];}['min'](p,q){return new o({...this['_def'],'minLength':{'value':p,'message':errorUtil['toString'](q)}});}['max'](p,q){return new o({...this['_def'],'maxLength':{'value':p,'message':errorUtil['toString'](q)}});}['length'](p,q){return new o({...this['_def'],'exactLength':{'value':p,'message':errorUtil['toString'](q)}});}['nonempty'](p){return this['min'](0x1,p);}},ZodArray['create']=(p,q)=>{return new ZodArray({'type':p,'minLength':null,'maxLength':null,'exactLength':null,'typeName':ZodFirstPartyTypeKind['ZodArray'],...processCreateParams(q)});},__name(deepPartialify,'deepPartialify'),ZodObject=class p extends ZodType{static{__name(this,'_ZodObject');}constructor(){super(...arguments),this['_cached']=null,this['nonstrict']=this['passthrough'],this['augment']=this['extend'];}['_getCached'](){if(this['_cached']!==null)return this['_cached'];const q=this['_def']['shape'](),r=util['objectKeys'](q);return this['_cached']={'shape':q,'keys':r},this['_cached'];}['_parse'](q){const r=this['_getType'](q);if(r!==ZodParsedType['object']){const y=this['_getOrReturnCtx'](q);return addIssueToContext(y,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['object'],'received':y['parsedType']}),INVALID;}const {status:s,ctx:t}=this['_processInputParams'](q),{shape:u,keys:v}=this['_getCached'](),w=[];if(!(this['_def']['catchall']instanceof ZodNever&&this['_def']['unknownKeys']==='strip'))for(const z in t['data']){!v['includes'](z)&&w['push'](z);}const x=[];for(const A of v){const B=u[A],C=t['data'][A];x['push']({'key':{'status':'valid','value':A},'value':B['_parse'](new ParseInputLazyPath(t,C,t['path'],A)),'alwaysSet':A in t['data']});}if(this['_def']['catchall']instanceof ZodNever){const D=this['_def']['unknownKeys'];if(D==='passthrough')for(const E of w){x['push']({'key':{'status':'valid','value':E},'value':{'status':'valid','value':t['data'][E]}});}else{if(D==='strict')w['length']>0x0&&(addIssueToContext(t,{'code':ZodIssueCode['unrecognized_keys'],'keys':w}),s['dirty']());else{if(D==='strip'){}else throw new Error('Internal\x20ZodObject\x20error:\x20invalid\x20unknownKeys\x20value.');}}}else{const F=this['_def']['catchall'];for(const G of w){const H=t['data'][G];x['push']({'key':{'status':'valid','value':G},'value':F['_parse'](new ParseInputLazyPath(t,H,t['path'],G)),'alwaysSet':G in t['data']});}}return t['common']['async']?Promise['resolve']()['then'](async()=>{const I=[];for(const J of x){const K=await J['key'],L=await J['value'];I['push']({'key':K,'value':L,'alwaysSet':J['alwaysSet']});}return I;})['then'](I=>{return ParseStatus['mergeObjectSync'](s,I);}):ParseStatus['mergeObjectSync'](s,x);}get['shape'](){return this['_def']['shape']();}['strict'](q){return errorUtil['errToObj'],new p({...this['_def'],'unknownKeys':'strict',...q!==void 0x0?{'errorMap':__name((r,s)=>{const t=this['_def']['errorMap']?.(r,s)['message']??s['defaultError'];if(r['code']==='unrecognized_keys')return{'message':errorUtil['errToObj'](q)['message']??t};return{'message':t};},'errorMap')}:{}});}['strip'](){return new p({...this['_def'],'unknownKeys':'strip'});}['passthrough'](){return new p({...this['_def'],'unknownKeys':'passthrough'});}['extend'](q){return new p({...this['_def'],'shape':__name(()=>({...this['_def']['shape'](),...q}),'shape')});}['merge'](q){const r=new p({'unknownKeys':q['_def']['unknownKeys'],'catchall':q['_def']['catchall'],'shape':__name(()=>({...this['_def']['shape'](),...q['_def']['shape']()}),'shape'),'typeName':ZodFirstPartyTypeKind['ZodObject']});return r;}['setKey'](q,r){return this['augment']({[q]:r});}['catchall'](q){return new p({...this['_def'],'catchall':q});}['pick'](q){const r={};for(const s of util['objectKeys'](q)){q[s]&&this['shape'][s]&&(r[s]=this['shape'][s]);}return new p({...this['_def'],'shape':__name(()=>r,'shape')});}['omit'](q){const r={};for(const s of util['objectKeys'](this['shape'])){!q[s]&&(r[s]=this['shape'][s]);}return new p({...this['_def'],'shape':__name(()=>r,'shape')});}['deepPartial'](){return deepPartialify(this);}['partial'](q){const r={};for(const s of util['objectKeys'](this['shape'])){const t=this['shape'][s];q&&!q[s]?r[s]=t:r[s]=t['optional']();}return new p({...this['_def'],'shape':__name(()=>r,'shape')});}['required'](q){const r={};for(const s of util['objectKeys'](this['shape'])){if(q&&!q[s])r[s]=this['shape'][s];else{const t=this['shape'][s];let u=t;while(u instanceof ZodOptional){u=u['_def']['innerType'];}r[s]=u;}}return new p({...this['_def'],'shape':__name(()=>r,'shape')});}['keyof'](){return createZodEnum(util['objectKeys'](this['shape']));}},ZodObject['create']=(q,r)=>{return new ZodObject({'shape':__name(()=>q,'shape'),'unknownKeys':'strip','catchall':ZodNever['create'](),'typeName':ZodFirstPartyTypeKind['ZodObject'],...processCreateParams(r)});},ZodObject['strictCreate']=(q,r)=>{return new ZodObject({'shape':__name(()=>q,'shape'),'unknownKeys':'strict','catchall':ZodNever['create'](),'typeName':ZodFirstPartyTypeKind['ZodObject'],...processCreateParams(r)});},ZodObject['lazycreate']=(q,r)=>{return new ZodObject({'shape':q,'unknownKeys':'strip','catchall':ZodNever['create'](),'typeName':ZodFirstPartyTypeKind['ZodObject'],...processCreateParams(r)});},ZodUnion=class extends ZodType{static{__name(this,'ZodUnion');}['_parse'](q){const {ctx:r}=this['_processInputParams'](q),s=this['_def']['options'];function t(u){for(const w of u){if(w['result']['status']==='valid')return w['result'];}for(const x of u){if(x['result']['status']==='dirty')return r['common']['issues']['push'](...x['ctx']['common']['issues']),x['result'];}const v=u['map'](y=>new ZodError(y['ctx']['common']['issues']));return addIssueToContext(r,{'code':ZodIssueCode['invalid_union'],'unionErrors':v}),INVALID;}__name(t,'handleResults');if(r['common']['async'])return Promise['all'](s['map'](async u=>{const v={...r,'common':{...r['common'],'issues':[]},'parent':null};return{'result':await u['_parseAsync']({'data':r['data'],'path':r['path'],'parent':v}),'ctx':v};}))['then'](t);else{let u=void 0x0;const v=[];for(const x of s){const y={...r,'common':{...r['common'],'issues':[]},'parent':null},z=x['_parseSync']({'data':r['data'],'path':r['path'],'parent':y});if(z['status']==='valid')return z;else z['status']==='dirty'&&!u&&(u={'result':z,'ctx':y});y['common']['issues']['length']&&v['push'](y['common']['issues']);}if(u)return r['common']['issues']['push'](...u['ctx']['common']['issues']),u['result'];const w=v['map'](A=>new ZodError(A));return addIssueToContext(r,{'code':ZodIssueCode['invalid_union'],'unionErrors':w}),INVALID;}}get['options'](){return this['_def']['options'];}},ZodUnion['create']=(q,r)=>{return new ZodUnion({'options':q,'typeName':ZodFirstPartyTypeKind['ZodUnion'],...processCreateParams(r)});},getDiscriminator=__name(q=>{if(q instanceof ZodLazy)return getDiscriminator(q['schema']);else{if(q instanceof ZodEffects)return getDiscriminator(q['innerType']());else{if(q instanceof ZodLiteral)return[q['value']];else{if(q instanceof ZodEnum)return q['options'];else{if(q instanceof ZodNativeEnum)return util['objectValues'](q['enum']);else{if(q instanceof ZodDefault)return getDiscriminator(q['_def']['innerType']);else{if(q instanceof ZodUndefined)return[void 0x0];else{if(q instanceof ZodNull)return[null];else{if(q instanceof ZodOptional)return[void 0x0,...getDiscriminator(q['unwrap']())];else{if(q instanceof ZodNullable)return[null,...getDiscriminator(q['unwrap']())];else{if(q instanceof ZodBranded)return getDiscriminator(q['unwrap']());else{if(q instanceof ZodReadonly)return getDiscriminator(q['unwrap']());else return q instanceof ZodCatch?getDiscriminator(q['_def']['innerType']):[];}}}}}}}}}}}},'getDiscriminator'),ZodDiscriminatedUnion=class q extends ZodType{static{__name(this,'_ZodDiscriminatedUnion');}['_parse'](r){const {ctx:s}=this['_processInputParams'](r);if(s['parsedType']!==ZodParsedType['object'])return addIssueToContext(s,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['object'],'received':s['parsedType']}),INVALID;const t=this['discriminator'],u=s['data'][t],v=this['optionsMap']['get'](u);if(!v)return addIssueToContext(s,{'code':ZodIssueCode['invalid_union_discriminator'],'options':Array['from'](this['optionsMap']['keys']()),'path':[t]}),INVALID;return s['common']['async']?v['_parseAsync']({'data':s['data'],'path':s['path'],'parent':s}):v['_parseSync']({'data':s['data'],'path':s['path'],'parent':s});}get['discriminator'](){return this['_def']['discriminator'];}get['options'](){return this['_def']['options'];}get['optionsMap'](){return this['_def']['optionsMap'];}static['create'](r,s,t){const u=new Map();for(const v of s){const w=getDiscriminator(v['shape'][r]);if(!w['length'])throw new Error('A\x20discriminator\x20value\x20for\x20key\x20`'+r+'`\x20could\x20not\x20be\x20extracted\x20from\x20all\x20schema\x20options');for(const x of w){if(u['has'](x))throw new Error('Discriminator\x20property\x20'+String(r)+'\x20has\x20duplicate\x20value\x20'+String(x));u['set'](x,v);}}return new q({'typeName':ZodFirstPartyTypeKind['ZodDiscriminatedUnion'],'discriminator':r,'options':s,'optionsMap':u,...processCreateParams(t)});}},__name(mergeValues,'mergeValues'),ZodIntersection=class extends ZodType{static{__name(this,'ZodIntersection');}['_parse'](r){const {status:s,ctx:t}=this['_processInputParams'](r),u=__name((v,w)=>{if(isAborted(v)||isAborted(w))return INVALID;const x=mergeValues(v['value'],w['value']);if(!x['valid'])return addIssueToContext(t,{'code':ZodIssueCode['invalid_intersection_types']}),INVALID;return(isDirty(v)||isDirty(w))&&s['dirty'](),{'status':s['value'],'value':x['data']};},'handleParsed');return t['common']['async']?Promise['all']([this['_def']['left']['_parseAsync']({'data':t['data'],'path':t['path'],'parent':t}),this['_def']['right']['_parseAsync']({'data':t['data'],'path':t['path'],'parent':t})])['then'](([v,w])=>u(v,w)):u(this['_def']['left']['_parseSync']({'data':t['data'],'path':t['path'],'parent':t}),this['_def']['right']['_parseSync']({'data':t['data'],'path':t['path'],'parent':t}));}},ZodIntersection['create']=(r,s,t)=>{return new ZodIntersection({'left':r,'right':s,'typeName':ZodFirstPartyTypeKind['ZodIntersection'],...processCreateParams(t)});},ZodTuple=class r extends ZodType{static{__name(this,'_ZodTuple');}['_parse'](s){const {status:t,ctx:u}=this['_processInputParams'](s);if(u['parsedType']!==ZodParsedType['array'])return addIssueToContext(u,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['array'],'received':u['parsedType']}),INVALID;if(u['data']['length']<this['_def']['items']['length'])return addIssueToContext(u,{'code':ZodIssueCode['too_small'],'minimum':this['_def']['items']['length'],'inclusive':!![],'exact':![],'type':'array'}),INVALID;const v=this['_def']['rest'];!v&&u['data']['length']>this['_def']['items']['length']&&(addIssueToContext(u,{'code':ZodIssueCode['too_big'],'maximum':this['_def']['items']['length'],'inclusive':!![],'exact':![],'type':'array'}),t['dirty']());const w=[...u['data']]['map']((x,y)=>{const z=this['_def']['items'][y]||this['_def']['rest'];if(!z)return null;return z['_parse'](new ParseInputLazyPath(u,x,u['path'],y));})['filter'](y=>!!y);return u['common']['async']?Promise['all'](w)['then'](x=>{return ParseStatus['mergeArray'](t,x);}):ParseStatus['mergeArray'](t,w);}get['items'](){return this['_def']['items'];}['rest'](s){return new r({...this['_def'],'rest':s});}},ZodTuple['create']=(s,t)=>{if(!Array['isArray'](s))throw new Error('You\x20must\x20pass\x20an\x20array\x20of\x20schemas\x20to\x20z.tuple([\x20...\x20])');return new ZodTuple({'items':s,'typeName':ZodFirstPartyTypeKind['ZodTuple'],'rest':null,...processCreateParams(t)});},ZodRecord=class s extends ZodType{static{__name(this,'_ZodRecord');}get['keySchema'](){return this['_def']['keyType'];}get['valueSchema'](){return this['_def']['valueType'];}['_parse'](t){const {status:u,ctx:v}=this['_processInputParams'](t);if(v['parsedType']!==ZodParsedType['object'])return addIssueToContext(v,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['object'],'received':v['parsedType']}),INVALID;const w=[],x=this['_def']['keyType'],y=this['_def']['valueType'];for(const z in v['data']){w['push']({'key':x['_parse'](new ParseInputLazyPath(v,z,v['path'],z)),'value':y['_parse'](new ParseInputLazyPath(v,v['data'][z],v['path'],z)),'alwaysSet':z in v['data']});}return v['common']['async']?ParseStatus['mergeObjectAsync'](u,w):ParseStatus['mergeObjectSync'](u,w);}get['element'](){return this['_def']['valueType'];}static['create'](t,u,v){if(u instanceof ZodType)return new s({'keyType':t,'valueType':u,'typeName':ZodFirstPartyTypeKind['ZodRecord'],...processCreateParams(v)});return new s({'keyType':ZodString['create'](),'valueType':t,'typeName':ZodFirstPartyTypeKind['ZodRecord'],...processCreateParams(u)});}},ZodMap=class extends ZodType{static{__name(this,'ZodMap');}get['keySchema'](){return this['_def']['keyType'];}get['valueSchema'](){return this['_def']['valueType'];}['_parse'](t){const {status:u,ctx:v}=this['_processInputParams'](t);if(v['parsedType']!==ZodParsedType['map'])return addIssueToContext(v,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['map'],'received':v['parsedType']}),INVALID;const w=this['_def']['keyType'],x=this['_def']['valueType'],y=[...v['data']['entries']()]['map'](([z,A],B)=>{return{'key':w['_parse'](new ParseInputLazyPath(v,z,v['path'],[B,'key'])),'value':x['_parse'](new ParseInputLazyPath(v,A,v['path'],[B,'value']))};});if(v['common']['async']){const z=new Map();return Promise['resolve']()['then'](async()=>{for(const A of y){const B=await A['key'],C=await A['value'];if(B['status']==='aborted'||C['status']==='aborted')return INVALID;(B['status']==='dirty'||C['status']==='dirty')&&u['dirty'](),z['set'](B['value'],C['value']);}return{'status':u['value'],'value':z};});}else{const A=new Map();for(const B of y){const C=B['key'],D=B['value'];if(C['status']==='aborted'||D['status']==='aborted')return INVALID;(C['status']==='dirty'||D['status']==='dirty')&&u['dirty'](),A['set'](C['value'],D['value']);}return{'status':u['value'],'value':A};}}},ZodMap['create']=(t,u,v)=>{return new ZodMap({'valueType':u,'keyType':t,'typeName':ZodFirstPartyTypeKind['ZodMap'],...processCreateParams(v)});},ZodSet=class t extends ZodType{static{__name(this,'_ZodSet');}['_parse'](u){const {status:v,ctx:w}=this['_processInputParams'](u);if(w['parsedType']!==ZodParsedType['set'])return addIssueToContext(w,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['set'],'received':w['parsedType']}),INVALID;const x=this['_def'];x['minSize']!==null&&(w['data']['size']<x['minSize']['value']&&(addIssueToContext(w,{'code':ZodIssueCode['too_small'],'minimum':x['minSize']['value'],'type':'set','inclusive':!![],'exact':![],'message':x['minSize']['message']}),v['dirty']()));x['maxSize']!==null&&(w['data']['size']>x['maxSize']['value']&&(addIssueToContext(w,{'code':ZodIssueCode['too_big'],'maximum':x['maxSize']['value'],'type':'set','inclusive':!![],'exact':![],'message':x['maxSize']['message']}),v['dirty']()));const y=this['_def']['valueType'];function z(B){const C=new Set();for(const D of B){if(D['status']==='aborted')return INVALID;if(D['status']==='dirty')v['dirty']();C['add'](D['value']);}return{'status':v['value'],'value':C};}__name(z,'finalizeSet');const A=[...w['data']['values']()]['map']((B,C)=>y['_parse'](new ParseInputLazyPath(w,B,w['path'],C)));return w['common']['async']?Promise['all'](A)['then'](B=>z(B)):z(A);}['min'](u,v){return new t({...this['_def'],'minSize':{'value':u,'message':errorUtil['toString'](v)}});}['max'](u,v){return new t({...this['_def'],'maxSize':{'value':u,'message':errorUtil['toString'](v)}});}['size'](u,v){return this['min'](u,v)['max'](u,v);}['nonempty'](u){return this['min'](0x1,u);}},ZodSet['create']=(u,v)=>{return new ZodSet({'valueType':u,'minSize':null,'maxSize':null,'typeName':ZodFirstPartyTypeKind['ZodSet'],...processCreateParams(v)});},ZodFunction=class u extends ZodType{static{__name(this,'_ZodFunction');}constructor(){super(...arguments),this['validate']=this['implement'];}['_parse'](v){const {ctx:w}=this['_processInputParams'](v);if(w['parsedType']!==ZodParsedType['function'])return addIssueToContext(w,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['function'],'received':w['parsedType']}),INVALID;function x(B,C){return makeIssue({'data':B,'path':w['path'],'errorMaps':[w['common']['contextualErrorMap'],w['schemaErrorMap'],getErrorMap(),en_default]['filter'](D=>!!D),'issueData':{'code':ZodIssueCode['invalid_arguments'],'argumentsError':C}});}__name(x,'makeArgsIssue');function y(B,C){return makeIssue({'data':B,'path':w['path'],'errorMaps':[w['common']['contextualErrorMap'],w['schemaErrorMap'],getErrorMap(),en_default]['filter'](D=>!!D),'issueData':{'code':ZodIssueCode['invalid_return_type'],'returnTypeError':C}});}__name(y,'makeReturnsIssue');const z={'errorMap':w['common']['contextualErrorMap']},A=w['data'];if(this['_def']['returns']instanceof ZodPromise){const B=this;return OK(async function(...C){const D=new ZodError([]),E=await B['_def']['args']['parseAsync'](C,z)['catch'](H=>{D['addIssue'](x(C,H));throw D;}),F=await Reflect['apply'](A,this,E),G=await B['_def']['returns']['_def']['type']['parseAsync'](F,z)['catch'](H=>{D['addIssue'](y(F,H));throw D;});return G;});}else{const C=this;return OK(function(...D){const E=C['_def']['args']['safeParse'](D,z);if(!E['success'])throw new ZodError([x(D,E['error'])]);const F=Reflect['apply'](A,this,E['data']),G=C['_def']['returns']['safeParse'](F,z);if(!G['success'])throw new ZodError([y(F,G['error'])]);return G['data'];});}}['parameters'](){return this['_def']['args'];}['returnType'](){return this['_def']['returns'];}['args'](...v){return new u({...this['_def'],'args':ZodTuple['create'](v)['rest'](ZodUnknown['create']())});}['returns'](v){return new u({...this['_def'],'returns':v});}['implement'](v){const w=this['parse'](v);return w;}['strictImplement'](v){const w=this['parse'](v);return w;}static['create'](v,w,x){return new u({'args':v?v:ZodTuple['create']([])['rest'](ZodUnknown['create']()),'returns':w||ZodUnknown['create'](),'typeName':ZodFirstPartyTypeKind['ZodFunction'],...processCreateParams(x)});}},ZodLazy=class extends ZodType{static{__name(this,'ZodLazy');}get['schema'](){return this['_def']['getter']();}['_parse'](v){const {ctx:w}=this['_processInputParams'](v),x=this['_def']['getter']();return x['_parse']({'data':w['data'],'path':w['path'],'parent':w});}},ZodLazy['create']=(v,w)=>{return new ZodLazy({'getter':v,'typeName':ZodFirstPartyTypeKind['ZodLazy'],...processCreateParams(w)});},ZodLiteral=class extends ZodType{static{__name(this,'ZodLiteral');}['_parse'](v){if(v['data']!==this['_def']['value']){const w=this['_getOrReturnCtx'](v);return addIssueToContext(w,{'received':w['data'],'code':ZodIssueCode['invalid_literal'],'expected':this['_def']['value']}),INVALID;}return{'status':'valid','value':v['data']};}get['value'](){return this['_def']['value'];}},ZodLiteral['create']=(v,w)=>{return new ZodLiteral({'value':v,'typeName':ZodFirstPartyTypeKind['ZodLiteral'],...processCreateParams(w)});},__name(createZodEnum,'createZodEnum'),ZodEnum=class v extends ZodType{static{__name(this,'_ZodEnum');}['_parse'](w){if(typeof w['data']!=='string'){const x=this['_getOrReturnCtx'](w),y=this['_def']['values'];return addIssueToContext(x,{'expected':util['joinValues'](y),'received':x['parsedType'],'code':ZodIssueCode['invalid_type']}),INVALID;}!this['_cache']&&(this['_cache']=new Set(this['_def']['values']));if(!this['_cache']['has'](w['data'])){const z=this['_getOrReturnCtx'](w),A=this['_def']['values'];return addIssueToContext(z,{'received':z['data'],'code':ZodIssueCode['invalid_enum_value'],'options':A}),INVALID;}return OK(w['data']);}get['options'](){return this['_def']['values'];}get['enum'](){const w={};for(const x of this['_def']['values']){w[x]=x;}return w;}get['Values'](){const w={};for(const x of this['_def']['values']){w[x]=x;}return w;}get['Enum'](){const w={};for(const x of this['_def']['values']){w[x]=x;}return w;}['extract'](w,x=this['_def']){return v['create'](w,{...this['_def'],...x});}['exclude'](w,x=this['_def']){return v['create'](this['options']['filter'](y=>!w['includes'](y)),{...this['_def'],...x});}},ZodEnum['create']=createZodEnum,ZodNativeEnum=class extends ZodType{static{__name(this,'ZodNativeEnum');}['_parse'](w){const x=util['getValidEnumValues'](this['_def']['values']),y=this['_getOrReturnCtx'](w);if(y['parsedType']!==ZodParsedType['string']&&y['parsedType']!==ZodParsedType['number']){const z=util['objectValues'](x);return addIssueToContext(y,{'expected':util['joinValues'](z),'received':y['parsedType'],'code':ZodIssueCode['invalid_type']}),INVALID;}!this['_cache']&&(this['_cache']=new Set(util['getValidEnumValues'](this['_def']['values'])));if(!this['_cache']['has'](w['data'])){const A=util['objectValues'](x);return addIssueToContext(y,{'received':y['data'],'code':ZodIssueCode['invalid_enum_value'],'options':A}),INVALID;}return OK(w['data']);}get['enum'](){return this['_def']['values'];}},ZodNativeEnum['create']=(w,x)=>{return new ZodNativeEnum({'values':w,'typeName':ZodFirstPartyTypeKind['ZodNativeEnum'],...processCreateParams(x)});},ZodPromise=class extends ZodType{static{__name(this,'ZodPromise');}['unwrap'](){return this['_def']['type'];}['_parse'](w){const {ctx:x}=this['_processInputParams'](w);if(x['parsedType']!==ZodParsedType['promise']&&x['common']['async']===![])return addIssueToContext(x,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['promise'],'received':x['parsedType']}),INVALID;const y=x['parsedType']===ZodParsedType['promise']?x['data']:Promise['resolve'](x['data']);return OK(y['then'](z=>{return this['_def']['type']['parseAsync'](z,{'path':x['path'],'errorMap':x['common']['contextualErrorMap']});}));}},ZodPromise['create']=(w,x)=>{return new ZodPromise({'type':w,'typeName':ZodFirstPartyTypeKind['ZodPromise'],...processCreateParams(x)});},ZodEffects=class extends ZodType{static{__name(this,'ZodEffects');}['innerType'](){return this['_def']['schema'];}['sourceType'](){return this['_def']['schema']['_def']['typeName']===ZodFirstPartyTypeKind['ZodEffects']?this['_def']['schema']['sourceType']():this['_def']['schema'];}['_parse'](w){const {status:x,ctx:y}=this['_processInputParams'](w),z=this['_def']['effect']||null,A={'addIssue':__name(B=>{addIssueToContext(y,B),B['fatal']?x['abort']():x['dirty']();},'addIssue'),get 'path'(){return y['path'];}};A['addIssue']=A['addIssue']['bind'](A);if(z['type']==='preprocess'){const B=z['transform'](y['data'],A);if(y['common']['async'])return Promise['resolve'](B)['then'](async C=>{if(x['value']==='aborted')return INVALID;const D=await this['_def']['schema']['_parseAsync']({'data':C,'path':y['path'],'parent':y});if(D['status']==='aborted')return INVALID;if(D['status']==='dirty')return DIRTY(D['value']);if(x['value']==='dirty')return DIRTY(D['value']);return D;});else{if(x['value']==='aborted')return INVALID;const C=this['_def']['schema']['_parseSync']({'data':B,'path':y['path'],'parent':y});if(C['status']==='aborted')return INVALID;if(C['status']==='dirty')return DIRTY(C['value']);if(x['value']==='dirty')return DIRTY(C['value']);return C;}}if(z['type']==='refinement'){const D=__name(E=>{const F=z['refinement'](E,A);if(y['common']['async'])return Promise['resolve'](F);if(F instanceof Promise)throw new Error('Async\x20refinement\x20encountered\x20during\x20synchronous\x20parse\x20operation.\x20Use\x20.parseAsync\x20instead.');return E;},'executeRefinement');if(y['common']['async']===![]){const E=this['_def']['schema']['_parseSync']({'data':y['data'],'path':y['path'],'parent':y});if(E['status']==='aborted')return INVALID;if(E['status']==='dirty')x['dirty']();return D(E['value']),{'status':x['value'],'value':E['value']};}else return this['_def']['schema']['_parseAsync']({'data':y['data'],'path':y['path'],'parent':y})['then'](F=>{if(F['status']==='aborted')return INVALID;if(F['status']==='dirty')x['dirty']();return D(F['value'])['then'](()=>{return{'status':x['value'],'value':F['value']};});});}if(z['type']==='transform'){if(y['common']['async']===![]){const F=this['_def']['schema']['_parseSync']({'data':y['data'],'path':y['path'],'parent':y});if(!isValid(F))return INVALID;const G=z['transform'](F['value'],A);if(G instanceof Promise)throw new Error('Asynchronous\x20transform\x20encountered\x20during\x20synchronous\x20parse\x20operation.\x20Use\x20.parseAsync\x20instead.');return{'status':x['value'],'value':G};}else return this['_def']['schema']['_parseAsync']({'data':y['data'],'path':y['path'],'parent':y})['then'](H=>{if(!isValid(H))return INVALID;return Promise['resolve'](z['transform'](H['value'],A))['then'](I=>({'status':x['value'],'value':I}));});}util['assertNever'](z);}},ZodEffects['create']=(w,x,y)=>{return new ZodEffects({'schema':w,'typeName':ZodFirstPartyTypeKind['ZodEffects'],'effect':x,...processCreateParams(y)});},ZodEffects['createWithPreprocess']=(w,x,y)=>{return new ZodEffects({'schema':x,'effect':{'type':'preprocess','transform':w},'typeName':ZodFirstPartyTypeKind['ZodEffects'],...processCreateParams(y)});},ZodOptional=class extends ZodType{static{__name(this,'ZodOptional');}['_parse'](w){const x=this['_getType'](w);if(x===ZodParsedType['undefined'])return OK(void 0x0);return this['_def']['innerType']['_parse'](w);}['unwrap'](){return this['_def']['innerType'];}},ZodOptional['create']=(w,x)=>{return new ZodOptional({'innerType':w,'typeName':ZodFirstPartyTypeKind['ZodOptional'],...processCreateParams(x)});},ZodNullable=class extends ZodType{static{__name(this,'ZodNullable');}['_parse'](w){const x=this['_getType'](w);if(x===ZodParsedType['null'])return OK(null);return this['_def']['innerType']['_parse'](w);}['unwrap'](){return this['_def']['innerType'];}},ZodNullable['create']=(w,x)=>{return new ZodNullable({'innerType':w,'typeName':ZodFirstPartyTypeKind['ZodNullable'],...processCreateParams(x)});},ZodDefault=class extends ZodType{static{__name(this,'ZodDefault');}['_parse'](w){const {ctx:x}=this['_processInputParams'](w);let y=x['data'];return x['parsedType']===ZodParsedType['undefined']&&(y=this['_def']['defaultValue']()),this['_def']['innerType']['_parse']({'data':y,'path':x['path'],'parent':x});}['removeDefault'](){return this['_def']['innerType'];}},ZodDefault['create']=(w,x)=>{return new ZodDefault({'innerType':w,'typeName':ZodFirstPartyTypeKind['ZodDefault'],'defaultValue':typeof x['default']==='function'?x['default']:()=>x['default'],...processCreateParams(x)});},ZodCatch=class extends ZodType{static{__name(this,'ZodCatch');}['_parse'](w){const {ctx:x}=this['_processInputParams'](w),y={...x,'common':{...x['common'],'issues':[]}},z=this['_def']['innerType']['_parse']({'data':y['data'],'path':y['path'],'parent':{...y}});return isAsync(z)?z['then'](A=>{return{'status':'valid','value':A['status']==='valid'?A['value']:this['_def']['catchValue']({get 'error'(){return new ZodError(y['common']['issues']);},'input':y['data']})};}):{'status':'valid','value':z['status']==='valid'?z['value']:this['_def']['catchValue']({get 'error'(){return new ZodError(y['common']['issues']);},'input':y['data']})};}['removeCatch'](){return this['_def']['innerType'];}},ZodCatch['create']=(w,x)=>{return new ZodCatch({'innerType':w,'typeName':ZodFirstPartyTypeKind['ZodCatch'],'catchValue':typeof x['catch']==='function'?x['catch']:()=>x['catch'],...processCreateParams(x)});},ZodNaN=class extends ZodType{static{__name(this,'ZodNaN');}['_parse'](w){const x=this['_getType'](w);if(x!==ZodParsedType['nan']){const y=this['_getOrReturnCtx'](w);return addIssueToContext(y,{'code':ZodIssueCode['invalid_type'],'expected':ZodParsedType['nan'],'received':y['parsedType']}),INVALID;}return{'status':'valid','value':w['data']};}},ZodNaN['create']=w=>{return new ZodNaN({'typeName':ZodFirstPartyTypeKind['ZodNaN'],...processCreateParams(w)});},BRAND=Symbol('zod_brand'),ZodBranded=class extends ZodType{static{__name(this,'ZodBranded');}['_parse'](w){const {ctx:x}=this['_processInputParams'](w),y=x['data'];return this['_def']['type']['_parse']({'data':y,'path':x['path'],'parent':x});}['unwrap'](){return this['_def']['type'];}},ZodPipeline=class w extends ZodType{static{__name(this,'_ZodPipeline');}['_parse'](x){const {status:y,ctx:z}=this['_processInputParams'](x);if(z['common']['async']){const A=__name(async()=>{const B=await this['_def']['in']['_parseAsync']({'data':z['data'],'path':z['path'],'parent':z});if(B['status']==='aborted')return INVALID;return B['status']==='dirty'?(y['dirty'](),DIRTY(B['value'])):this['_def']['out']['_parseAsync']({'data':B['value'],'path':z['path'],'parent':z});},'handleAsync');return A();}else{const B=this['_def']['in']['_parseSync']({'data':z['data'],'path':z['path'],'parent':z});if(B['status']==='aborted')return INVALID;return B['status']==='dirty'?(y['dirty'](),{'status':'dirty','value':B['value']}):this['_def']['out']['_parseSync']({'data':B['value'],'path':z['path'],'parent':z});}}static['create'](x,y){return new w({'in':x,'out':y,'typeName':ZodFirstPartyTypeKind['ZodPipeline']});}},ZodReadonly=class extends ZodType{static{__name(this,'ZodReadonly');}['_parse'](x){const y=this['_def']['innerType']['_parse'](x),z=__name(A=>{return isValid(A)&&(A['value']=Object['freeze'](A['value'])),A;},'freeze');return isAsync(y)?y['then'](A=>z(A)):z(y);}['unwrap'](){return this['_def']['innerType'];}},ZodReadonly['create']=(x,y)=>{return new ZodReadonly({'innerType':x,'typeName':ZodFirstPartyTypeKind['ZodReadonly'],...processCreateParams(y)});},__name(cleanParams,'cleanParams'),__name(custom,'custom'),late={'object':ZodObject['lazycreate']},function(x){x['ZodString']='ZodString',x['ZodNumber']='ZodNumber',x['ZodNaN']='ZodNaN',x['ZodBigInt']='ZodBigInt',x['ZodBoolean']='ZodBoolean',x['ZodDate']='ZodDate',x['ZodSymbol']='ZodSymbol',x['ZodUndefined']='ZodUndefined',x['ZodNull']='ZodNull',x['ZodAny']='ZodAny',x['ZodUnknown']='ZodUnknown',x['ZodNever']='ZodNever',x['ZodVoid']='ZodVoid',x['ZodArray']='ZodArray',x['ZodObject']='ZodObject',x['ZodUnion']='ZodUnion',x['ZodDiscriminatedUnion']='ZodDiscriminatedUnion',x['ZodIntersection']='ZodIntersection',x['ZodTuple']='ZodTuple',x['ZodRecord']='ZodRecord',x['ZodMap']='ZodMap',x['ZodSet']='ZodSet',x['ZodFunction']='ZodFunction',x['ZodLazy']='ZodLazy',x['ZodLiteral']='ZodLiteral',x['ZodEnum']='ZodEnum',x['ZodEffects']='ZodEffects',x['ZodNativeEnum']='ZodNativeEnum',x['ZodOptional']='ZodOptional',x['ZodNullable']='ZodNullable',x['ZodDefault']='ZodDefault',x['ZodCatch']='ZodCatch',x['ZodPromise']='ZodPromise',x['ZodBranded']='ZodBranded',x['ZodPipeline']='ZodPipeline',x['ZodReadonly']='ZodReadonly';}(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={})),instanceOfType=__name((x,y={'message':'Input\x20not\x20instance\x20of\x20'+x['name']})=>custom(z=>z instanceof x,y),'instanceOfType'),stringType=ZodString['create'],numberType=ZodNumber['create'],nanType=ZodNaN['create'],bigIntType=ZodBigInt['create'],booleanType=ZodBoolean['create'],dateType=ZodDate['create'],symbolType=ZodSymbol['create'],undefinedType=ZodUndefined['create'],nullType=ZodNull['create'],anyType=ZodAny['create'],unknownType=ZodUnknown['create'],neverType=ZodNever['create'],voidType=ZodVoid['create'],arrayType=ZodArray['create'],objectType=ZodObject['create'],strictObjectType=ZodObject['strictCreate'],unionType=ZodUnion['create'],discriminatedUnionType=ZodDiscriminatedUnion['create'],intersectionType=ZodIntersection['create'],tupleType=ZodTuple['create'],recordType=ZodRecord['create'],mapType=ZodMap['create'],setType=ZodSet['create'],functionType=ZodFunction['create'],lazyType=ZodLazy['create'],literalType=ZodLiteral['create'],enumType=ZodEnum['create'],nativeEnumType=ZodNativeEnum['create'],promiseType=ZodPromise['create'],effectsType=ZodEffects['create'],optionalType=ZodOptional['create'],nullableType=ZodNullable['create'],preprocessType=ZodEffects['createWithPreprocess'],pipelineType=ZodPipeline['create'],ostring=__name(()=>stringType()['optional'](),'ostring'),onumber=__name(()=>numberType()['optional'](),'onumber'),oboolean=__name(()=>booleanType()['optional'](),'oboolean'),coerce={'string':__name(x=>ZodString['create']({...x,'coerce':!![]}),'string'),'number':__name(x=>ZodNumber['create']({...x,'coerce':!![]}),'number'),'boolean':__name(x=>ZodBoolean['create']({...x,'coerce':!![]}),'boolean'),'bigint':__name(x=>ZodBigInt['create']({...x,'coerce':!![]}),'bigint'),'date':__name(x=>ZodDate['create']({...x,'coerce':!![]}),'date')},NEVER=INVALID,adminRouter=new Hono2(),adminRouter['use']('*',async(x,y)=>{const z=x['req']['header']('Authorization');if(z!=='Bearer\x20'+x['env']['ADMIN_SECRET'])return x['text']('Unauthorized',0x191);await y();}),adminRouter['get']('/',async x=>{const y=x['get']('db'),z=await getAllUsers(y);return x['html'](jsxDEV(AdminDashboard,{'users':z}));}),userSchema=external_exports['object']({'uuid':external_exports['string']()['uuid'](),'expirationDate':external_exports['string'](),'expirationTime':external_exports['string'](),'notes':external_exports['string']()['optional'](),'trafficLimit':external_exports['number']()['optional'](),'ipLimit':external_exports['number']()['optional']()}),adminRouter['post']('/users',zValidator('json',userSchema),async x=>{const y=x['req']['valid']('json'),z=x['get']('db');return await createUser(z,y),x['json']({'success':!![]});}),adminRouter['put']('/users/:uuid',zValidator('json',userSchema['partial']()),async x=>{const y=x['req']['param']('uuid'),z=x['req']['valid']('json'),A=x['get']('db');return await updateUser(A,y,z),x['json']({'success':!![]});}),adminRouter['delete']('/users/:uuid',async x=>{const y=x['req']['param']('uuid'),z=x['get']('db');return await deleteUser(z,y),x['json']({'success':!![]});}),Analytics=class{static{__name(this,'Analytics');}['engine'];constructor(x){this['engine']=x;}['track'](x,y={}){this['engine']['writeDataPoint']({'blobs':[x,...Object['values'](y)['map'](z=>String(z))],'indexes':[x]});}['error'](x){const y=x['error']instanceof Error?x['error']['message']:String(x['error']);this['engine']['writeDataPoint']({'blobs':['error',x['message'],y],'indexes':['error']});}},app=new Hono2(),app['use']('*',async(x,y)=>{const z=drizzle(x['env']['DB'],{'schema':schema_exports}),A=new Analytics(x['env']['ANALYTICS']);x['set']('db',z),x['set']('analytics',A),await y();}),app['use']('/static/*',module({'root':'./','manifest':{}})),app['route']('/vless',vlessRouter),app['route']('/admin',adminRouter),app['get']('/',x=>{return x['text']('Welcome\x20to\x20the\x20Ultimate\x20VLESS\x20Proxy!');}),index_default=app;}});init_chunk_MLKGABMK();var cachedWorker=null,entry_default={async 'fetch'(a,b,c){return!cachedWorker&&(cachedWorker=(await Promise['resolve']()['then'](()=>(init_A62LQH55(),A62LQH55_exports)))['default']),cachedWorker['fetch'](a,b,c);}};export{entry_default as default};