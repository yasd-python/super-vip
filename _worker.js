// <!--GAMFC-->version base on commit: 2118de479a6355d9d19ffbdb5ddf571a29d28242 - last update: 2025-11-17 21:06:22 UTC <!--GAMFC-END-->.

import{connect}from'cloudflare:sockets';const Config={'userID':'d342d11e-d424-4583-b36e-524ab1f0afa4','proxyIPs':['nima.nscl.ir:443','bpb.yousef.isegaro.com:443'],'scamalytics':{'username':'','apiKey':'','baseUrl':'https://api12.scamalytics.com/v3/'},'socks5':{'enabled':![],'relayMode':![],'address':''},async 'fromEnv'(a){let b=null;if(a['D1'])try{const {results:f}=await a['D1']['prepare']('SELECT\x20ip\x20FROM\x20proxy_scans\x20WHERE\x20is_current_best\x20=\x201\x20LIMIT\x201')['all']();b=f[0x0]?.['ip']||null,b&&console['log']('Using\x20proxy\x20IP\x20from\x20D1:\x20'+b);}catch(g){console['error']('Failed\x20to\x20read\x20from\x20D1:\x20'+g['message']);}!b&&(b=a['PROXYIP'],b&&console['log']('Using\x20proxy\x20IP\x20from\x20env.PROXYIP:\x20'+b));!b&&(b=this['proxyIPs'][Math['floor'](Math['random']()*this['proxyIPs']['length'])],b&&console['log']('Using\x20proxy\x20IP\x20from\x20hardcoded\x20list:\x20'+b));!b&&(console['error']('CRITICAL:\x20No\x20proxy\x20IP\x20could\x20be\x20determined'),b=this['proxyIPs'][0x0]);const [c,d='443']=b['split'](':');return{'userID':a['UUID']||this['userID'],'proxyIP':c,'proxyPort':parseInt(d,0xa),'proxyAddress':b,'scamalytics':{'username':a['SCAMALYTICS_USERNAME']||this['scamalytics']['username'],'apiKey':a['SCAMALYTICS_API_KEY']||this['scamalytics']['apiKey'],'baseUrl':a['SCAMALYTICS_BASEURL']||this['scamalytics']['baseUrl']},'socks5':{'enabled':!!a['SOCKS5'],'relayMode':a['SOCKS5_RELAY']==='true'||this['socks5']['relayMode'],'address':a['SOCKS5']||this['socks5']['address']}};}},CONST={'ED_PARAMS':{'ed':0xa00,'eh':'Sec-WebSocket-Protocol'},'VLESS_PROTOCOL':'vless','WS_READY_STATE_OPEN':0x1,'WS_READY_STATE_CLOSING':0x2,'ADMIN_LOGIN_FAIL_LIMIT':0x5,'ADMIN_LOGIN_LOCK_TTL':0x258,'SCAMALYTICS_THRESHOLD':0x32,'USER_PATH_RATE_LIMIT':0x14,'USER_PATH_RATE_TTL':0x3c,'AUTO_REFRESH_INTERVAL':0xea60,'IP_CLEANUP_AGE_DAYS':0x1e};function generateNonce(){const a=new Uint8Array(0x10);return crypto['getRandomValues'](a),btoa(String['fromCharCode']['apply'](null,a));}function addSecurityHeaders(a,b,c={}){const d=['default-src\x20\x27self\x27','form-action\x20\x27self\x27','object-src\x20\x27none\x27','frame-ancestors\x20\x27none\x27','base-uri\x20\x27self\x27',b?'script-src\x20\x27nonce-'+b+'\x27\x20https://cdnjs.cloudflare.com\x20https://unpkg.com\x20\x27unsafe-inline\x27':'script-src\x20\x27self\x27\x20https://cdnjs.cloudflare.com\x20https://unpkg.com\x20\x27unsafe-inline\x27',b?'style-src\x20\x27nonce-'+b+'\x27\x20\x27unsafe-inline\x27\x20\x27unsafe-hashes\x27':'style-src\x20\x27self\x27\x20\x27unsafe-inline\x27\x20\x27unsafe-hashes\x27',('img-src\x20\x27self\x27\x20data:\x20https:\x20blob:\x20'+(c['img']||''))['trim'](),('connect-src\x20\x27self\x27\x20https:\x20'+(c['connect']||''))['trim']()];a['set']('Content-Security-Policy',d['join'](';\x20')),a['set']('Strict-Transport-Security','max-age=63072000;\x20includeSubDomains;\x20preload'),a['set']('X-Content-Type-Options','nosniff'),a['set']('X-Frame-Options','SAMEORIGIN'),a['set']('Referrer-Policy','strict-origin-when-cross-origin'),a['set']('Permissions-Policy','camera=(),\x20microphone=(),\x20geolocation=(),\x20payment=(),\x20usb=()'),a['set']('alt-svc','h3=\x22:443\x22;\x20ma=0'),a['set']('Cross-Origin-Opener-Policy','same-origin'),a['set']('Cross-Origin-Embedder-Policy','require-corp'),a['set']('Cross-Origin-Resource-Policy','same-origin');}function timingSafeEqual(c,d){if(typeof c!=='string'||typeof d!=='string')return![];const e=c['length'],f=d['length'];let g=0x0;if(e!==f){for(let h=0x0;h<e;h++){g|=c['charCodeAt'](h)^c['charCodeAt'](h);}return![];}for(let j=0x0;j<e;j++){g|=c['charCodeAt'](j)^d['charCodeAt'](j);}return g===0x0;}function escapeHTML(a){if(typeof a!=='string')return'';return a['replace'](/[&<>"']/g,b=>({'&':'&amp;','<':'&lt;','>':'&gt;','\x22':'&quot;','\x27':'&#39;'}[b]));}function generateUUID(){return crypto['randomUUID']();}function isValidUUID(a){if(typeof a!=='string')return![];const b=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return b['test'](a);}function isExpired(a,b){if(!a||!b)return!![];const c=b['includes'](':')&&b['split'](':')['length']===0x2?b+':00':b,d=c['split']('.')[0x0],e=new Date(a+'T'+d+'Z');return e<=new Date()||isNaN(e['getTime']());}function formatBytes(a){if(a===0x0)return'0\x20Bytes';const b=0x400,c=['Bytes','KB','MB','GB','TB'],d=Math['floor'](Math['log'](a)/Math['log'](b));return parseFloat((a/Math['pow'](b,d))['toFixed'](0x2))+'\x20'+c[d];}async function kvGet(a,b,c='text'){try{const d=a['prepare']('SELECT\x20value,\x20expiration\x20FROM\x20key_value\x20WHERE\x20key\x20=\x20?')['bind'](b),f=await d['first']();if(!f)return null;if(f['expiration']&&f['expiration']<Math['floor'](Date['now']()/0x3e8))return await a['prepare']('DELETE\x20FROM\x20key_value\x20WHERE\x20key\x20=\x20?')['bind'](b)['run'](),null;if(c==='json')try{return JSON['parse'](f['value']);}catch(g){return console['error']('Failed\x20to\x20parse\x20JSON\x20for\x20key\x20'+b+':\x20'+g),null;}return f['value'];}catch(h){return console['error']('kvGet\x20error\x20for\x20'+b+':\x20'+h),null;}}async function kvPut(a,b,c,d={}){try{typeof c==='object'&&(c=JSON['stringify'](c));const f=d['expirationTtl']?Math['floor'](Date['now']()/0x3e8+d['expirationTtl']):null;await a['prepare']('INSERT\x20OR\x20REPLACE\x20INTO\x20key_value\x20(key,\x20value,\x20expiration)\x20VALUES\x20(?,\x20?,\x20?)')['bind'](b,c,f)['run']();}catch(g){console['error']('kvPut\x20error\x20for\x20'+b+':\x20'+g);}}async function kvDelete(a,b){try{await a['prepare']('DELETE\x20FROM\x20key_value\x20WHERE\x20key\x20=\x20?')['bind'](b)['run']();}catch(c){console['error']('kvDelete\x20error\x20for\x20'+b+':\x20'+c);}}async function getUserData(a,b,c){if(!isValidUUID(b))return null;if(!a['DB'])return console['error']('D1\x20binding\x20missing'),null;const d='user:'+b;try{const h=await kvGet(a['DB'],d,'json');if(h&&h['uuid'])return h;}catch(i){console['error']('Failed\x20to\x20get\x20cached\x20data\x20for\x20'+b,i);}const f=await a['DB']['prepare']('SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')['bind'](b)['first']();if(!f)return null;const g=kvPut(a['DB'],d,f,{'expirationTtl':0xe10});return c?c['waitUntil'](g):await g,f;}async function updateUsage(a,b,c,d){if(c<=0x0||!b)return;const e='usage_lock:'+b;let f=![];try{while(!f){const j=await kvGet(a['DB'],e);!j?(await kvPut(a['DB'],e,'locked',{'expirationTtl':0x5}),f=!![]):await new Promise(k=>setTimeout(k,0x64));}const g=Math['round'](c),h=a['DB']['prepare']('UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?')['bind'](g,b)['run'](),i=kvDelete(a['DB'],'user:'+b);d?d['waitUntil'](Promise['all']([h,i])):await Promise['all']([h,i]);}catch(k){console['error']('Failed\x20to\x20update\x20usage\x20for\x20'+b+':',k);}finally{f&&await kvDelete(a['DB'],e);}}async function cleanupOldIps(a,b){const c=a['DB']['prepare']('DELETE\x20FROM\x20user_ips\x20WHERE\x20last_seen\x20<\x20datetime(\x27now\x27,\x20?)')['bind']('-'+CONST['IP_CLEANUP_AGE_DAYS']+'\x20days')['run']();b?b['waitUntil'](c):await c;}async function isSuspiciousIP(a,b,c=CONST['SCAMALYTICS_THRESHOLD']){if(!b['username']||!b['apiKey'])return console['warn']('⚠️\x20\x20Scamalytics\x20API\x20credentials\x20not\x20configured.\x20IP\x20'+a+'\x20allowed\x20by\x20default\x20(fail-open\x20mode).\x20Set\x20SCAMALYTICS_USERNAME\x20and\x20SCAMALYTICS_API_KEY\x20for\x20protection.'),![];const d=new AbortController(),f=setTimeout(()=>d['abort'](),0x1388);try{const g=b['baseUrl']+'score?username='+b['username']+'&ip='+a+'&key='+b['apiKey'],h=await fetch(g,{'signal':d['signal']});if(!h['ok'])return console['warn']('Scamalytics\x20API\x20returned\x20'+h['status']+'\x20for\x20'+a+'.\x20Allowing\x20(fail-open).'),![];const i=await h['json']();return i['score']>=c;}catch(j){return j['name']==='AbortError'?console['warn']('Scamalytics\x20timeout\x20for\x20'+a+'.\x20Allowing\x20(fail-open).'):console['error']('Scamalytics\x20error\x20for\x20'+a+':\x20'+j['message']+'.\x20Allowing\x20(fail-open).'),![];}finally{clearTimeout(f);}}function base32ToBuffer(a){const b='ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',c=a['toUpperCase']()['replace'](/=+$/,'');let d=0x0,e=0x0,f=0x0;const g=new Uint8Array(Math['floor'](c['length']*0x5/0x8));for(let h=0x0;h<c['length'];h++){const j=c[h],k=b['indexOf'](j);if(k===-0x1)throw new Error('Invalid\x20Base32\x20character');e=e<<0x5|k,d+=0x5,d>=0x8&&(g[f++]=e>>>d-0x8&0xff,d-=0x8);}return g['buffer'];}async function generateHOTP(a,b){const c=new ArrayBuffer(0x8),d=new DataView(c);d['setBigUint64'](0x0,BigInt(b),![]);const e=await crypto['subtle']['importKey']('raw',a,{'name':'HMAC','hash':'SHA-1'},![],['sign']),f=await crypto['subtle']['sign']('HMAC',e,c),g=new Uint8Array(f),h=g[g['length']-0x1]&0xf,i=(g[h]&0x7f)<<0x18|(g[h+0x1]&0xff)<<0x10|(g[h+0x2]&0xff)<<0x8|g[h+0x3]&0xff,j=i%0xf4240;return j['toString']()['padStart'](0x6,'0');}async function validateTOTP(a,b){if(!a||!b||b['length']!==0x6||!/^\d{6}$/['test'](b))return![];let c;try{c=base32ToBuffer(a);}catch(i){return console['error']('Failed\x20to\x20decode\x20TOTP\x20secret:',i['message']),![];}const d=0x1e,f=Math['floor'](Date['now']()/0x3e8),g=Math['floor'](f/d),h=[g,g-0x1,g+0x1];for(const j of h){const k=await generateHOTP(c,j);if(timingSafeEqual(b,k))return!![];}return![];}async function hashSHA256(a){const b=new TextEncoder(),c=b['encode'](a),d=await crypto['subtle']['digest']('SHA-256',c),e=Array['from'](new Uint8Array(d));return e['map'](f=>f['toString'](0x10)['padStart'](0x2,'0'))['join']('');}async function checkRateLimit(a,b,c,d){const e=await kvGet(a,b),f=parseInt(e,0xa)||0x0;if(f>=c)return!![];return await kvPut(a,b,(f+0x1)['toString'](),{'expirationTtl':d}),![];}const byteToHex=Array['from']({'length':0x100},(a,b)=>(b+0x100)['toString'](0x10)['slice'](0x1));function unsafeStringify(a,b=0x0){return(byteToHex[a[b]]+byteToHex[a[b+0x1]]+byteToHex[a[b+0x2]]+byteToHex[a[b+0x3]]+'-'+byteToHex[a[b+0x4]]+byteToHex[a[b+0x5]]+'-'+byteToHex[a[b+0x6]]+byteToHex[a[b+0x7]]+'-'+byteToHex[a[b+0x8]]+byteToHex[a[b+0x9]]+'-'+byteToHex[a[b+0xa]]+byteToHex[a[b+0xb]]+byteToHex[a[b+0xc]]+byteToHex[a[b+0xd]]+byteToHex[a[b+0xe]]+byteToHex[a[b+0xf]])['toLowerCase']();}function stringify(a,b=0x0){const c=unsafeStringify(a,b);if(!isValidUUID(c))throw new TypeError('Stringified\x20UUID\x20is\x20invalid');return c;}function generateRandomPath(a=0xc,b=''){const c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';let d='';for(let e=0x0;e<a;e++){d+=c['charAt'](Math['floor'](Math['random']()*c['length']));}return'/'+d+(b?'?'+b:'');}const CORE_PRESETS={'xray':{'tls':{'path':()=>generateRandomPath(0xc,'ed=2048'),'security':'tls','fp':'chrome','alpn':'http/1.1','extra':{}},'tcp':{'path':()=>generateRandomPath(0xc,'ed=2048'),'security':'none','fp':'chrome','extra':{}}},'sb':{'tls':{'path':()=>generateRandomPath(0x12),'security':'tls','fp':'firefox','alpn':'h3','extra':CONST['ED_PARAMS']},'tcp':{'path':()=>generateRandomPath(0x12),'security':'none','fp':'firefox','extra':CONST['ED_PARAMS']}}};function makeName(a,b){return a+'-'+b['toUpperCase']();}function createVlessLink({userID:a,address:b,port:c,host:d,path:e,security:f,sni:g,fp:h,alpn:i,extra:extra={},name:j}){const l=new URLSearchParams({'type':'ws','host':d,'path':e});if(f)l['set']('security',f);if(g)l['set']('sni',g);if(h)l['set']('fp',h);if(i)l['set']('alpn',i);for(const [m,n]of Object['entries'](extra))l['set'](m,n);return'vless://'+a+'@'+b+':'+c+'?'+l['toString']()+'#'+encodeURIComponent(j);}function buildLink({core:a,proto:b,userID:c,hostName:d,address:e,port:f,tag:g}){const h=CORE_PRESETS[a][b];return createVlessLink({'userID':c,'address':e,'port':f,'host':d,'path':h['path'](),'security':h['security'],'sni':h['security']==='tls'?d:undefined,'fp':h['fp'],'alpn':h['alpn'],'extra':h['extra'],'name':makeName(g,b)});}const pick=a=>a[Math['floor'](Math['random']()*a['length'])];async function handleIpSubscription(a,b,c){const d=[c,'creativecommons.org','mail.tm','temp-mail.org','ipaddress.my','mdbmax.com','check-host.net','kodambroker.com','iplocation.io','whatismyip.org','ifciran.net','whatismyip.com','www.speedtest.net','www.linkedin.com','exir.io','arzex.io','ok-ex.io','arzdigital.com','pouyanit.com','auth.grok.com','grok.com','whatismyip.live','whatismyip.org','maxmind.com','whatsmyip.com','iplocation.net','ipchicken.com','showmyip.com','whatsmyip.now','router-network.com','sky.rethinkdns.com','cfip.1323123.xyz','go.inmobi.com','whatismyipaddress.com','cf.090227.xyz','cdnjs.com','zula.ir'],f=[0x1bb,0x20fb,0x805,0x823,0x827,0x830],g=[0x50,0x1f90,0x22b0,0x804,0x822,0x826,0x82f];let h=[];const i=c['endsWith']('.pages.dev');d['forEach']((k,l)=>{h['push'](buildLink({'core':a,'proto':'tls','userID':b,'hostName':c,'address':k,'port':pick(f),'tag':'D'+(l+0x1)})),!i&&h['push'](buildLink({'core':a,'proto':'tcp','userID':b,'hostName':c,'address':k,'port':pick(g),'tag':'D'+(l+0x1)}));});try{const k=await fetch('https://raw.githubusercontent.com/NiREvil/vless/refs/heads/main/Cloudflare-IPs.json');if(k['ok']){const l=await k['json'](),m=[...l['ipv4']??[],...l['ipv6']??[]]['slice'](0x0,0x14)['map'](n=>n['ip']);m['forEach']((n,o)=>{const p=n['includes'](':')?'['+n+']':n;h['push'](buildLink({'core':a,'proto':'tls','userID':b,'hostName':c,'address':p,'port':pick(f),'tag':'IP'+(o+0x1)})),!i&&h['push'](buildLink({'core':a,'proto':'tcp','userID':b,'hostName':c,'address':p,'port':pick(g),'tag':'IP'+(o+0x1)}));});}}catch(n){console['error']('Fetch\x20IP\x20list\x20failed',n);}const j=new Headers({'Content-Type':'text/plain;charset=utf-8'});return addSecurityHeaders(j,null,{}),new Response(btoa(h['join']('\x0a')),{'headers':j});}const adminLoginHTML=['<!DOCTYPE\x20html>','<html\x20lang=\x22en\x22>','<head>','\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>','\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>','\x20\x20\x20\x20<title>Admin\x20Login</title>','\x20\x20\x20\x20<style\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>','\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20display:\x20flex;\x20justify-content:\x20center;\x20align-items:\x20center;\x20height:\x20100vh;\x20margin:\x200;\x20background-color:\x20#121212;\x20font-family:\x20-apple-system,\x20BlinkMacSystemFont,\x20\x22Segoe\x20UI\x22,\x20Roboto,\x20Helvetica,\x20Arial,\x20sans-serif;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.login-container\x20{\x20background-color:\x20#1e1e1e;\x20padding:\x2040px;\x20border-radius:\x2012px;\x20box-shadow:\x200\x204px\x2020px\x20rgba(0,\x200,\x200,\x200.5);\x20text-align:\x20center;\x20width:\x20320px;\x20border:\x201px\x20solid\x20#333;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20h1\x20{\x20color:\x20#ffffff;\x20margin-bottom:\x2024px;\x20font-weight:\x20500;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20form\x20{\x20display:\x20flex;\x20flex-direction:\x20column;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22password\x22],\x20input[type=\x22text\x22]\x20{\x20background-color:\x20#2c2c2c;\x20border:\x201px\x20solid\x20#444;\x20color:\x20#ffffff;\x20padding:\x2012px;\x20border-radius:\x208px;\x20margin-bottom:\x2020px;\x20font-size:\x2016px;\x20box-sizing:\x20border-box;\x20width:\x20100%;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22password\x22]:focus,\x20input[type=\x22text\x22]:focus\x20{\x20outline:\x20none;\x20border-color:\x20#007aff;\x20box-shadow:\x200\x200\x200\x202px\x20rgba(0,\x20122,\x20255,\x200.3);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20button\x20{\x20background-color:\x20#007aff;\x20color:\x20white;\x20border:\x20none;\x20padding:\x2012px;\x20border-radius:\x208px;\x20font-size:\x2016px;\x20font-weight:\x20600;\x20cursor:\x20pointer;\x20transition:\x20background-color\x200.2s;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20button:hover\x20{\x20background-color:\x20#005ecb;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.error\x20{\x20color:\x20#ff3b30;\x20margin-top:\x2015px;\x20font-size:\x2014px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20@media\x20(max-width:\x20400px)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.login-container\x20{\x20width:\x2090%;\x20padding:\x2025px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20</style>','</head>','<body>','\x20\x20\x20\x20<div\x20class=\x22login-container\x22>','\x20\x20\x20\x20\x20\x20\x20\x20<h1>Admin\x20Login</h1>','\x20\x20\x20\x20\x20\x20\x20\x20<form\x20method=\x22POST\x22\x20action=\x22ADMIN_PATH_PLACEHOLDER\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22password\x22\x20name=\x22password\x22\x20placeholder=\x22Enter\x20admin\x20password\x22\x20required>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20name=\x22totp\x22\x20placeholder=\x22Enter\x20TOTP\x20code\x20(if\x20enabled)\x22\x20autocomplete=\x22off\x22\x20/>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>','\x20\x20\x20\x20\x20\x20\x20\x20</form>','\x20\x20\x20\x20</div>','</body>','</html>']['join']('\x0a'),adminPanelHTML=['<!DOCTYPE\x20html>','<html\x20lang=\x22en\x22>','<head>','\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>','\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>','\x20\x20\x20\x20<title>Admin\x20Dashboard</title>','\x20\x20\x20\x20<style\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>','\x20\x20\x20\x20\x20\x20\x20\x20:root\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--bg-main:\x20#111827;\x20--bg-card:\x20#1F2937;\x20--border:\x20#374151;\x20--text-primary:\x20#F9FAFB;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--text-secondary:\x20#9CA3AF;\x20--accent:\x20#3B82F6;\x20--accent-hover:\x20#2563EB;\x20--danger:\x20#EF4444;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--danger-hover:\x20#DC2626;\x20--success:\x20#22C55E;\x20--expired:\x20#F59e0b;\x20--btn-secondary-bg:\x20#4B5563;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20margin:\x200;\x20font-family:\x20-apple-system,\x20BlinkMacSystemFont,\x20\x22Segoe\x20UI\x22,\x20Roboto,\x20sans-serif;\x20background-color:\x20var(--bg-main);\x20color:\x20var(--text-primary);\x20font-size:\x2014px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x201200px;\x20margin:\x2040px\x20auto;\x20padding:\x200\x2020px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20h1,\x20h2\x20{\x20font-weight:\x20600;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20h1\x20{\x20font-size:\x2024px;\x20margin-bottom:\x2020px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20h2\x20{\x20font-size:\x2018px;\x20border-bottom:\x201px\x20solid\x20var(--border);\x20padding-bottom:\x2010px;\x20margin-bottom:\x2020px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.card\x20{\x20background-color:\x20var(--bg-card);\x20border-radius:\x208px;\x20padding:\x2024px;\x20border:\x201px\x20solid\x20var(--border);\x20box-shadow:\x200\x204px\x206px\x20rgba(0,0,0,0.1);\x20margin-bottom:\x2020px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.dashboard-stats\x20{\x20display:\x20grid;\x20grid-template-columns:\x20repeat(auto-fit,\x20minmax(200px,\x201fr));\x20gap:\x2016px;\x20margin-bottom:\x2024px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.stat-card\x20{\x20background:\x20#1F2937;\x20padding:\x2016px;\x20border-radius:\x208px;\x20text-align:\x20center;\x20border:\x201px\x20solid\x20var(--border);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.stat-value\x20{\x20font-size:\x2024px;\x20font-weight:\x20600;\x20color:\x20var(--accent);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.stat-label\x20{\x20font-size:\x2012px;\x20color:\x20var(--text-secondary);\x20text-transform:\x20uppercase;\x20margin-top:\x204px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.form-grid\x20{\x20display:\x20grid;\x20grid-template-columns:\x20repeat(auto-fit,minmax(200px,\x201fr));\x20gap:\x2016px;\x20align-items:\x20flex-end;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.form-group\x20{\x20display:\x20flex;\x20flex-direction:\x20column;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.form-group\x20label\x20{\x20margin-bottom:\x208px;\x20font-weight:\x20500;\x20color:\x20var(--text-secondary);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.form-group\x20.input-group\x20{\x20display:\x20flex;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22text\x22],\x20input[type=\x22date\x22],\x20input[type=\x22time\x22],\x20input[type=\x22number\x22],\x20select\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x20box-sizing:\x20border-box;\x20background-color:\x20#374151;\x20border:\x201px\x20solid\x20#4B5563;\x20color:\x20var(--text-primary);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x20border-radius:\x206px;\x20font-size:\x2014px;\x20transition:\x20border-color\x200.2s;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20input:focus,\x20select:focus\x20{\x20outline:\x20none;\x20border-color:\x20var(--accent);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.label-note\x20{\x20font-size:\x2011px;\x20color:\x20var(--text-secondary);\x20margin-top:\x204px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2016px;\x20border:\x20none;\x20border-radius:\x206px;\x20font-weight:\x20600;\x20cursor:\x20pointer;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s;\x20display:\x20inline-flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x20gap:\x208px;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn:active\x20{\x20transform:\x20scale(0.98);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-primary\x20{\x20background-color:\x20var(--accent);\x20color:\x20white;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-primary:hover\x20{\x20background-color:\x20var(--accent-hover);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-secondary\x20{\x20background-color:\x20var(--btn-secondary-bg);\x20color:\x20white;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-secondary:hover\x20{\x20background-color:\x20#6B7280;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-danger\x20{\x20background-color:\x20var(--danger);\x20color:\x20white;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-danger:hover\x20{\x20background-color:\x20var(--danger-hover);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.input-group\x20.btn-secondary\x20{\x20border-top-left-radius:\x200;\x20border-bottom-left-radius:\x200;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.input-group\x20input\x20{\x20border-top-right-radius:\x200;\x20border-bottom-right-radius:\x200;\x20border-right:\x20none;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.input-group\x20select\x20{\x20border-top-left-radius:\x200;\x20border-bottom-left-radius:\x200;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.search-input\x20{\x20width:\x20100%;\x20margin-bottom:\x2016px;\x20box-sizing:\x20border-box;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.table-wrapper\x20{\x20overflow-x:\x20auto;\x20-webkit-overflow-scrolling:\x20touch;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20margin-top:\x2020px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20th,\x20td\x20{\x20padding:\x2012px\x2016px;\x20text-align:\x20left;\x20border-bottom:\x201px\x20solid\x20var(--border);\x20white-space:\x20nowrap;\x20overflow:\x20hidden;\x20text-overflow:\x20ellipsis;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20th\x20{\x20color:\x20var(--text-secondary);\x20font-weight:\x20600;\x20font-size:\x2012px;\x20text-transform:\x20uppercase;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20td\x20{\x20color:\x20var(--text-primary);\x20font-family:\x20\x22SF\x20Mono\x22,\x20\x22Fira\x20Code\x22,\x20monospace;\x20font-size:\x2013px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.status-badge\x20{\x20padding:\x204px\x208px;\x20border-radius:\x2012px;\x20font-size:\x2012px;\x20font-weight:\x20600;\x20display:\x20inline-block;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.status-active\x20{\x20background-color:\x20var(--success);\x20color:\x20#064E3B;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.status-expired\x20{\x20background-color:\x20var(--expired);\x20color:\x20#78350F;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.actions-cell\x20.btn\x20{\x20padding:\x206px\x2010px;\x20font-size:\x2012px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20#toast\x20{\x20position:\x20fixed;\x20top:\x2020px;\x20right:\x2020px;\x20background-color:\x20var(--bg-card);\x20color:\x20white;\x20padding:\x2015px\x2020px;\x20border-radius:\x208px;\x20z-index:\x201001;\x20display:\x20none;\x20border:\x201px\x20solid\x20var(--border);\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.3);\x20opacity:\x200;\x20transition:\x20opacity\x200.3s,\x20transform\x200.3s;\x20transform:\x20translateY(-20px);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20#toast.show\x20{\x20display:\x20block;\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20#toast.error\x20{\x20border-left:\x205px\x20solid\x20var(--danger);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20#toast.success\x20{\x20border-left:\x205px\x20solid\x20var(--success);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.uuid-cell\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20space-between;\x20gap:\x208px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.uuid-text\x20{\x20flex:\x201;\x20overflow:\x20hidden;\x20text-overflow:\x20ellipsis;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-copy-uuid\x20{\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x204px\x208px;\x20font-size:\x2011px;\x20background-color:\x20rgba(59,\x20130,\x20246,\x200.1);\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(59,\x20130,\x20246,\x200.3);\x20color:\x20var(--accent);\x20border-radius:\x204px;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x20transition:\x20all\x200.2s;\x20white-space:\x20nowrap;\x20flex-shrink:\x200;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-copy-uuid:hover\x20{\x20background-color:\x20rgba(59,\x20130,\x20246,\x200.2);\x20border-color:\x20var(--accent);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-copy-uuid.copied\x20{\x20background-color:\x20rgba(34,\x20197,\x2094,\x200.1);\x20border-color:\x20rgba(34,\x20197,\x2094,\x200.3);\x20color:\x20var(--success);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.actions-cell\x20{\x20display:\x20flex;\x20gap:\x208px;\x20justify-content:\x20center;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.time-display\x20{\x20display:\x20flex;\x20flex-direction:\x20column;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.time-local\x20{\x20font-weight:\x20600;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.time-utc,\x20.time-relative\x20{\x20font-size:\x2011px;\x20color:\x20var(--text-secondary);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay\x20{\x20position:\x20fixed;\x20top:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x20background-color:\x20rgba(0,0,0,0.7);\x20z-index:\x201000;\x20display:\x20flex;\x20justify-content:\x20center;\x20align-items:\x20center;\x20opacity:\x200;\x20visibility:\x20hidden;\x20transition:\x20opacity\x200.3s,\x20visibility\x200.3s;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay.show\x20{\x20opacity:\x201;\x20visibility:\x20visible;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x20background-color:\x20var(--bg-card);\x20padding:\x2030px;\x20border-radius:\x2012px;\x20box-shadow:\x200\x205px\x2025px\x20rgba(0,0,0,0.4);\x20width:\x2090%;\x20max-width:\x20500px;\x20transform:\x20scale(0.9);\x20transition:\x20transform\x200.3s;\x20border:\x201px\x20solid\x20var(--border);\x20max-height:\x2090vh;\x20overflow-y:\x20auto;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.modal-overlay.show\x20.modal-content\x20{\x20transform:\x20scale(1);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20{\x20display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20border-bottom:\x201px\x20solid\x20var(--border);\x20padding-bottom:\x2015px;\x20margin-bottom:\x2020px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.modal-header\x20h2\x20{\x20margin:\x200;\x20border:\x20none;\x20font-size:\x2020px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.modal-close-btn\x20{\x20background:\x20none;\x20border:\x20none;\x20color:\x20var(--text-secondary);\x20font-size:\x2024px;\x20cursor:\x20pointer;\x20line-height:\x201;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.modal-footer\x20{\x20display:\x20flex;\x20justify-content:\x20flex-end;\x20gap:\x2012px;\x20margin-top:\x2025px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.time-quick-set-group\x20{\x20display:\x20flex;\x20gap:\x208px;\x20margin-top:\x2010px;\x20flex-wrap:\x20wrap;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-outline-secondary\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20transparent;\x20border:\x201px\x20solid\x20var(--btn-secondary-bg);\x20color:\x20var(--text-secondary);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x206px\x2010px;\x20font-size:\x2012px;\x20font-weight:\x20500;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.btn-outline-secondary:hover\x20{\x20background-color:\x20var(--btn-secondary-bg);\x20color:\x20white;\x20border-color:\x20var(--btn-secondary-bg);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.checkbox\x20{\x20width:\x2016px;\x20height:\x2016px;\x20margin-right:\x2010px;\x20cursor:\x20pointer;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20.select-all\x20{\x20cursor:\x20pointer;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.dashboard-stats\x20{\x20grid-template-columns:\x20repeat(auto-fit,\x20minmax(150px,\x201fr));\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20padding:\x200\x2010px;\x20margin:\x2020px\x20auto;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.card\x20{\x20padding:\x2016px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20h1\x20{\x20font-size:\x2020px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.form-grid\x20{\x20grid-template-columns:\x201fr;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.modal-content\x20{\x20width:\x2095%;\x20padding:\x2020px;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.table-wrapper\x20{\x20overflow-x:\x20auto;\x20-webkit-overflow-scrolling:\x20touch;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20table\x20{\x20font-size:\x2012px;\x20}\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20th,\x20td\x20{\x20padding:\x2010px\x208px;\x20font-size:\x2011px;\x20white-space:\x20nowrap;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.actions-cell\x20{\x20flex-wrap:\x20wrap;\x20justify-content:\x20flex-end;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20</style>','</head>','<body>','\x20\x20\x20\x20<div\x20class=\x22container\x22>','\x20\x20\x20\x20\x20\x20\x20\x20<h1>Admin\x20Dashboard</h1>','\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22logoutBtn\x22\x20class=\x22btn\x20btn-danger\x22\x20style=\x22position:\x20absolute;\x20top:\x2020px;\x20right:\x2020px;\x22>Logout</button>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22dashboard-stats\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-value\x22\x20id=\x22total-users\x22>0</div><div\x20class=\x22stat-label\x22>Total\x20Users</div></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-value\x22\x20id=\x22active-users\x22>0</div><div\x20class=\x22stat-label\x22>Active\x20Users</div></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-value\x22\x20id=\x22expired-users\x22>0</div><div\x20class=\x22stat-label\x22>Expired\x20Users</div></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-value\x22\x20id=\x22total-traffic\x22>0\x20KB</div><div\x20class=\x22stat-label\x22>Total\x20Traffic\x20Used</div></div>','\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Create\x20User</h2>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22createUserForm\x22\x20class=\x22form-grid\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22grid-column:\x201\x20/\x20-1;\x22><label\x20for=\x22uuid\x22>UUID</label><div\x20class=\x22input-group\x22><input\x20type=\x22text\x22\x20id=\x22uuid\x22\x20required><button\x20type=\x22button\x22\x20id=\x22generateUUID\x22\x20class=\x22btn\x20btn-secondary\x22>Generate</button></div></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22><label\x20for=\x22expiryDate\x22>Expiry\x20Date</label><input\x20type=\x22date\x22\x20id=\x22expiryDate\x22\x20required></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22expiryTime\x22>Expiry\x20Time\x20(Your\x20Local\x20Time)</label>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22time\x22\x20id=\x22expiryTime\x22\x20step=\x221\x22\x20required>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22label-note\x22>Automatically\x20converted\x20to\x20UTC\x20on\x20save.</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time-quick-set-group\x22\x20data-target-date=\x22expiryDate\x22\x20data-target-time=\x22expiryTime\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22hour\x22>+1\x20Hour</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22day\x22>+1\x20Day</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x227\x22\x20data-unit=\x22day\x22>+1\x20Week</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22month\x22>+1\x20Month</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22><label\x20for=\x22notes\x22>Notes</label><input\x20type=\x22text\x22\x20id=\x22notes\x22\x20placeholder=\x22Optional\x20notes\x22></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22><label\x20for=\x22dataLimit\x22>Data\x20Limit</label><div\x20class=\x22input-group\x22><input\x20type=\x22number\x22\x20id=\x22dataLimit\x22\x20min=\x220\x22\x20step=\x220.01\x22\x20placeholder=\x220\x22><select\x20id=\x22dataUnit\x22><option>KB</option><option>MB</option><option>GB</option><option>TB</option><option\x20value=\x22unlimited\x22\x20selected>Unlimited</option></select></div></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22><label\x20for=\x22ipLimit\x22>IP\x20Limit</label><div\x20class=\x22input-group\x22><input\x20type=\x22number\x22\x20id=\x22ipLimit\x22\x20min=\x22-1\x22\x20step=\x221\x22\x20placeholder=\x22-1\x22><select\x20id=\x22ipUnit\x22><option\x20value=\x22-1\x22\x20selected>Unlimited\x20(-1)</option></select></div></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22><label>&nbsp;</label><button\x20type=\x22submit\x22\x20class=\x22btn\x20btn-primary\x22>Create\x20User</button></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</form>','\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22\x20style=\x22margin-top:\x2030px;\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>User\x20List</h2>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22searchInput\x22\x20class=\x22search-input\x22\x20placeholder=\x22Search\x20by\x20UUID\x20or\x20Notes...\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22deleteSelected\x22\x20class=\x22btn\x20btn-danger\x22\x20style=\x22margin-bottom:\x2016px;\x22>Delete\x20Selected</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-wrapper\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead><tr><th><input\x20type=\x22checkbox\x22\x20id=\x22selectAll\x22\x20class=\x22select-all\x20checkbox\x22></th><th>UUID</th><th>Created</th><th>Expiry\x20(Admin\x20Local)</th><th>Expiry\x20(Tehran)</th><th>Status</th><th>Notes</th><th>Data\x20Limit</th><th>Usage</th><th>IP\x20Limit</th><th>Actions</th></tr></thead>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20id=\x22userList\x22></tbody>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20</div>','\x20\x20\x20\x20<div\x20id=\x22toast\x22></div>','\x20\x20\x20\x20<div\x20id=\x22editModal\x22\x20class=\x22modal-overlay\x22>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>Edit\x20User</h2>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22modalCloseBtn\x22\x20class=\x22modal-close-btn\x22>&times;</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22editUserForm\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22editUuid\x22\x20name=\x22uuid\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22><label\x20for=\x22editExpiryDate\x22>Expiry\x20Date</label><input\x20type=\x22date\x22\x20id=\x22editExpiryDate\x22\x20name=\x22exp_date\x22\x20required></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22editExpiryTime\x22>Expiry\x20Time\x20(Your\x20Local\x20Time)</label>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22time\x22\x20id=\x22editExpiryTime\x22\x20name=\x22exp_time\x22\x20step=\x221\x22\x20required>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22label-note\x22>Your\x20current\x20timezone\x20is\x20used\x20for\x20conversion.</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time-quick-set-group\x22\x20data-target-date=\x22editExpiryDate\x22\x20data-target-time=\x22editExpiryTime\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22hour\x22>+1\x20Hour</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22day\x22>+1\x20Day</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x227\x22\x20data-unit=\x22day\x22>+1\x20Week</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20data-amount=\x221\x22\x20data-unit=\x22month\x22>+1\x20Month</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22><label\x20for=\x22editNotes\x22>Notes</label><input\x20type=\x22text\x22\x20id=\x22editNotes\x22\x20name=\x22notes\x22\x20placeholder=\x22Optional\x20notes\x22></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22><label\x20for=\x22editDataLimit\x22>Data\x20Limit</label><div\x20class=\x22input-group\x22><input\x20type=\x22number\x22\x20id=\x22editDataLimit\x22\x20min=\x220\x22\x20step=\x220.01\x22><select\x20id=\x22editDataUnit\x22><option>KB</option><option>MB</option><option>GB</option><option>TB</option><option\x20value=\x22unlimited\x22>Unlimited</option></select></div></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22><label\x20for=\x22editIpLimit\x22>IP\x20Limit</label><div\x20class=\x22input-group\x22><input\x20type=\x22number\x22\x20id=\x22editIpLimit\x22\x20min=\x22-1\x22\x20step=\x221\x22><select\x20id=\x22editIpUnit\x22><option\x20value=\x22-1\x22>Unlimited\x20(-1)</option></select></div></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22\x20style=\x22margin-top:\x2016px;\x22><label><input\x20type=\x22checkbox\x22\x20id=\x22resetTraffic\x22\x20name=\x22reset_traffic\x22\x20class=\x22checkbox\x22\x20style=\x22width:\x20auto;\x20margin-right:\x208px;\x22>\x20Reset\x20Traffic\x20Usage</label></div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20id=\x22modalCancelBtn\x22\x20class=\x22btn\x20btn-secondary\x22>Cancel</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22btn\x20btn-primary\x22>Save\x20Changes</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</form>','\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20</div>','','\x20\x20\x20\x20<script\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>','\x20\x20\x20\x20\x20\x20\x20\x20document.addEventListener(\x27DOMContentLoaded\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20API_BASE\x20=\x20\x27ADMIN_API_BASE_PATH_PLACEHOLDER\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20allUsers\x20=\x20[];','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20userList\x20=\x20document.getElementById(\x27userList\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20createUserForm\x20=\x20document.getElementById(\x27createUserForm\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20generateUUIDBtn\x20=\x20document.getElementById(\x27generateUUID\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20uuidInput\x20=\x20document.getElementById(\x27uuid\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20toast\x20=\x20document.getElementById(\x27toast\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20editModal\x20=\x20document.getElementById(\x27editModal\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20editUserForm\x20=\x20document.getElementById(\x27editUserForm\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20searchInput\x20=\x20document.getElementById(\x27searchInput\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20selectAll\x20=\x20document.getElementById(\x27selectAll\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteSelected\x20=\x20document.getElementById(\x27deleteSelected\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20logoutBtn\x20=\x20document.getElementById(\x27logoutBtn\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20autoRefreshInterval;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20escapeHTML(str)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(typeof\x20str\x20!==\x20\x27string\x27)\x20return\x20\x27\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20str.replace(/[&<>\x22\x27]/g,\x20m\x20=>\x20({','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27&\x27:\x20\x27&amp;\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27<\x27:\x20\x27&lt;\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27>\x27:\x20\x27&gt;\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27\x22\x27\x20:\x20\x27&quot;\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22\x27\x22:\x20\x27&#39;\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20})[m]);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20formatBytes(bytes)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(bytes\x20===\x200)\x20return\x20\x270\x20Bytes\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20k\x20=\x201024;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20sizes\x20=\x20[\x27Bytes\x27,\x20\x27KB\x27,\x20\x27MB\x27,\x20\x27GB\x27,\x20\x27TB\x27,\x20\x27PB\x27,\x20\x27EB\x27,\x20\x27ZB\x27,\x20\x27YB\x27];','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20i\x20=\x20Math.floor(Math.log(bytes)\x20/\x20Math.log(k));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20parseFloat((bytes\x20/\x20Math.pow(k,\x20i)).toFixed(2))\x20+\x20\x27\x20\x27\x20+\x20sizes[i];','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20showToast(message,\x20isError\x20=\x20false)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20toast.textContent\x20=\x20message;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20toast.className\x20=\x20isError\x20?\x20\x27error\x27\x20:\x20\x27success\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20toast.classList.add(\x27show\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x20toast.classList.remove(\x27show\x27);\x20},\x203000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20getCsrfToken\x20=\x20()\x20=>\x20document.cookie.split(\x27;\x20\x27).find(row\x20=>\x20row.startsWith(\x27csrf_token=\x27))?.split(\x27=\x27)[1]\x20||\x20\x27\x27;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20api\x20=\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20get:\x20(endpoint)\x20=>\x20fetch(API_BASE\x20+\x20endpoint,\x20{\x20credentials:\x20\x27include\x27\x20}).then(handleResponse),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20post:\x20(endpoint,\x20body)\x20=>\x20fetch(API_BASE\x20+\x20endpoint,\x20{\x20method:\x20\x27POST\x27,\x20credentials:\x20\x27include\x27,\x20headers:\x20{\x27Content-Type\x27:\x20\x27application/json\x27,\x20\x27X-CSRF-Token\x27:\x20getCsrfToken()},\x20body:\x20JSON.stringify(body)\x20}).then(handleResponse),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20put:\x20(endpoint,\x20body)\x20=>\x20fetch(API_BASE\x20+\x20endpoint,\x20{\x20method:\x20\x27PUT\x27,\x20credentials:\x20\x27include\x27,\x20headers:\x20{\x27Content-Type\x27:\x20\x27application/json\x27,\x20\x27X-CSRF-Token\x27:\x20getCsrfToken()},\x20body:\x20JSON.stringify(body)\x20}).then(handleResponse),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20delete:\x20(endpoint)\x20=>\x20fetch(API_BASE\x20+\x20endpoint,\x20{\x20method:\x20\x27DELETE\x27,\x20credentials:\x20\x27include\x27,\x20headers:\x20{\x27X-CSRF-Token\x27:\x20getCsrfToken()}\x20}).then(handleResponse),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20handleResponse(response)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.status\x20===\x20401)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Session\x20expired.\x20Please\x20log\x20in\x20again.\x27,\x20true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20window.location.reload(),\x202000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20errorData\x20=\x20await\x20response.json().catch(()\x20=>\x20({\x20error:\x20\x27An\x20unknown\x20error\x20occurred.\x27\x20}));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(errorData.error\x20||\x20\x27Request\x20failed\x20with\x20status\x20\x27\x20+\x20response.status);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20response.status\x20===\x20204\x20?\x20null\x20:\x20response.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20pad\x20=\x20(num)\x20=>\x20num.toString().padStart(2,\x20\x270\x27);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20localToUTC(dateStr,\x20timeStr)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!dateStr\x20||\x20!timeStr)\x20return\x20{\x20utcDate:\x20\x27\x27,\x20utcTime:\x20\x27\x27\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20localDateTime\x20=\x20new\x20Date(dateStr\x20+\x20\x27T\x27\x20+\x20timeStr);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isNaN(localDateTime.getTime()))\x20return\x20{\x20utcDate:\x20\x27\x27,\x20utcTime:\x20\x27\x27\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20year\x20=\x20localDateTime.getUTCFullYear();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20month\x20=\x20pad(localDateTime.getUTCMonth()\x20+\x201);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20day\x20=\x20pad(localDateTime.getUTCDate());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20pad(localDateTime.getUTCHours());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20pad(localDateTime.getUTCMinutes());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20pad(localDateTime.getUTCSeconds());','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20utcDate:\x20year\x20+\x20\x27-\x27\x20+\x20month\x20+\x20\x27-\x27\x20+\x20day,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20utcTime:\x20hours\x20+\x20\x27:\x27\x20+\x20minutes\x20+\x20\x27:\x27\x20+\x20seconds','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20utcToLocal(utcDateStr,\x20utcTimeStr)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!utcDateStr\x20||\x20!utcTimeStr)\x20return\x20{\x20localDate:\x20\x27\x27,\x20localTime:\x20\x27\x27\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20utcDateTime\x20=\x20new\x20Date(utcDateStr\x20+\x20\x27T\x27\x20+\x20utcTimeStr\x20+\x20\x27Z\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isNaN(utcDateTime.getTime()))\x20return\x20{\x20localDate:\x20\x27\x27,\x20localTime:\x20\x27\x27\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20year\x20=\x20utcDateTime.getFullYear();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20month\x20=\x20pad(utcDateTime.getMonth()\x20+\x201);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20day\x20=\x20pad(utcDateTime.getDate());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20pad(utcDateTime.getHours());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20pad(utcDateTime.getMinutes());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20pad(utcDateTime.getSeconds());','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localDate:\x20year\x20+\x20\x27-\x27\x20+\x20month\x20+\x20\x27-\x27\x20+\x20day,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localTime:\x20hours\x20+\x20\x27:\x27\x20+\x20minutes\x20+\x20\x27:\x27\x20+\x20seconds','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20addExpiryTime(dateInputId,\x20timeInputId,\x20amount,\x20unit)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dateInput\x20=\x20document.getElementById(dateInputId);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeInput\x20=\x20document.getElementById(timeInputId);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20date\x20=\x20new\x20Date(dateInput.value\x20+\x20\x27T\x27\x20+\x20(timeInput.value\x20||\x20\x2700:00:00\x27));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isNaN(date.getTime()))\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20date\x20=\x20new\x20Date();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(unit\x20===\x20\x27hour\x27)\x20date.setHours(date.getHours()\x20+\x20amount);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(unit\x20===\x20\x27day\x27)\x20date.setDate(date.getDate()\x20+\x20amount);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(unit\x20===\x20\x27month\x27)\x20date.setMonth(date.getMonth()\x20+\x20amount);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20year\x20=\x20date.getFullYear();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20month\x20=\x20pad(date.getMonth()\x20+\x201);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20day\x20=\x20pad(date.getDate());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20pad(date.getHours());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20pad(date.getMinutes());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20pad(date.getSeconds());','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dateInput.value\x20=\x20year\x20+\x20\x27-\x27\x20+\x20month\x20+\x20\x27-\x27\x20+\x20day;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20timeInput.value\x20=\x20hours\x20+\x20\x27:\x27\x20+\x20minutes\x20+\x20\x27:\x27\x20+\x20seconds;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.addEventListener(\x27click\x27,\x20(e)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20target\x20=\x20e.target.closest(\x27.time-quick-set-group\x20button\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!target)\x20return;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20group\x20=\x20target.closest(\x27.time-quick-set-group\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20addExpiryTime(','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20group.dataset.targetDate,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20group.dataset.targetTime,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parseInt(target.dataset.amount,\x2010),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target.dataset.unit','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20formatExpiryDateTime(expDateStr,\x20expTimeStr)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20expiryUTC\x20=\x20new\x20Date(expDateStr\x20+\x20\x27T\x27\x20+\x20expTimeStr\x20+\x20\x27Z\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isNaN(expiryUTC.getTime()))\x20return\x20{\x20local:\x20\x27Invalid\x20Date\x27,\x20utc:\x20\x27\x27,\x20relative:\x20\x27\x27,\x20tehran:\x20\x27\x27,\x20isExpired:\x20true\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20isExpired\x20=\x20expiryUTC\x20<\x20now;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20commonOptions\x20=\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20year:\x20\x27numeric\x27,\x20month:\x20\x272-digit\x27,\x20day:\x20\x272-digit\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hour:\x20\x272-digit\x27,\x20minute:\x20\x272-digit\x27,\x20second:\x20\x272-digit\x27,\x20hour12:\x20false,\x20timeZoneName:\x20\x27short\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20localTime\x20=\x20expiryUTC.toLocaleString(undefined,\x20commonOptions);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20tehranTime\x20=\x20\x27N/A\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tehranTime\x20=\x20expiryUTC.toLocaleString(\x27en-US\x27,\x20{\x20...commonOptions,\x20timeZone:\x20\x27Asia/Tehran\x27\x20});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(e)\x20{\x20console.error(\x22Could\x20not\x20format\x20Tehran\x20time:\x22,\x20e);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20utcTime\x20=\x20expiryUTC.toISOString().replace(\x27T\x27,\x20\x27\x20\x27).substring(0,\x2019)\x20+\x20\x27\x20UTC\x27;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20relativeTime\x20=\x20\x27\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20rtf\x20=\x20new\x20Intl.RelativeTimeFormat(\x27en\x27,\x20{\x20numeric:\x20\x27auto\x27\x20});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20diffSeconds\x20=\x20(expiryUTC.getTime()\x20-\x20now.getTime())\x20/\x201000;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20diffMinutes\x20=\x20Math.round(diffSeconds\x20/\x2060);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20diffHours\x20=\x20Math.round(diffSeconds\x20/\x203600);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20diffDays\x20=\x20Math.round(diffSeconds\x20/\x2086400);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(Math.abs(diffSeconds)\x20<\x2060)\x20relativeTime\x20=\x20rtf.format(Math.round(diffSeconds),\x20\x27second\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(Math.abs(diffSeconds)\x20<\x203600)\x20relativeTime\x20=\x20rtf.format(diffMinutes,\x20\x27minute\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(Math.abs(diffSeconds)\x20<\x2086400)\x20relativeTime\x20=\x20rtf.format(diffHours,\x20\x27hour\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20relativeTime\x20=\x20rtf.format(diffDays,\x20\x27day\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(e)\x20{\x20console.error(\x22Could\x20not\x20format\x20relative\x20time:\x22,\x20e);\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x20local:\x20localTime,\x20tehran:\x20tehranTime,\x20utc:\x20utcTime,\x20relative:\x20relativeTime,\x20isExpired\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20copyUUID(uuid,\x20button)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20navigator.clipboard.writeText(uuid);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20button.innerHTML;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20\x27✓\x20Copied\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.classList.add(\x27copied\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20originalText;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.classList.remove(\x27copied\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27UUID\x20copied\x20to\x20clipboard!\x27,\x20false);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20textArea\x20=\x20document.createElement(\x22textarea\x22);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.value\x20=\x20uuid;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.style.position\x20=\x20\x22fixed\x22;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.style.top\x20=\x20\x220\x22;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.style.left\x20=\x20\x220\x22;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.appendChild(textArea);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.focus();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.select();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.execCommand(\x27copy\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.removeChild(textArea);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20button.innerHTML;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20\x27✓\x20Copied\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.classList.add(\x27copied\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20originalText;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.classList.remove(\x27copied\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27UUID\x20copied\x20to\x20clipboard!\x27,\x20false);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(err)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Failed\x20to\x20copy\x20UUID\x27,\x20true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Copy\x20error:\x27,\x20error,\x20err);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20fetchStats()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20stats\x20=\x20await\x20api.get(\x27/stats\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27total-users\x27).textContent\x20=\x20stats.total_users;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27active-users\x27).textContent\x20=\x20stats.active_users;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27expired-users\x27).textContent\x20=\x20stats.expired_users;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27total-traffic\x27).textContent\x20=\x20formatBytes(stats.total_traffic);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x20showToast(error.message,\x20true);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20renderUsers(usersToRender\x20=\x20allUsers)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20userList.innerHTML\x20=\x20\x27\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(usersToRender.length\x20===\x200)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20userList.innerHTML\x20=\x20\x27<tr><td\x20colspan=\x2211\x22\x20style=\x22text-align:center;\x22>No\x20users\x20found.</td></tr>\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usersToRender.forEach(user\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20expiry\x20=\x20formatExpiryDateTime(user.expiration_date,\x20user.expiration_time);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20row\x20=\x20document.createElement(\x27tr\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20row.innerHTML\x20=\x20`','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22checkbox\x22\x20class=\x22user-checkbox\x20checkbox\x22\x20data-uuid=\x22${user.uuid}\x22></td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22uuid-cell\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22uuid-text\x22\x20title=\x22${user.uuid}\x22>${user.uuid.substring(0,\x208)}...</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-copy-uuid\x22\x20data-uuid=\x22${user.uuid}\x22>📋\x20Copy</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${new\x20Date(user.created_at).toLocaleString()}</td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time-display\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22time-local\x22\x20title=\x22Your\x20Local\x20Time\x22>${expiry.local}</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22time-utc\x22\x20title=\x22Coordinated\x20Universal\x20Time\x22>${expiry.utc}</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22time-relative\x22>${expiry.relative}</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time-display\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22time-local\x22\x20title=\x22Tehran\x20Time\x20(GMT+03:30)\x22>${expiry.tehran}</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22time-utc\x22>Asia/Tehran</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22status-badge\x20${expiry.isExpired\x20?\x20\x27status-expired\x27\x20:\x20\x27status-active\x27}\x22>${expiry.isExpired\x20?\x20\x27Expired\x27\x20:\x20\x27Active\x27}</span></td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${escapeHTML(user.notes\x20||\x20\x27-\x27)}</td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${user.traffic_limit\x20?\x20formatBytes(user.traffic_limit)\x20:\x20\x27Unlimited\x27}</td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${formatBytes(user.traffic_used\x20||\x200)}</td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${user.ip_limit\x20===\x20-1\x20?\x20\x27Unlimited\x27\x20:\x20user.ip_limit}</td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22actions-cell\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-secondary\x20btn-edit\x22\x20data-uuid=\x22${user.uuid}\x22>Edit</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-delete\x22\x20data-uuid=\x22${user.uuid}\x22>Delete</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20userList.appendChild(row);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20fetchAndRenderUsers()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allUsers\x20=\x20await\x20api.get(\x27/users\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allUsers.sort((a,\x20b)\x20=>\x20new\x20Date(b.created_at)\x20-\x20new\x20Date(a.created_at));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20renderUsers();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fetchStats();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x20showToast(error.message,\x20true);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20startAutoRefresh()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(autoRefreshInterval)\x20clearInterval(autoRefreshInterval);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20autoRefreshInterval\x20=\x20setInterval(async\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Dashboard\x20auto-refreshed\x27,\x20false);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Auto-refresh\x20failed:\x20\x27\x20+\x20error.message,\x20true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x20'+CONST['AUTO_REFRESH_INTERVAL']+');','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20handleCreateUser(e)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20e.preventDefault();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20localDate\x20=\x20document.getElementById(\x27expiryDate\x27).value;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20localTime\x20=\x20document.getElementById(\x27expiryTime\x27).value;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20utcDate,\x20utcTime\x20}\x20=\x20localToUTC(localDate,\x20localTime);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!utcDate||\x20!utcTime)\x20return\x20showToast(\x27Invalid\x20date\x20or\x20time\x20entered.\x27,\x20true);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dataLimit\x20=\x20document.getElementById(\x27dataLimit\x27).value;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dataUnit\x20=\x20document.getElementById(\x27dataUnit\x27).value;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20trafficLimit\x20=\x20null;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dataUnit\x20!==\x20\x27unlimited\x27\x20&&\x20dataLimit)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20multipliers\x20=\x20{\x20KB:\x201024,\x20MB:\x201024**2,\x20GB:\x201024**3,\x20TB:\x201024**4\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20trafficLimit\x20=\x20parseFloat(dataLimit)\x20*\x20(multipliers[dataUnit]\x20||\x201);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipLimit\x20=\x20parseInt(document.getElementById(\x27ipLimit\x27).value)\x20||\x20-1;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20userData\x20=\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uuid:\x20uuidInput.value,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20exp_date:\x20utcDate,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20exp_time:\x20utcTime,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notes:\x20document.getElementById(\x27notes\x27).value,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20traffic_limit:\x20trafficLimit,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip_limit:\x20ipLimit','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.post(\x27/users\x27,\x20userData);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27User\x20created\x20successfully!\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20createUserForm.reset();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uuidInput.value\x20=\x20crypto.randomUUID();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setDefaultExpiry();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x20showToast(error.message,\x20true);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20handleDeleteUser(uuid)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(confirm(\x27Delete\x20user\x20\x27\x20+\x20uuid\x20+\x20\x27?\x27))\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.delete(\x27/users/\x27\x20+\x20uuid);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27User\x20deleted\x20successfully!\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x20showToast(error.message,\x20true);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20handleBulkDelete()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20selected\x20=\x20Array.from(document.querySelectorAll(\x27.user-checkbox:checked\x27)).map(cb\x20=>\x20cb.dataset.uuid);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(selected.length\x20===\x200)\x20return\x20showToast(\x27No\x20users\x20selected.\x27,\x20true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(confirm(\x27Delete\x20\x27\x20+\x20selected.length\x20+\x20\x27\x20selected\x20users?\x27))\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.post(\x27/users/bulk-delete\x27,\x20{\x20uuids:\x20selected\x20});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Selected\x20users\x20deleted\x20successfully!\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x20showToast(error.message,\x20true);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20openEditModal(uuid)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20user\x20=\x20allUsers.find(u\x20=>\x20u.uuid\x20===\x20uuid);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!user)\x20return\x20showToast(\x27User\x20not\x20found.\x27,\x20true);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20localDate,\x20localTime\x20}\x20=\x20utcToLocal(user.expiration_date,\x20user.expiration_time);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editUuid\x27).value\x20=\x20user.uuid;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editExpiryDate\x27).value\x20=\x20localDate;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editExpiryTime\x27).value\x20=\x20localTime;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27editNotes\x27).value\x20=\x20user.notes\x20||\x20\x27\x27;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20editDataLimit\x20=\x20document.getElementById(\x27editDataLimit\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20editDataUnit\x20=\x20document.getElementById(\x27editDataUnit\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(user.traffic_limit\x20===\x20null\x20||\x20user.traffic_limit\x20===\x200)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editDataUnit.value\x20=\x20\x27unlimited\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editDataLimit.value\x20=\x20\x27\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20bytes\x20=\x20user.traffic_limit;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20unit\x20=\x20\x27KB\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20value\x20=\x20bytes\x20/\x201024;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(value\x20>=\x201024)\x20{\x20value\x20=\x20value\x20/\x201024;\x20unit\x20=\x20\x27MB\x27;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(value\x20>=\x201024)\x20{\x20value\x20=\x20value\x20/\x201024;\x20unit\x20=\x20\x27GB\x27;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(value\x20>=\x201024)\x20{\x20value\x20=\x20value\x20/\x201024;\x20unit\x20=\x20\x27TB\x27;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editDataLimit.value\x20=\x20value.toFixed(2);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editDataUnit.value\x20=\x20unit;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20editIpLimit\x20=\x20document.getElementById(\x27editIpLimit\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editIpLimit.value\x20=\x20user.ip_limit\x20!==\x20null\x20?\x20user.ip_limit\x20:\x20-1;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27resetTraffic\x27).checked\x20=\x20false;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editModal.classList.add(\x27show\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20closeEditModal()\x20{\x20editModal.classList.remove(\x27show\x27);\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20handleEditUser(e)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20e.preventDefault();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20localDate\x20=\x20document.getElementById(\x27editExpiryDate\x27).value;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20localTime\x20=\x20document.getElementById(\x27editExpiryTime\x27).value;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20utcDate,\x20utcTime\x20}\x20=\x20localToUTC(localDate,\x20localTime);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!utcDate\x20||\x20!utcTime)\x20return\x20showToast(\x27Invalid\x20date\x20or\x20time\x20entered.\x27,\x20true);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dataLimit\x20=\x20document.getElementById(\x27editDataLimit\x27).value;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dataUnit\x20=\x20document.getElementById(\x27editDataUnit\x27).value;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20trafficLimit\x20=\x20null;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dataUnit\x20!==\x20\x27unlimited\x27\x20&&\x20dataLimit)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20multipliers\x20=\x20{\x20KB:\x201024,\x20MB:\x201024**2,\x20GB:\x201024**3,\x20TB:\x201024**4\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20trafficLimit\x20=\x20parseFloat(dataLimit)\x20*\x20(multipliers[dataUnit]\x20||\x201);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipLimit\x20=\x20parseInt(document.getElementById(\x27editIpLimit\x27).value)\x20||\x20-1;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20updatedData\x20=\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20exp_date:\x20utcDate,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20exp_time:\x20utcTime,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notes:\x20document.getElementById(\x27editNotes\x27).value,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20traffic_limit:\x20trafficLimit,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip_limit:\x20ipLimit,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20reset_traffic:\x20document.getElementById(\x27resetTraffic\x27).checked','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.put(\x27/users/\x27\x20+\x20document.getElementById(\x27editUuid\x27).value,\x20updatedData);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27User\x20updated\x20successfully!\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20closeEditModal();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetchAndRenderUsers();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x20showToast(error.message,\x20true);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20handleLogout()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20api.post(\x27/logout\x27,\x20{});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Logged\x20out\x20successfully!\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20window.location.reload(),\x201000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x20showToast(error.message,\x20true);\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20setDefaultExpiry()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20now.setDate(now.getDate()\x20+\x201);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20year\x20=\x20now.getFullYear();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20month\x20=\x20pad(now.getMonth()\x20+\x201);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20day\x20=\x20pad(now.getDate());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20pad(now.getHours());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20pad(now.getMinutes());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20pad(now.getSeconds());','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27expiryDate\x27).value\x20=\x20year\x20+\x20\x27-\x27\x20+\x20month\x20+\x20\x27-\x27\x20+\x20day;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27expiryTime\x27).value\x20=\x20hours\x20+\x20\x27:\x27\x20+\x20minutes\x20+\x20\x27:\x27\x20+\x20seconds;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20filterUsers()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20searchTerm\x20=\x20searchInput.value.toLowerCase();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20filtered\x20=\x20allUsers.filter(user\x20=>\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user.uuid.toLowerCase().includes(searchTerm)\x20||\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(user.notes\x20&&\x20user.notes.toLowerCase().includes(searchTerm))','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20renderUsers(filtered);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20generateUUIDBtn.addEventListener(\x27click\x27,\x20()\x20=>\x20uuidInput.value\x20=\x20crypto.randomUUID());','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20createUserForm.addEventListener(\x27submit\x27,\x20handleCreateUser);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editUserForm.addEventListener(\x27submit\x27,\x20handleEditUser);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editModal.addEventListener(\x27click\x27,\x20(e)\x20=>\x20{\x20if\x20(e.target\x20===\x20editModal)\x20closeEditModal();\x20});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27modalCloseBtn\x27).addEventListener(\x27click\x27,\x20closeEditModal);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27modalCancelBtn\x27).addEventListener(\x27click\x27,\x20closeEditModal);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20userList.addEventListener(\x27click\x27,\x20(e)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20copyBtn\x20=\x20e.target.closest(\x27.btn-copy-uuid\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(copyBtn)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20uuid\x20=\x20copyBtn.dataset.uuid;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyUUID(uuid,\x20copyBtn);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20actionBtn\x20=\x20e.target.closest(\x27button\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!actionBtn)\x20return;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20uuid\x20=\x20actionBtn.dataset.uuid;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(actionBtn.classList.contains(\x27btn-edit\x27))\x20openEditModal(uuid);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(actionBtn.classList.contains(\x27btn-delete\x27))\x20handleDeleteUser(uuid);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20searchInput.addEventListener(\x27input\x27,\x20filterUsers);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20selectAll.addEventListener(\x27change\x27,\x20(e)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.querySelectorAll(\x27.user-checkbox\x27).forEach(cb\x20=>\x20cb.checked\x20=\x20e.target.checked);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteSelected.addEventListener(\x27click\x27,\x20handleBulkDelete);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20logoutBtn.addEventListener(\x27click\x27,\x20handleLogout);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setDefaultExpiry();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uuidInput.value\x20=\x20crypto.randomUUID();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fetchAndRenderUsers();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20startAutoRefresh();\x20//\x20Start\x20auto-refresh','\x20\x20\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20</script>','</body>','</html>']['join']('\x0a');async function isAdmin(a,b){const c=a['headers']['get']('Cookie');if(!c)return![];const d=c['match'](/auth_token=([^;]+)/)?.[0x1];if(!d)return![];const e=await hashSHA256(d),f=await kvGet(b['DB'],'admin_session_token_hash');return f&&timingSafeEqual(e,f);}async function handleAdminRequest(a,b,c,d){const f=new URL(a['url']),g={'Content-Type':'application/json'},h=new Headers({'Content-Type':'text/html;charset=utf-8'}),i=a['headers']['get']('CF-Connecting-IP');if(!b['ADMIN_KEY'])return addSecurityHeaders(h,null,{}),new Response('Admin\x20panel\x20is\x20not\x20configured.',{'status':0x1f7,'headers':h});if(b['ADMIN_IP_WHITELIST']){const m=b['ADMIN_IP_WHITELIST']['split'](',')['map'](n=>n['trim']());if(!m['includes'](i))return console['warn']('Admin\x20access\x20denied\x20for\x20IP:\x20'+i+'\x20(Not\x20in\x20whitelist)'),addSecurityHeaders(h,null,{}),new Response('Access\x20denied.',{'status':0x193,'headers':h});}else{const n={'username':b['SCAMALYTICS_USERNAME']||Config['scamalytics']['username'],'apiKey':b['SCAMALYTICS_API_KEY']||Config['scamalytics']['apiKey'],'baseUrl':b['SCAMALYTICS_BASEURL']||Config['scamalytics']['baseUrl']};if(await isSuspiciousIP(i,n,b['SCAMALYTICS_THRESHOLD']||CONST['SCAMALYTICS_THRESHOLD']))return console['warn']('Admin\x20access\x20denied\x20for\x20suspicious\x20IP:\x20'+i),addSecurityHeaders(h,null,{}),new Response('Access\x20denied.',{'status':0x193,'headers':h});}if(b['ADMIN_HEADER_KEY']){const o=a['headers']['get']('X-Admin-Auth');if(!timingSafeEqual(o||'',b['ADMIN_HEADER_KEY']))return addSecurityHeaders(h,null,{}),new Response('Access\x20denied.',{'status':0x193,'headers':h});}const j='/'+d+'/'+b['ADMIN_KEY'];if(!f['pathname']['startsWith'](j)){const p=new Headers();return addSecurityHeaders(p,null,{}),new Response('Not\x20found',{'status':0x194,'headers':p});}const k=f['pathname']['substring'](j['length'])||'/';if(k['startsWith']('/api/')){if(!await isAdmin(a,b)){const t=new Headers(g);return addSecurityHeaders(t,null,{}),new Response(JSON['stringify']({'error':'Forbidden'}),{'status':0x193,'headers':t});}const q='admin_api_rate:'+i;if(await checkRateLimit(b['DB'],q,0x64,0x3c)){const u=new Headers(g);return addSecurityHeaders(u,null,{}),new Response(JSON['stringify']({'error':'API\x20rate\x20limit\x20exceeded'}),{'status':0x1ad,'headers':u});}if(a['method']!=='GET'){const v=a['headers']['get']('Origin'),w=a['headers']['get']('Sec-Fetch-Site');if(!v||new URL(v)['hostname']!==f['hostname']||w!=='same-origin'){const z=new Headers(g);return addSecurityHeaders(z,null,{}),new Response(JSON['stringify']({'error':'Invalid\x20Origin/Request'}),{'status':0x193,'headers':z});}const x=a['headers']['get']('X-CSRF-Token'),y=a['headers']['get']('Cookie')?.['match'](/csrf_token=([^;]+)/)?.[0x1];if(!x||!y||!timingSafeEqual(x,y)){const A=new Headers(g);return addSecurityHeaders(A,null,{}),new Response(JSON['stringify']({'error':'CSRF\x20validation\x20failed'}),{'status':0x193,'headers':A});}}if(k==='/api/stats'&&a['method']==='GET'){const B=new Headers(g);addSecurityHeaders(B,null,{});try{const C=await b['DB']['prepare']('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users')['first']('count'),D=await b['DB']['prepare']('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)')['first'](),E=D?.['count']||0x0,F=C-E,G=await b['DB']['prepare']('SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users')['first'](),H=G?.['sum']||0x0;return new Response(JSON['stringify']({'total_users':C,'active_users':F,'expired_users':E,'total_traffic':H}),{'status':0xc8,'headers':B});}catch(I){return new Response(JSON['stringify']({'error':I['message']}),{'status':0x1f4,'headers':B});}}if(k==='/api/users'&&a['method']==='GET'){const J=new Headers(g);addSecurityHeaders(J,null,{});try{const {results:K}=await b['DB']['prepare']('SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC')['all']();return new Response(JSON['stringify'](K??[]),{'status':0xc8,'headers':J});}catch(L){return new Response(JSON['stringify']({'error':L['message']}),{'status':0x1f4,'headers':J});}}if(k==='/api/users'&&a['method']==='POST'){const M=new Headers(g);addSecurityHeaders(M,null,{});try{const {uuid:N,exp_date:O,exp_time:P,notes:Q,traffic_limit:R,ip_limit:S}=await a['json']();if(!N||!O||!P||!/^\d{4}-\d{2}-\d{2}$/['test'](O)||!/^\d{2}:\d{2}:\d{2}$/['test'](P))throw new Error('Invalid\x20or\x20missing\x20fields.\x20Use\x20UUID,\x20YYYY-MM-DD,\x20and\x20HH:MM:SS.');return await b['DB']['prepare']('INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)')['bind'](N,O,P,Q||null,R,S||-0x1)['run'](),c['waitUntil'](kvPut(b['DB'],'user:'+N,{'uuid':N,'expiration_date':O,'expiration_time':P,'notes':Q||null,'traffic_limit':R,'ip_limit':S||-0x1,'traffic_used':0x0},{'expirationTtl':0xe10})),new Response(JSON['stringify']({'success':!![],'uuid':N}),{'status':0xc9,'headers':M});}catch(T){if(T['message']?.['includes']('UNIQUE\x20constraint\x20failed'))return new Response(JSON['stringify']({'error':'A\x20user\x20with\x20this\x20UUID\x20already\x20exists.'}),{'status':0x199,'headers':M});return new Response(JSON['stringify']({'error':T['message']}),{'status':0x190,'headers':M});}}if(k==='/api/users/bulk-delete'&&a['method']==='POST'){const U=new Headers(g);addSecurityHeaders(U,null,{});try{const {uuids:V}=await a['json']();if(!Array['isArray'](V)||V['length']===0x0)throw new Error('Invalid\x20request\x20body:\x20Expected\x20an\x20array\x20of\x20UUIDs.');const W=b['DB']['prepare']('DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?'),X=V['map'](Y=>W['bind'](Y));return await b['DB']['batch'](X),c['waitUntil'](Promise['all'](V['map'](Y=>kvDelete(b['DB'],'user:'+Y)))),new Response(JSON['stringify']({'success':!![],'count':V['length']}),{'status':0xc8,'headers':U});}catch(Y){return new Response(JSON['stringify']({'error':Y['message']}),{'status':0x190,'headers':U});}}const r=k['match'](/^\/api\/users\/([a-f0-9-]+)$/);if(r&&a['method']==='PUT'){const Z=new Headers(g);addSecurityHeaders(Z,null,{});const a0=r[0x1];try{const {exp_date:a1,exp_time:a2,notes:a3,traffic_limit:a4,ip_limit:a5,reset_traffic:a6}=await a['json']();if(!a1||!a2||!/^\d{4}-\d{2}-\d{2}$/['test'](a1)||!/^\d{2}:\d{2}:\d{2}$/['test'](a2))throw new Error('Invalid\x20date/time\x20fields.\x20Use\x20YYYY-MM-DD\x20and\x20HH:MM:SS.');let a7='UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?',a8=[a1,a2,a3||null,a4,a5||-0x1];return a6&&(a7+=',\x20traffic_used\x20=\x200'),a7+='\x20WHERE\x20uuid\x20=\x20?',a8['push'](a0),await b['DB']['prepare'](a7)['bind'](...a8)['run'](),c['waitUntil'](kvDelete(b['DB'],'user:'+a0)),new Response(JSON['stringify']({'success':!![],'uuid':a0}),{'status':0xc8,'headers':Z});}catch(a9){return new Response(JSON['stringify']({'error':a9['message']}),{'status':0x190,'headers':Z});}}if(r&&a['method']==='DELETE'){const aa=new Headers(g);addSecurityHeaders(aa,null,{});const ab=r[0x1];try{return await b['DB']['prepare']('DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')['bind'](ab)['run'](),c['waitUntil'](kvDelete(b['DB'],'user:'+ab)),new Response(JSON['stringify']({'success':!![],'uuid':ab}),{'status':0xc8,'headers':aa});}catch(ac){return new Response(JSON['stringify']({'error':ac['message']}),{'status':0x1f4,'headers':aa});}}if(k==='/api/logout'&&a['method']==='POST'){const ad=new Headers(g);addSecurityHeaders(ad,null,{});try{await kvDelete(b['DB'],'admin_session_token_hash');const ae=['auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict','csrf_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20SameSite=Strict'];return ad['append']('Set-Cookie',ae[0x0]),ad['append']('Set-Cookie',ae[0x1]),new Response(JSON['stringify']({'success':!![]}),{'status':0xc8,'headers':ad});}catch(af){return new Response(JSON['stringify']({'error':af['message']}),{'status':0x1f4,'headers':ad});}}const s=new Headers(g);return addSecurityHeaders(s,null,{}),new Response(JSON['stringify']({'error':'API\x20route\x20not\x20found'}),{'status':0x194,'headers':s});}if(k==='/'){if(a['method']==='POST'){const ah='login_fail_ip:'+i;try{const ai=await kvGet(b['DB'],ah),aj=parseInt(ai,0xa)||0x0;if(aj>=CONST['ADMIN_LOGIN_FAIL_LIMIT'])return addSecurityHeaders(h,null,{}),new Response('Too\x20many\x20failed\x20login\x20attempts.\x20Please\x20try\x20again\x20later.',{'status':0x1ad,'headers':h});const ak=await a['formData']();if(timingSafeEqual(ak['get']('password'),b['ADMIN_KEY'])){if(b['ADMIN_TOTP_SECRET']){const ap=ak['get']('totp');if(!await validateTOTP(b['ADMIN_TOTP_SECRET'],ap)){const aq=generateNonce();addSecurityHeaders(h,aq,{});let ar=adminLoginHTML['replace']('</form>','</form><p\x20class=\x22error\x22>Invalid\x20TOTP\x20code.\x20Attempt\x20'+(aj+0x1)+'\x20of\x20'+CONST['ADMIN_LOGIN_FAIL_LIMIT']+'.</p>');return ar=ar['replace'](/CSP_NONCE_PLACEHOLDER/g,aq),ar=ar['replace']('action=\x22ADMIN_PATH_PLACEHOLDER\x22','action=\x22'+j+'\x22'),new Response(ar,{'status':0x191,'headers':h});}}const al=crypto['randomUUID'](),am=crypto['randomUUID'](),an=await hashSHA256(al);c['waitUntil'](Promise['all']([kvPut(b['DB'],'admin_session_token_hash',an,{'expirationTtl':0x15180}),kvDelete(b['DB'],ah)]));const ao=new Headers({'Location':j});return ao['append']('Set-Cookie','auth_token='+al+';\x20HttpOnly;\x20Secure;\x20Path='+j+';\x20Max-Age=86400;\x20SameSite=Strict'),ao['append']('Set-Cookie','csrf_token='+am+';\x20Secure;\x20Path='+j+';\x20Max-Age=86400;\x20SameSite=Strict'),addSecurityHeaders(ao,null,{}),new Response(null,{'status':0x12e,'headers':ao});}else{c['waitUntil'](kvPut(b['DB'],ah,(aj+0x1)['toString'](),{'expirationTtl':CONST['ADMIN_LOGIN_LOCK_TTL']}));const as=generateNonce();addSecurityHeaders(h,as,{});let at=adminLoginHTML['replace']('</form>','</form><p\x20class=\x22error\x22>Invalid\x20password.\x20Attempt\x20'+(aj+0x1)+'\x20of\x20'+CONST['ADMIN_LOGIN_FAIL_LIMIT']+'.</p>');return at=at['replace'](/CSP_NONCE_PLACEHOLDER/g,as),at=at['replace']('action=\x22ADMIN_PATH_PLACEHOLDER\x22','action=\x22'+j+'\x22'),new Response(at,{'status':0x191,'headers':h});}}catch(au){return console['error']('Admin\x20login\x20error:',au['stack']),addSecurityHeaders(h,null,{}),new Response('An\x20internal\x20error\x20occurred\x20during\x20login.',{'status':0x1f4,'headers':h});}}if(a['method']==='GET'){const av=generateNonce();addSecurityHeaders(h,av,{});let aw;return await isAdmin(a,b)?(aw=adminPanelHTML,aw=aw['replace']('\x27ADMIN_API_BASE_PATH_PLACEHOLDER\x27','\x27'+j+'/api\x27')):(aw=adminLoginHTML,aw=aw['replace']('action=\x22ADMIN_PATH_PLACEHOLDER\x22','action=\x22'+j+'\x22')),aw=aw['replace'](/CSP_NONCE_PLACEHOLDER/g,av),new Response(aw,{'headers':h});}const ag=new Headers();return addSecurityHeaders(ag,null,{}),new Response('Method\x20Not\x20Allowed',{'status':0x195,'headers':ag});}const l=new Headers();return addSecurityHeaders(l,null,{}),new Response('Not\x20found',{'status':0x194,'headers':l});}function handleUserPanel(a,b,c,d){const e='https://'+b+'/xray/'+a,f='https://'+b+'/sb/'+a,g=buildLink({'core':'xray','proto':'tls','userID':a,'hostName':b,'address':b,'port':0x1bb,'tag':'Main'}),h=buildLink({'core':'sb','proto':'tls','userID':a,'hostName':b,'address':b,'port':0x1bb,'tag':'Main'}),i={'universalAndroid':'v2rayng://install-config?url='+encodeURIComponent(e),'windows':'clash://install-config?url='+encodeURIComponent(f),'macos':'clash://install-config?url='+encodeURIComponent(f),'karing':'karing://install-config?url='+encodeURIComponent(e),'shadowrocket':'shadowrocket://add/sub?url='+encodeURIComponent(e)+'&name='+encodeURIComponent(b),'streisand':'streisand://install-config?url='+encodeURIComponent(e)},j=isExpired(d['expiration_date'],d['expiration_time']),k=d['expiration_date']&&d['expiration_time']?d['expiration_date']+'T'+d['expiration_time']+'Z':null;let l=0x0;d['traffic_limit']&&d['traffic_limit']>0x0&&(l=Math['min']((d['traffic_used']||0x0)/d['traffic_limit']*0x64,0x64));let m;if(l>0x0&&l<0.01)m='<\x200.01%';else{if(l===0x0)m='0%';else l===0x64?m='100%':m=l['toFixed'](0x2)+'%';}const n=['<!doctype\x20html>','<html\x20lang=\x22en\x22>','<head>','\x20\x20<meta\x20charset=\x22utf-8\x22\x20/>','\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22\x20/>','\x20\x20<title>User\x20Panel\x20—\x20VLESS\x20Configuration</title>','\x20\x20<style\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>','\x20\x20\x20\x20:root{','\x20\x20\x20\x20\x20\x20--bg:#0b1220;\x20--card:#0f1724;\x20--muted:#9aa4b2;\x20--accent:#3b82f6;','\x20\x20\x20\x20\x20\x20--accent-2:#60a5fa;\x20--success:#22c55e;\x20--danger:#ef4444;\x20--warning:#f59e0b;','\x20\x20\x20\x20\x20\x20--glass:\x20rgba(255,255,255,0.03);\x20--radius:12px;\x20--mono:\x20\x22SF\x20Mono\x22,\x20\x22Fira\x20Code\x22,\x20monospace;','\x20\x20\x20\x20}','\x20\x20\x20\x20*{box-sizing:border-box}','\x20\x20\x20\x20body{','\x20\x20\x20\x20\x20\x20margin:0;\x20font-family:\x20Inter,\x20system-ui,\x20-apple-system,\x20\x22Segoe\x20UI\x22,\x20Roboto,\x20\x22Helvetica\x20Neue\x22,\x20Arial;','\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(180deg,#061021\x200%,\x20#071323\x20100%);','\x20\x20\x20\x20\x20\x20color:#e6eef8;\x20-webkit-font-smoothing:antialiased;','\x20\x20\x20\x20\x20\x20min-height:100vh;\x20padding:28px;','\x20\x20\x20\x20}','\x20\x20\x20\x20.container{max-width:1100px;margin:0\x20auto}','\x20\x20\x20\x20.card{background:var(--card);\x20border-radius:var(--radius);\x20padding:20px;','\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(255,255,255,0.03);\x20box-shadow:0\x208px\x2030px\x20rgba(2,6,23,0.5);\x20margin-bottom:20px;}','\x20\x20\x20\x20h1,h2{margin:0\x200\x2014px;font-weight:600}','\x20\x20\x20\x20h1{font-size:28px}','\x20\x20\x20\x20h2{font-size:20px}','\x20\x20\x20\x20p.lead{color:var(--muted);margin:6px\x200\x2020px;font-size:15px}','','\x20\x20\x20\x20.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:14px;margin-bottom:10px}','\x20\x20\x20\x20.stat{padding:14px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);','\x20\x20\x20\x20\x20\x20border-radius:10px;text-align:center;border:1px\x20solid\x20rgba(255,255,255,0.02)}','\x20\x20\x20\x20.stat\x20.val{font-weight:700;font-size:22px;margin-bottom:4px}','\x20\x20\x20\x20.stat\x20.lbl{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:0.5px}','\x20\x20\x20\x20.stat.status-active\x20.val{color:var(--success)}','\x20\x20\x20\x20.stat.status-expired\x20.val{color:var(--danger)}','\x20\x20\x20\x20.stat.status-warning\x20.val{color:var(--warning)}','','\x20\x20\x20\x20.grid{display:grid;grid-template-columns:1fr\x20360px;gap:18px}','\x20\x20\x20\x20@media\x20(max-width:980px){\x20.grid{grid-template-columns:1fr}\x20}','','\x20\x20\x20\x20.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:14px;margin-top:16px}','\x20\x20\x20\x20.info-item{background:var(--glass);padding:14px;border-radius:10px;border:1px\x20solid\x20rgba(255,255,255,0.02)}','\x20\x20\x20\x20.info-item\x20.label{font-size:11px;color:var(--muted);display:block;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px}','\x20\x20\x20\x20.info-item\x20.value{font-weight:600;word-break:break-all;font-size:14px}','\x20\x20\x20\x20.info-item\x20.value.detecting{color:var(--warning);font-style:italic}','','\x20\x20\x20\x20.progress-bar{height:12px;background:#071529;border-radius:6px;overflow:hidden;margin:12px\x200}','\x20\x20\x20\x20.progress-fill{','\x20\x20\x20\x20\x20\x20height:100%;','\x20\x20\x20\x20\x20\x20transition:width\x200.6s\x20ease;','\x20\x20\x20\x20\x20\x20border-radius:6px;','\x20\x20\x20\x20\x20\x20width:0%;','\x20\x20\x20\x20}','\x20\x20\x20\x20.progress-fill.low{background:linear-gradient(90deg,#22c55e,#16a34a)}','\x20\x20\x20\x20.progress-fill.medium{background:linear-gradient(90deg,#f59e0b,#d97706)}','\x20\x20\x20\x20.progress-fill.high{background:linear-gradient(90deg,#ef4444,#dc2626)}','','\x20\x20\x20\x20pre.config{background:#071529;padding:14px;border-radius:8px;overflow:auto;','\x20\x20\x20\x20\x20\x20font-family:var(--mono);font-size:13px;color:#cfe8ff;','\x20\x20\x20\x20\x20\x20border:1px\x20solid\x20rgba(255,255,255,0.02);max-height:200px}','\x20\x20\x20\x20.buttons{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}','','\x20\x20\x20\x20.btn{display:inline-flex;align-items:center;gap:8px;padding:11px\x2016px;border-radius:8px;','\x20\x20\x20\x20\x20\x20border:none;cursor:pointer;font-weight:600;font-size:14px;transition:all\x200.2s;','\x20\x20\x20\x20\x20\x20text-decoration:none;color:inherit}','\x20\x20\x20\x20.btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#fff;box-shadow:0\x204px\x2012px\x20rgba(59,130,246,0.3)}','\x20\x20\x20\x20.btn.primary:hover{transform:translateY(-2px);box-shadow:0\x206px\x2020px\x20rgba(59,130,246,0.4)}','\x20\x20\x20\x20.btn.ghost{background:rgba(255,255,255,0.03);border:1px\x20solid\x20rgba(255,255,255,0.08);color:var(--muted)}','\x20\x20\x20\x20.btn.ghost:hover{background:rgba(255,255,255,0.06);border-color:rgba(255,255,255,0.12);color:#fff}','\x20\x20\x20\x20.btn.small{padding:8px\x2012px;font-size:13px}','\x20\x20\x20\x20.btn:active{transform:translateY(0)\x20scale(0.98)}','\x20\x20\x20\x20.btn:disabled{opacity:0.5;cursor:not-allowed}','','\x20\x20\x20\x20.qr-container{background:#fff;padding:16px;border-radius:10px;display:inline-block;box-shadow:0\x204px\x2012px\x20rgba(0,0,0,0.2);margin:16px\x20auto;text-align:center}','\x20\x20\x20\x20#qr-display{min-height:280px;display:flex;align-items:center;justify-content:center;flex-direction:column}','','\x20\x20\x20\x20#toast{position:fixed;right:20px;top:20px;background:#0f1b2a;padding:14px\x2018px;','\x20\x20\x20\x20\x20\x20border-radius:10px;border:1px\x20solid\x20rgba(255,255,255,0.08);display:none;','\x20\x20\x20\x20\x20\x20color:#cfe8ff;box-shadow:0\x208px\x2024px\x20rgba(2,6,23,0.7);z-index:1000;min-width:200px}','\x20\x20\x20\x20#toast.show{display:block;animation:toastIn\x20.3s\x20ease}','\x20\x20\x20\x20#toast.success{border-left:4px\x20solid\x20var(--success)}','\x20\x20\x20\x20#toast.error{border-left:4px\x20solid\x20var(--danger)}','\x20\x20\x20\x20@keyframes\x20toastIn{from{transform:translateY(-10px);opacity:0}to{transform:translateY(0);opacity:1}}','','\x20\x20\x20\x20.section-title{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;','\x20\x20\x20\x20\x20\x20padding-bottom:12px;border-bottom:1px\x20solid\x20rgba(255,255,255,0.05)}','\x20\x20\x20\x20.muted{color:var(--muted);font-size:14px;line-height:1.6}','\x20\x20\x20\x20.stack{display:flex;flex-direction:column;gap:10px}','\x20\x20\x20\x20.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}','\x20\x20\x20\x20.hidden{display:none}','\x20\x20\x20\x20.text-center{text-align:center}','\x20\x20\x20\x20.mb-2{margin-bottom:12px}','\x20\x20\x20\x20','\x20\x20\x20\x20.expiry-warning{background:rgba(239,68,68,0.1);border:1px\x20solid\x20rgba(239,68,68,0.3);','\x20\x20\x20\x20\x20\x20padding:12px;border-radius:8px;margin-top:12px;color:#fca5a5}','\x20\x20\x20\x20.expiry-info{background:rgba(34,197,94,0.1);border:1px\x20solid\x20rgba(34,197,94,0.3);','\x20\x20\x20\x20\x20\x20padding:12px;border-radius:8px;margin-top:12px;color:#86efac}','','\x20\x20\x20\x20@media\x20(max-width:\x20768px)\x20{','\x20\x20\x20\x20\x20\x20body{padding:16px}','\x20\x20\x20\x20\x20\x20.container{padding:0}','\x20\x20\x20\x20\x20\x20h1{font-size:24px}','\x20\x20\x20\x20\x20\x20.stats{grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}','\x20\x20\x20\x20\x20\x20.info-grid{grid-template-columns:1fr}','\x20\x20\x20\x20\x20\x20.btn{padding:9px\x2012px;font-size:13px}','\x20\x20\x20\x20}','\x20\x20</style>','</head>','<body>','\x20\x20<div\x20class=\x22container\x22>','\x20\x20\x20\x20<h1>🚀\x20VXR.SXR\x20Configuration\x20Panel</h1>','\x20\x20\x20\x20<p\x20class=\x22lead\x22>Manage\x20your\x20proxy\x20configuration,\x20view\x20subscription\x20links,\x20and\x20monitor\x20usage\x20statistics.</p>','','\x20\x20\x20\x20<div\x20class=\x22stats\x22>','\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat\x20'+(j?'status-expired':'status-active')+'\x22>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22val\x22\x20id=\x22status-badge\x22>'+(j?'Expired':'Active')+'</div>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lbl\x22>Account\x20Status</div>','\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat\x22>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22val\x22\x20id=\x22usage-display\x22>'+formatBytes(d['traffic_used']||0x0)+'</div>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lbl\x22>Data\x20Used</div>','\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat\x20'+(l>0x50?'status-warning':'')+'\x22>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22val\x22>'+(d['traffic_limit']&&d['traffic_limit']>0x0?formatBytes(d['traffic_limit']):'Unlimited')+'</div>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lbl\x22>Data\x20Limit</div>','\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat\x22>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22val\x22\x20id=\x22expiry-countdown\x22>—</div>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22lbl\x22>Time\x20Remaining</div>','\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20</div>','',d['traffic_limit']&&d['traffic_limit']>0x0?'\x20\x20\x20\x20<div\x20class=\x22card\x22>'+'\x20\x20\x20\x20\x20\x20<div\x20class=\x22section-title\x22>'+'\x20\x20\x20\x20\x20\x20\x20\x20<h2>📊\x20Usage\x20Statistics</h2>'+'\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22muted\x22>'+m+'\x20Used</span>'+'\x20\x20\x20\x20\x20\x20</div>'+'\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>'+'\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x20'+(l>0x50?'high':l>0x32?'medium':'low')+'\x22\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id=\x22progress-bar-fill\x22'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x200%\x22'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-target-width=\x22'+l['toFixed'](0x2)+'\x22></div>'+'\x20\x20\x20\x20\x20\x20</div>'+'\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x20text-center\x20mb-2\x22>'+formatBytes(d['traffic_used']||0x0)+'\x20of\x20'+formatBytes(d['traffic_limit'])+'\x20used</p>'+'\x20\x20\x20\x20</div>':'',k?'\x20\x20\x20\x20<div\x20class=\x22card\x22>'+'\x20\x20\x20\x20\x20\x20<div\x20class=\x22section-title\x22>'+'\x20\x20\x20\x20\x20\x20\x20\x20<h2>⏰\x20Expiration\x20Information</h2>'+'\x20\x20\x20\x20\x20\x20</div>'+'\x20\x20\x20\x20\x20\x20<div\x20id=\x22expiration-display\x22\x20data-expiry=\x22'+k+'\x22>'+'\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22\x20id=\x22expiry-local\x22>Loading\x20expiration\x20time...</p>'+'\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22\x20id=\x22expiry-utc\x22\x20style=\x22font-size:13px;margin-top:4px\x22></p>'+'\x20\x20\x20\x20\x20\x20</div>'+(j?'\x20\x20\x20\x20\x20\x20<div\x20class=\x22expiry-warning\x22>'+'\x20\x20\x20\x20\x20\x20\x20\x20⚠️\x20Your\x20account\x20has\x20expired.\x20Please\x20contact\x20your\x20administrator\x20to\x20renew\x20access.'+'\x20\x20\x20\x20\x20\x20</div>':'\x20\x20\x20\x20\x20\x20<div\x20class=\x22expiry-info\x22>'+'\x20\x20\x20\x20\x20\x20\x20\x20✓\x20Your\x20account\x20is\x20currently\x20active\x20and\x20working\x20normally.'+'\x20\x20\x20\x20\x20\x20</div>')+'\x20\x20\x20\x20</div>':'','\x20\x20\x20\x20<div\x20class=\x22grid\x22>','\x20\x20\x20\x20\x20\x20<div>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22section-title\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>🌐\x20Network\x20Information</h2>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x20small\x22\x20id=\x22btn-refresh-ip\x22>Refresh</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22>Connection\x20details\x20and\x20IP\x20information\x20for\x20your\x20proxy\x20server\x20and\x20current\x20location.</p>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-grid\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Proxy\x20Host</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22\x20id=\x22proxy-host\x22>'+(c||b)+'</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Proxy\x20IP</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x20detecting\x22\x20id=\x22proxy-ip\x22>Detecting...</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Proxy\x20Location</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x20detecting\x22\x20id=\x22proxy-location\x22>Detecting...</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Your\x20IP</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x20detecting\x22\x20id=\x22client-ip\x22>Detecting...</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Your\x20Location</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x20detecting\x22\x20id=\x22client-location\x22>Detecting...</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Your\x20ISP</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x20detecting\x22\x20id=\x22client-isp\x22>Detecting...</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20</div>','','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22section-title\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>📱\x20Subscription\x20Links</h2>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22>Copy\x20subscription\x20URLs\x20or\x20import\x20directly\x20into\x20your\x20VPN\x20client\x20application.</p>','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stack\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22font-size:16px;margin:12px\x200\x208px;color:var(--accent-2)\x22>Xray\x20/\x20V2Ray\x20Subscription</h3>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20primary\x22\x20id=\x22copy-xray-sub\x22>📋\x20Copy\x20Xray\x20Link</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20id=\x22show-xray-config\x22>View\x20Config</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20id=\x22qr-xray-sub-btn\x22>QR\x20Code</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre\x20class=\x22config\x20hidden\x22\x20id=\x22xray-config\x22>'+escapeHTML(g)+'</pre>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22font-size:16px;margin:12px\x200\x208px;color:var(--accent-2)\x22>Sing-Box\x20/\x20Clash\x20Subscription</h3>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20primary\x22\x20id=\x22copy-sb-sub\x22>📋\x20Copy\x20Singbox\x20Link</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20id=\x22show-sb-config\x22>View\x20Config</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x22\x20id=\x22qr-sb-sub-btn\x22>QR\x20Code</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre\x20class=\x22config\x20hidden\x22\x20id=\x22sb-config\x22>'+escapeHTML(h)+'</pre>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22font-size:16px;margin:12px\x200\x208px;color:var(--accent-2)\x22>Quick\x20Import</h3>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+i['universalAndroid']+'\x22\x20rel=\x22noopener\x20noreferrer\x22\x20class=\x22btn\x20ghost\x22>📱\x20Android\x20(V2rayNG)</a>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+i['shadowrocket']+'\x22\x20rel=\x22noopener\x20noreferrer\x22\x20class=\x22btn\x20ghost\x22>🍎\x20iOS\x20(Shadowrocket)</a>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+i['streisand']+'\x22\x20rel=\x22noopener\x20noreferrer\x22\x20class=\x22btn\x20ghost\x22>🍎\x20iOS\x20Streisand</a>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+i['karing']+'\x22\x20rel=\x22noopener\x20noreferrer\x22\x20class=\x22btn\x20ghost\x22>🔧\x20Android/iOS\x20Karing</a>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20</div>','','\x20\x20\x20\x20\x20\x20<aside>','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>QR\x20Code\x20Scanner</h2>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x20mb-2\x22>Scan\x20with\x20your\x20mobile\x20device\x20to\x20quickly\x20import\x20configuration.</p>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qr-display\x22\x20class=\x22text-center\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22>Click\x20any\x20\x22QR\x20Code\x22\x20button\x20to\x20generate\x20a\x20scannable\x20code.</p>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22\x20style=\x22justify-content:center;margin-top:16px\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x20small\x22\x20id=\x22qr-xray-config-btn\x22>Xray\x20Config\x20QR</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20ghost\x20small\x22\x20id=\x22qr-sb-config-btn\x22>Singbox\x20Config\x20QR</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20</div>','','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>👤\x20Account\x20Details</h2>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22\x20style=\x22margin-top:12px\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>User\x20UUID</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22\x20style=\x22font-family:var(--mono);font-size:12px;word-break:break-all\x22>'+a+'</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22\x20style=\x22margin-top:12px\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Created\x20Date</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+new Date(d['created_at'])['toLocaleDateString']()+'</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',d['notes']?'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22\x20style=\x22margin-top:12px\x22>'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>Notes</span>'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+escapeHTML(d['notes'])+'</span>'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info-item\x22\x20style=\x22margin-top:12px\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22label\x22>IP\x20Limit</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value\x22>'+(d['ip_limit']===-0x1?'Unlimited':d['ip_limit'])+'</span>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20</div>','','\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>💾\x20Export\x20Configuration</h2>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x20mb-2\x22>Download\x20configuration\x20file\x20for\x20manual\x20import\x20or\x20backup\x20purposes.</p>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20primary\x20small\x22\x20id=\x22download-xray\x22>Download\x20Xray</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20primary\x20small\x22\x20id=\x22download-sb\x22>Download\x20Singbox</button>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20</aside>','\x20\x20\x20\x20</div>','','\x20\x20\x20\x20<div\x20class=\x22card\x22>','\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x20text-center\x22\x20style=\x22margin:0\x22>','\x20\x20\x20\x20\x20\x20\x20\x20🔒\x20This\x20is\x20your\x20personal\x20configuration\x20panel.\x20Keep\x20your\x20subscription\x20links\x20private\x20and\x20secure.','\x20\x20\x20\x20\x20\x20\x20\x20<br>For\x20support\x20or\x20questions,\x20contact\x20your\x20service\x20administrator.','\x20\x20\x20\x20\x20\x20</p>','\x20\x20\x20\x20</div>','','\x20\x20\x20\x20<div\x20id=\x22toast\x22></div>','\x20\x20</div>','','\x20\x20<script\x20nonce=\x22CSP_NONCE_PLACEHOLDER\x22>','\x20\x20\x20\x20window.CONFIG\x20=\x20{','\x20\x20\x20\x20\x20\x20uuid:\x20\x22'+a+'\x22,','\x20\x20\x20\x20\x20\x20host:\x20\x22'+b+'\x22,','\x20\x20\x20\x20\x20\x20proxyAddress:\x20\x22'+(c||b)+'\x22,','\x20\x20\x20\x20\x20\x20subXrayUrl:\x20\x22'+e+'\x22,','\x20\x20\x20\x20\x20\x20subSbUrl:\x20\x22'+f+'\x22,','\x20\x20\x20\x20\x20\x20singleXrayConfig:\x20'+JSON['stringify'](g)+',','\x20\x20\x20\x20\x20\x20singleSingboxConfig:\x20'+JSON['stringify'](h)+',','\x20\x20\x20\x20\x20\x20expirationDateTime:\x20'+(k?'\x22'+k+'\x22':'null')+',','\x20\x20\x20\x20\x20\x20isExpired:\x20'+j+',','\x20\x20\x20\x20\x20\x20clientUrls:\x20'+JSON['stringify'](i)+',','\x20\x20\x20\x20\x20\x20trafficLimit:\x20'+(d['traffic_limit']||'null')+',','\x20\x20\x20\x20\x20\x20initialTrafficUsed:\x20'+(d['traffic_used']||0x0)+'','\x20\x20\x20\x20};','','\x20\x20\x20\x20function\x20formatBytes(bytes)\x20{','\x20\x20\x20\x20\x20\x20if\x20(bytes\x20===\x200)\x20return\x20\x270\x20Bytes\x27;','\x20\x20\x20\x20\x20\x20const\x20k\x20=\x201024;','\x20\x20\x20\x20\x20\x20const\x20sizes\x20=\x20[\x27Bytes\x27,\x20\x27KB\x27,\x20\x27MB\x27,\x20\x27GB\x27,\x20\x27TB\x27];','\x20\x20\x20\x20\x20\x20const\x20i\x20=\x20Math.floor(Math.log(bytes)\x20/\x20Math.log(k));','\x20\x20\x20\x20\x20\x20return\x20parseFloat((bytes\x20/\x20Math.pow(k,\x20i)).toFixed(2))\x20+\x20\x27\x20\x27\x20+\x20sizes[i];','\x20\x20\x20\x20}','','var\x20QRCode=function(){\x22use\x20strict\x22;function\x20e(e){this.mode=c.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var\x20t=0,r=this.data.length;t<r;t++){var\x20o=[],a=this.data.charCodeAt(t);a>65535?(o[0]=240|(a&1835008)>>>18,o[1]=128|(a&258048)>>>12,o[2]=128|(a&4032)>>>6,o[3]=128|a&63):a>2047?(o[0]=224|(a&61440)>>>12,o[1]=128|(a&4032)>>>6,o[2]=128|a&63):a>127?(o[0]=192|(a&1984)>>>6,o[1]=128|a&63):(o[0]=a),this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function\x20t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return\x20this.parsedData.length},write:function(e){for(var\x20t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}}e.prototype.addData=function(e){var\x20t=new\x20e(e);this.dataList.push(t),this.dataCache=null},t.prototype.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw\x20new\x20Error(e+\x22,\x22+t);return\x20this.modules[e][t]},t.prototype.getModuleCount=function(){return\x20this.moduleCount},t.prototype.make=function(){this.makeImpl(!1,this.getBestMaskPattern())},t.prototype.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new\x20Array(this.moduleCount);for(var\x20r=0;r<this.moduleCount;r++){this.modules[r]=new\x20Array(this.moduleCount);for(var\x20o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)}\x20,t.prototype.setupPositionProbePattern=function(e,t){for(var\x20r=e-1;r<=e+7;r++)if(!(r<0||this.moduleCount<=r))for(var\x20o=t-1;o<=t+7;o++)o<0||this.moduleCount<=o||(r==e&&o==t||r==e+6&&o==t||r==e&&o==t+6||r==e+6&&o==t+6||r==e+2&&o==t+2||r==e+3&&o==t+2||r==e+4&&o==t+2||r==e+2&&o==t+3||r==e+3&&o==t+3||r==e+4&&o==t+3||r==e+2&&o==t+4||r==e+3&&o==t+4||r==e+4&&o==t+4?this.modules[r][o]=!1:this.modules[r][o]=!0)},t.prototype.setupPositionAdjustPattern=function(){for(var\x20e=c.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var\x20r=0;r<e.length;r++)if(t!=r||this.typeNumber>=7){var\x20o=e[t],a=e[r];if(null==this.modules[o][a]){this.modules[o][a]=!0,this.modules[o-1][a]=!0,this.modules[o+1][a]=!0,this.modules[o][a-1]=!0,this.modules[o][a+1]=!0,this.modules[o-2][a-2]=!0,this.modules[o-2][a-1]=!0,this.modules[o-2][a]=!0,this.modules[o-2][a+1]=!0,this.modules[o-2][a+2]=!0,this.modules[o-1][a-2]=!0,this.modules[o-1][a+2]=!0,this.modules[o][a-2]=!0,this.modules[o][a+2]=!0,this.modules[o+1][a-2]=!0,this.modules[o+1][a+2]=!0,this.modules[o+2][a-2]=!0,this.modules[o+2][a-1]=!0,this.modules[o+2][a]=!0,this.modules[o+2][a+1]=!0,this.modules[o+2][a+2]=!0}}},t.prototype.setupTimingPattern=function(){for(var\x20e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var\x20t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},t.prototype.setupTypeNumber=function(e){for(var\x20t=c.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var\x20o=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(var\x20r=0;r<18;r++){var\x20o=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},t.prototype.setupTypeInfo=function(e,t){for(var\x20r=this.errorCorrectLevel<<3|t,o=c.getBCHTypeInfo(r),a=0;a<15;a++){var\x20i=!e&&1==(o>>a&1);a<6?this.modules[a][8]=i:a<8?this.modules[a+1][8]=i:this.modules[this.moduleCount-15+a][8]=i}for(var\x20a=0;a<15;a++){var\x20i=!e&&1==(o>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=i:a<9?this.modules[8][15-a-1+1]=i:this.modules[8][15-a-1]=i}this.modules[this.moduleCount-8][8]=!e},t.prototype.mapData=function(e,t){for(var\x20r=-1,o=this.moduleCount-1,a=7,i=0,n=this.moduleCount-1;n>0;n-=2)for(6==n&&n--;\x20;\x20){for(var\x20s=0;s<2;s++)if(null==this.modules[o][n-s]){var\x20u=!1;i<e.length&&(u=1==(e[i]>>>a&1)),c.getMask(t,o,n-s)&&(u=!u),this.modules[o][n-s]=u,a--,-1==a&&(i++,a=7)}if(o+=r,o<0||this.moduleCount<=o){o-=r,r=-r;break}}},t.PAD0=236,t.PAD1=17,t.createData=function(r,o,a){var\x20i=c.getRSBlocks(r,o),n=new\x20t;for(var\x20s=0;s<a.length;s++){var\x20u=a[s];n.addData(u.mode,u.getLength(),u),n.put(u.mode,4),n.put(u.getLength(),c.getLengthInBits(u.mode,r)),u.write(n)}var\x20l=0;for(s=0;s<i.length;s++)l+=i[s].dataCount;for(s=0;s<n.getBuffer().length;s++)n.put(n.getBuffer()[s],8);var\x20h=(l-n.getLengthInBits()/8)*8;n.put(0,4),n.put(h,c.getLengthInBits(4,r));for(var\x20p=0;p<h/8;p++)n.put(t.PAD0,8);for(var\x20d=0;d<i.length;d++){var\x20f=i[d];for(p=0;p<f.totalCount-f.dataCount;p++)n.put(0,8)}var\x20m=e.getErrorCorrectPolynomial(f.dataCount);for(p=0;p<f.dataCount;p++){var\x20g=n.getBuffer()[p*f.dataCount+p];n.put(g,8)}var\x20b=new\x20Array(f.dataCount);for(p=0;p<f.dataCount;p++){var\x20v=n.getBuffer()[p];b[p]=v&255;for(var\x20y=0;y<m.getLength()-1;y++)b[p]^=e.gexp(e.glog[b[p]]+m.get(y))}for(p=0;p<f.dataCount;p++)n.put(b[p],8);return\x20n.getBuffer()},t.createBytes=function(t,r){for(var\x20o=0,a=0,i=0,n=new\x20Array(r.length),s=new\x20Array(r.length),u=0;u<r.length;u++){var\x20l=r[u].dataCount,h=r[u].totalCount-l;a=Math.max(a,l),i=Math.max(i,h),n[u]=new\x20Array(l);for(var\x20p=0;p<l;p++)n[u][p]=255&t.buffer[p+o];o+=l;var\x20d=c.getErrorCorrectPolynomial(h),f=(new\x20e(n[u],d.getLength()-1)).mod(d);s[u]=new\x20Array(d.getLength()-1);for(var\x20p=0;p<s[u].length;p++){var\x20m=p+f.getLength()-s[u].length;s[u][p]=m>=0?f.get(m):0}}for(var\x20g=0,p=0;p<r.length;p++)g+=r[p].totalCount;for(var\x20b=new\x20Array(g),v=0,p=0;p<a;p++)for(var\x20u=0;u<r.length;u++)p<n[u].length&&(b[v++]=n[u][p]);for(var\x20p=0;p<i;p++)for(var\x20u=0;u<r.length;u++)p<s[u].length&&(b[v++]=s[u][p]);return\x20b};var\x20r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var\x20t=e<<10;c.getBCHDigit(t)-c.getBCHDigit(c.G15)>=0;)t^=c.G15<<c.getBCHDigit(t)-c.getBCHDigit(c.G15);return(e<<10|t)^c.G15_MASK},getBCHTypeNumber:function(e){for(var\x20t=e<<12;c.getBCHDigit(t)-c.getBCHDigit(c.G18)>=0;)t^=c.G18<<c.getBCHDigit(t)-c.getBCHDigit(c.G18);return\x20e<<12|t},getBCHDigit:function(e){for(var\x20t=0;0!=e;)t++,e>>>=1;return\x20t},getPatternPosition:function(e){return\x20c.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case\x20a.PATTERN000:return(t+r)%2==0;case\x20a.PATTERN001:return\x20t%2==0;case\x20a.PATTERN010:return\x20r%3==0;case\x20a.PATTERN011:return(t+r)%3==0;case\x20a.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case\x20a.PATTERN101:return\x20t*r%2+t*r%3==0;case\x20a.PATTERN110:return(t*r%2+t*r%3)%2==0;case\x20a.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw\x20new\x20Error(\x22bad\x20maskPattern:\x22+e)}},getErrorCorrectPolynomial:function(t){for(var\x20r=new\x20e([1],0),o=0;o<t;o++)r=r.multiply(new\x20e([1,c.gexp(o)],0));return\x20r},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case\x20r.MODE_NUMBER:return\x2010;case\x20r.MODE_ALPHA_NUM:return\x209;case\x20r.MODE_8BIT_BYTE:return\x208;case\x20r.MODE_KANJI:return\x208;default:throw\x20new\x20Error(\x22mode:\x22+e)}else\x20if(t<27)switch(e){case\x20r.MODE_NUMBER:return\x2012;case\x20r.MODE_ALPHA_NUM:return\x2011;case\x20r.MODE_8BIT_BYTE:return\x2016;case\x20r.MODE_KANJI:return\x2010;default:throw\x20new\x20Error(\x22mode:\x22+e)}else{if(!(t<41))throw\x20new\x20Error(\x22type:\x22+t);switch(e){case\x20r.MODE_NUMBER:return\x2014;case\x20r.MODE_ALPHA_NUM:return\x2013;case\x20r.MODE_8BIT_BYTE:return\x2016;case\x20r.MODE_KANJI:return\x2012;default:throw\x20new\x20Error(\x22mode:\x22+e)}}},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return\x20c.EXP_TABLE[e]},glog:function(e){if(e<1)throw\x20new\x20Error(\x22glog(\x22+e+\x22)\x22);return\x20c.LOG_TABLE[e]},getRSBlocks:function(e,t){switch(t){case\x20o.L:return\x20c.RS_BLOCK_TABLE[4*(e-1)+0];case\x20o.M:return\x20c.RS_BLOCK_TABLE[4*(e-1)+1];case\x20o.Q:return\x20c.RS_BLOCK_TABLE[4*(e-1)+2];case\x20o.H:return\x20c.RS_BLOCK_TABLE[4*(e-1)+3];default:throw\x20new\x20Error(\x22bad\x20rs\x20block\x20@\x20typeNumber:\x20\x22+e+\x22/errorCorrectLevel:\x20\x22+t)}};c.EXP_TABLE=new\x20Array(256);for(var\x20i=0;i<8;i++)c.EXP_TABLE[i]=1<<i;for(var\x20i=8;i<256;i++)c.EXP_TABLE[i]=c.EXP_TABLE[i-4]^c.EXP_TABLE[i-5]^c.EXP_TABLE[i-6]^c.EXP_TABLE[i-8];c.LOG_TABLE=new\x20Array(256);for(var\x20i=0;i<255;i++)c.LOG_TABLE[c.EXP_TABLE[i]]=i;var\x20n={create:function(e){if(void\x200==e||\x22\x22==e)return\x20new\x20n;var\x20r=new\x20t(1,o.H,[new\x20e(e)]);return\x20r},toCanvas:function(t,r,o,a,i){var\x20s=n.create(r);if(t.nodeName.toUpperCase()==\x22CANVAS\x22){var\x20u=t}else{var\x20u=document.createElement(\x22canvas\x22);t.appendChild(u)}o&&(u.style.width=o,u.style.height=o);var\x20l=s.getModuleCount(),h=o?o/l:a?a:Math.max(1,Math.floor(l/100)),p=Math.floor(l*h),d=Math.floor((p-l*h)/2);u.width=p,u.height=p;var\x20f=u.getContext(\x222d\x22);f.clearRect(0,0,p,p),i&&f.fillStyle=i,f.fillRect(0,0,p,p),f.fillStyle=\x22#000000\x22;for(var\x20m=0;m<l;m++)for(var\x20g=0;g<l;g++)s.isDark(m,g)&&f.fillRect(Math.floor(m*h)+d,Math.floor(g*h)+d,h,h);return\x20u},toDataURL:function(e,t,r){var\x20o=n.create(e).getModuleCount(),a=document.createElement(\x22canvas\x22);a.width=o,a.height=o;var\x20i=a.getContext(\x222d\x22);i.fillStyle=t?t:\x22#FFFFFF\x22,i.fillRect(0,0,o,o),i.fillStyle=r?r:\x22#000000\x22;for(var\x20s=0;s<o;s++)for(var\x20u=0;u<o;u++)n.isDark(s,u)&&i.fillRect(s,u,1,1);return\x20a.toDataURL(\x22image/png\x22)}};return\x20n}();','','\x20\x20\x20\x20//\x20=========================================','\x20\x20\x20\x20//\x20UNIVERSAL\x20QR\x20CODE\x20GENERATION','\x20\x20\x20\x20//\x20Multiple\x20fallback\x20methods\x20for\x20cross-browser\x20compatibility','\x20\x20\x20\x20//\x20Works\x20in\x20Chrome,\x20Firefox,\x20Safari,\x20Edge,\x20and\x20all\x20mobile\x20browsers','\x20\x20\x20\x20//\x20=========================================','\x20\x20\x20\x20','\x20\x20\x20\x20const\x20QRGenerator\x20=\x20{','\x20\x20\x20\x20\x20\x20libraryLoaded:\x20false,','\x20\x20\x20\x20\x20\x20checkInterval:\x20null,','\x20\x20\x20\x20\x20\x20maxAttempts:\x2050,','\x20\x20\x20\x20\x20\x20attempts:\x200,','','\x20\x20\x20\x20\x20\x20async\x20waitForLibrary()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20return\x20new\x20Promise((resolve,\x20reject)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(typeof\x20QRCode\x20!==\x20\x27undefined\x27)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.libraryLoaded\x20=\x20true;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resolve(true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.attempts\x20=\x200;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.checkInterval\x20=\x20setInterval(()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.attempts++;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(typeof\x20QRCode\x20!==\x20\x27undefined\x27)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearInterval(this.checkInterval);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.libraryLoaded\x20=\x20true;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27✓\x20QR\x20Code\x20library\x20loaded\x20successfully\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resolve(true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(this.attempts\x20>=\x20this.maxAttempts)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearInterval(this.checkInterval);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27⚠️\x20QR\x20Code\x20library\x20loading\x20timeout\x20-\x20will\x20use\x20fallback\x20method\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resolve(false);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x20100);','\x20\x20\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20},','','\x20\x20\x20\x20\x20\x20async\x20generateWithLibrary(text,\x20container)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20loaded\x20=\x20this.libraryLoaded;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!loaded)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loaded\x20=\x20await\x20this.waitForLibrary();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!loaded)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27Library\x20not\x20loaded\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.innerHTML\x20=\x20\x27\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20qrDiv\x20=\x20document.createElement(\x27div\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrDiv.className\x20=\x20\x27qr-container\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrDiv.id\x20=\x20\x27qrcode-container\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.appendChild(qrDiv);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20new\x20QRCode(qrDiv,\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text:\x20text,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20280,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20280,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorDark:\x20\x27#000000\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorLight:\x20\x27#ffffff\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20correctLevel:\x20QRCode.CorrectLevel.M','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;','\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Library\x20QR\x20generation\x20failed:\x27,\x20error);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20false;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20},','','\x20\x20\x20\x20\x20\x20async\x20generateWithCanvas(text,\x20container)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20canvas\x20=\x20document.createElement(\x27canvas\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20size\x20=\x20280;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20canvas.width\x20=\x20size;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20canvas.height\x20=\x20size;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ctx\x20=\x20canvas.getContext(\x272d\x27);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20apiUrl\x20=\x20\x27https://api.qrserver.com/v1/create-qr-code/?size=\x27\x20+\x20size\x20+\x20\x27x\x27\x20+\x20size\x20+\x20\x27&data=\x27\x20+\x20encodeURIComponent(text)\x20+\x20\x27&format=png&margin=10\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20img\x20=\x20new\x20Image();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.crossOrigin\x20=\x20\x27anonymous\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20new\x20Promise((resolve,\x20reject)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onload\x20=\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ctx.fillStyle\x20=\x20\x27#ffffff\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ctx.fillRect(0,\x200,\x20size,\x20size);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ctx.drawImage(img,\x200,\x200,\x20size,\x20size);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.innerHTML\x20=\x20\x27\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20qrDiv\x20=\x20document.createElement(\x27div\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrDiv.className\x20=\x20\x27qr-container\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20canvas.style.display\x20=\x20\x27block\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrDiv.appendChild(canvas);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.appendChild(qrDiv);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resolve(true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onerror\x20=\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Canvas\x20QR\x20generation\x20failed\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20reject(false);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20reject(false),\x2010000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.src\x20=\x20apiUrl;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Canvas\x20method\x20failed:\x27,\x20error);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20false;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20},','','\x20\x20\x20\x20\x20\x20async\x20generateWithAPI(text,\x20container)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20size\x20=\x20280;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20apiUrl\x20=\x20\x27https://api.qrserver.com/v1/create-qr-code/?size=\x27\x20+\x20size\x20+\x20\x27x\x27\x20+\x20size\x20+\x20\x27&data=\x27\x20+\x20encodeURIComponent(text)\x20+\x20\x27&format=png&margin=10\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.innerHTML\x20=\x20\x27\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20qrDiv\x20=\x20document.createElement(\x27div\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrDiv.className\x20=\x20\x27qr-container\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20img\x20=\x20document.createElement(\x27img\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.width\x20=\x20size;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.height\x20=\x20size;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.alt\x20=\x20\x27QR\x20Code\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.style.display\x20=\x20\x27block\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20new\x20Promise((resolve,\x20reject)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onload\x20=\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrDiv.appendChild(img);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.appendChild(qrDiv);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resolve(true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onerror\x20=\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27API\x20QR\x20generation\x20failed\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20reject(false);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20reject(false),\x2010000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.src\x20=\x20apiUrl;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27API\x20method\x20failed:\x27,\x20error);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20false;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20},','','\x20\x20\x20\x20\x20\x20async\x20generate(text)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20const\x20qrDisplay\x20=\x20document.getElementById(\x27qr-display\x27);','\x20\x20\x20\x20\x20\x20\x20\x20qrDisplay.innerHTML\x20=\x20\x27<p\x20class=\x22muted\x22>Generating\x20QR\x20code...</p>\x27;','','\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20success\x20=\x20await\x20this.generateWithLibrary(text,\x20qrDisplay);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!success)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27Attempting\x20canvas\x20fallback...\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20success\x20=\x20await\x20this.generateWithCanvas(text,\x20qrDisplay);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!success)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27Attempting\x20API\x20fallback...\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20success\x20=\x20await\x20this.generateWithAPI(text,\x20qrDisplay);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(success)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27QR\x20code\x20generated\x20successfully!\x20Scan\x20with\x20your\x20VPN\x20app.\x27,\x20\x27success\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27All\x20QR\x20generation\x20methods\x20failed\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27QR\x20generation\x20error:\x27,\x20error);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrDisplay.innerHTML\x20=\x20`','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22text-align:center;padding:20px;\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22\x20style=\x22color:var(--danger);margin-bottom:16px\x22>⚠️\x20Automatic\x20QR\x20generation\x20failed.</p>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22muted\x22\x20style=\x22font-size:13px;margin-bottom:12px\x22>Copy\x20the\x20link\x20manually\x20and\x20use\x20an\x20online\x20QR\x20generator:</p>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22https://www.qr-code-generator.com/\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22btn\x20ghost\x20small\x22\x20style=\x22display:inline-flex\x22>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Open\x20QR\x20Generator','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27QR\x20generation\x20failed\x20-\x20please\x20copy\x20link\x20manually\x27,\x20\x27error\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20false;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20};','','\x20\x20\x20\x20function\x20generateQRCode(text)\x20{','\x20\x20\x20\x20\x20\x20QRGenerator.generate(text);','\x20\x20\x20\x20}','','\x20\x20\x20\x20function\x20showToast(message,\x20type\x20=\x20\x27success\x27)\x20{','\x20\x20\x20\x20\x20\x20const\x20toast\x20=\x20document.getElementById(\x27toast\x27);','\x20\x20\x20\x20\x20\x20toast.textContent\x20=\x20message;','\x20\x20\x20\x20\x20\x20toast.className\x20=\x20type;','\x20\x20\x20\x20\x20\x20toast.classList.add(\x27show\x27);','\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20toast.classList.remove(\x27show\x27),\x203500);','\x20\x20\x20\x20}','','\x20\x20\x20\x20async\x20function\x20copyToClipboard(text,\x20button)\x20{','\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20await\x20navigator.clipboard.writeText(text);','\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20button.innerHTML;','\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20\x27✓\x20Copied!\x27;','\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20true;','\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20originalText;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20false;','\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);','\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Copied\x20to\x20clipboard\x20successfully!\x27,\x20\x27success\x27);','\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20textArea\x20=\x20document.createElement(\x22textarea\x22);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.value\x20=\x20text;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.style.position\x20=\x20\x22fixed\x22;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.style.top\x20=\x20\x220\x22;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.style.left\x20=\x20\x220\x22;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.appendChild(textArea);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.focus();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textArea.select();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.execCommand(\x27copy\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.removeChild(textArea);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20button.innerHTML;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20\x27✓\x20Copied!\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20true;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.innerHTML\x20=\x20originalText;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20false;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Copied\x20to\x20clipboard\x20(fallback)!\x27,\x20\x27success\x27);','\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(err)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Failed\x20to\x20copy\x20to\x20clipboard\x27,\x20\x27error\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Copy\x20error:\x27,\x20error,\x20err);','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20}','','\x20\x20\x20\x20function\x20downloadConfig(content,\x20filename)\x20{','\x20\x20\x20\x20\x20\x20const\x20blob\x20=\x20new\x20Blob([content],\x20{\x20type:\x20\x27text/plain;charset=utf-8\x27\x20});','\x20\x20\x20\x20\x20\x20const\x20url\x20=\x20URL.createObjectURL(blob);','\x20\x20\x20\x20\x20\x20const\x20link\x20=\x20document.createElement(\x27a\x27);','\x20\x20\x20\x20\x20\x20link.href\x20=\x20url;','\x20\x20\x20\x20\x20\x20link.download\x20=\x20filename;','\x20\x20\x20\x20\x20\x20document.body.appendChild(link);','\x20\x20\x20\x20\x20\x20link.click();','\x20\x20\x20\x20\x20\x20document.body.removeChild(link);','\x20\x20\x20\x20\x20\x20URL.revokeObjectURL(url);','\x20\x20\x20\x20\x20\x20showToast(`Configuration\x20downloaded:\x20${filename}`,\x20\x27success\x27);','\x20\x20\x20\x20}','','\x20\x20\x20\x20//\x20=========================================','\x20\x20\x20\x20//\x20ROBUST\x20IP\x20DETECTION\x20-\x20MULTIPLE\x20FALLBACKS','\x20\x20\x20\x20//\x20=========================================','\x20\x20\x20\x20async\x20function\x20fetchIPInfo()\x20{','\x20\x20\x20\x20\x20\x20const\x20displayElement\x20=\x20(id,\x20value,\x20isFinal\x20=\x20false)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20const\x20el\x20=\x20document.getElementById(id);','\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!el)\x20return;','\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20el.textContent\x20=\x20value\x20||\x20\x27Unavailable\x27;','\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isFinal)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20el.classList.remove(\x27detecting\x27);','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20};','','\x20\x20\x20\x20\x20\x20async\x20function\x20fetchWithTimeout(url,\x20timeout\x20=\x208000)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20const\x20controller\x20=\x20new\x20AbortController();','\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeoutId\x20=\x20setTimeout(()\x20=>\x20controller.abort(),\x20timeout);','\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(url,\x20{\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20signal:\x20controller.signal,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cache:\x20\x27no-store\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mode:\x20\x27cors\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearTimeout(timeoutId);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20throw\x20new\x20Error(`HTTP\x20${response.status}`);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20response;','\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearTimeout(timeoutId);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20error;','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20//\x20CLIENT\x20IP\x20DETECTION','\x20\x20\x20\x20\x20\x20const\x20clientIPAPIs\x20=\x20[','\x20\x20\x20\x20\x20\x20\x20\x20{\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20\x27https://api.ipify.org?format=json\x27,\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20(await\x20r.json()).ip','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20\x27https://ipapi.co/json/\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20(await\x20r.json()).ip','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20\x27https://ifconfig.me/ip\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20(await\x20r.text()).trim()','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20\x27https://icanhazip.com\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20(await\x20r.text()).trim()','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20\x27https://api.my-ip.io/v2/ip.json\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20(await\x20r.json()).ip','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20\x27https://checkip.amazonaws.com\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20(await\x20r.text()).trim()','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20\x27https://wtfismyip.com/text\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20(await\x20r.text()).trim()','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20];','','\x20\x20\x20\x20\x20\x20let\x20clientIP\x20=\x20null;','\x20\x20\x20\x20\x20\x20for\x20(const\x20api\x20of\x20clientIPAPIs)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetchWithTimeout(api.url);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clientIP\x20=\x20await\x20api.parse(response);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(clientIP\x20&&\x20clientIP.trim()\x20&&\x20/^[0-9.:a-fA-F]+$/.test(clientIP.trim()))\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clientIP\x20=\x20clientIP.trim();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayElement(\x27client-ip\x27,\x20clientIP,\x20true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(`✓\x20Client\x20IP\x20detected:\x20${clientIP}\x20via\x20${api.url}`);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(`Client\x20IP\x20API\x20failed\x20(${api.url}):\x20${error.message}`);','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20if\x20(!clientIP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20displayElement(\x27client-ip\x27,\x20\x27Detection\x20failed\x27,\x20true);','\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20//\x20CLIENT\x20GEOLOCATION','\x20\x20\x20\x20\x20\x20const\x20clientGeoAPIs\x20=\x20[','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20clientIP\x20?\x20`https://ipapi.co/${clientIP}/json/`\x20:\x20\x27https://ipapi.co/json/\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.error)\x20throw\x20new\x20Error(data.reason\x20||\x20\x27API\x20Error\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20city:\x20data.city\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20country:\x20data.country_name\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isp:\x20data.org\x20||\x20\x27\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20clientIP\x20?\x20`https://ip-api.com/json/${clientIP}?fields=status,message,city,country,isp`\x20:\x20\x27https://ip-api.com/json/?fields=status,message,city,country,isp\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.status\x20===\x20\x27fail\x27)\x20throw\x20new\x20Error(data.message\x20||\x20\x27API\x20Error\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20city:\x20data.city\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20country:\x20data.country\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isp:\x20data.isp\x20||\x20\x27\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20clientIP\x20?\x20`https://ipwho.is/${clientIP}`\x20:\x20\x27https://ipwho.is/\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!data.success)\x20throw\x20new\x20Error(\x27API\x20Error\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20city:\x20data.city\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20country:\x20data.country\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isp:\x20data.connection?.isp\x20||\x20\x27\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20clientIP\x20?\x20`https://freegeoip.app/json/${clientIP}`\x20:\x20\x27https://freegeoip.app/json/\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20city:\x20data.city\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20country:\x20data.country_name\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isp:\x20\x27\x27\x20//\x20No\x20ISP\x20in\x20this\x20API','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20];','','\x20\x20\x20\x20\x20\x20let\x20clientGeo\x20=\x20null;','\x20\x20\x20\x20\x20\x20for\x20(const\x20api\x20of\x20clientGeoAPIs)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetchWithTimeout(api.url);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clientGeo\x20=\x20await\x20api.parse(response);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(clientGeo\x20&&\x20(clientGeo.city\x20||\x20clientGeo.country))\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20location\x20=\x20[clientGeo.city,\x20clientGeo.country].filter(Boolean).join(\x27,\x20\x27)\x20||\x20\x27Unknown\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayElement(\x27client-location\x27,\x20location,\x20true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayElement(\x27client-isp\x27,\x20clientGeo.isp\x20||\x20\x27Unknown\x27,\x20true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(`Client\x20Geo\x20API\x20failed\x20(${api.url}):\x20${error.message}`);','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20if\x20(!clientGeo)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20displayElement(\x27client-location\x27,\x20\x27Detection\x20failed\x27,\x20true);','\x20\x20\x20\x20\x20\x20\x20\x20displayElement(\x27client-isp\x27,\x20\x27Detection\x20failed\x27,\x20true);','\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20//\x20PROXY\x20IP\x20RESOLUTION','\x20\x20\x20\x20\x20\x20const\x20proxyHost\x20=\x20window.CONFIG.proxyAddress.split(\x27:\x27)[0];','\x20\x20\x20\x20\x20\x20let\x20proxyIP\x20=\x20proxyHost;','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20const\x20ipv4Regex\x20=\x20/^\x5cd{1,3}\x5c.\x5cd{1,3}\x5c.\x5cd{1,3}\x5c.\x5cd{1,3}$/;','\x20\x20\x20\x20\x20\x20const\x20ipv6Regex\x20=\x20/^\x5c[?[0-9a-fA-F:]+\x5c]?$/;','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20if\x20(!ipv4Regex.test(proxyHost)\x20&&\x20!ipv6Regex.test(proxyHost))\x20{','\x20\x20\x20\x20\x20\x20\x20\x20const\x20dnsAPIs\x20=\x20[','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20`https://cloudflare-dns.com/dns-query?name=${encodeURIComponent(proxyHost)}&type=A`,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27accept\x27:\x20\x27application/dns-json\x27\x20},','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20answer\x20=\x20data.Answer?.find(a\x20=>\x20a.type\x20===\x201);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20answer?.data;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20`https://dns.google/resolve?name=${encodeURIComponent(proxyHost)}&type=A`,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27accept\x27:\x20\x27application/json\x27\x20},','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20answer\x20=\x20data.Answer?.find(a\x20=>\x20a.type\x20===\x201);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20answer?.data;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20`https://1.1.1.1/dns-query?name=${encodeURIComponent(proxyHost)}&type=A`,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27accept\x27:\x20\x27application/dns-json\x27\x20},','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20answer\x20=\x20data.Answer?.find(a\x20=>\x20a.type\x20===\x201);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20answer?.data;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20];','','\x20\x20\x20\x20\x20\x20\x20\x20for\x20(const\x20api\x20of\x20dnsAPIs)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetchWithTimeout(api.url);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resolvedIP\x20=\x20await\x20api.parse(response);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(resolvedIP\x20&&\x20/^\x5cd{1,3}\x5c.\x5cd{1,3}\x5c.\x5cd{1,3}\x5c.\x5cd{1,3}$/.test(resolvedIP))\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20proxyIP\x20=\x20resolvedIP;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(`DNS\x20resolution\x20failed\x20(${api.url}):\x20${error.message}`);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20displayElement(\x27proxy-ip\x27,\x20proxyIP,\x20true);','','\x20\x20\x20\x20\x20\x20//\x20PROXY\x20GEOLOCATION','\x20\x20\x20\x20\x20\x20const\x20proxyGeoAPIs\x20=\x20[','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20`https://ipapi.co/${proxyIP}/json/`,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.error)\x20throw\x20new\x20Error(data.reason\x20||\x20\x27API\x20Error\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20city:\x20data.city\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20country:\x20data.country_name\x20||\x20\x27\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20`https://ip-api.com/json/${proxyIP}?fields=status,message,city,country`,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.status\x20===\x20\x27fail\x27)\x20throw\x20new\x20Error(data.message\x20||\x20\x27API\x20Error\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20city:\x20data.city\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20country:\x20data.country\x20||\x20\x27\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20},','\x20\x20\x20\x20\x20\x20\x20\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url:\x20`https://ipwho.is/${proxyIP}`,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20parse:\x20async\x20(r)\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20r.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!data.success)\x20throw\x20new\x20Error(\x27API\x20Error\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20city:\x20data.city\x20||\x20\x27\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20country:\x20data.country\x20||\x20\x27\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20];','','\x20\x20\x20\x20\x20\x20let\x20proxyGeo\x20=\x20null;','\x20\x20\x20\x20\x20\x20for\x20(const\x20api\x20of\x20proxyGeoAPIs)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetchWithTimeout(api.url);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20proxyGeo\x20=\x20await\x20api.parse(response);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(proxyGeo\x20&&\x20(proxyGeo.city\x20||\x20proxyGeo.country))\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20location\x20=\x20[proxyGeo.city,\x20proxyGeo.country].filter(Boolean).join(\x27,\x20\x27)\x20||\x20\x27Unknown\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayElement(\x27proxy-location\x27,\x20location,\x20true);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(`Proxy\x20Geo\x20API\x20failed\x20(${api.url}):\x20${error.message}`);','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20if\x20(!proxyGeo)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20displayElement(\x27proxy-location\x27,\x20\x27Detection\x20failed\x27,\x20true);','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20}','','\x20\x20\x20\x20function\x20updateExpirationDisplay()\x20{','\x20\x20\x20\x20\x20\x20if\x20(!window.CONFIG.expirationDateTime)\x20return;','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20const\x20expiryDate\x20=\x20new\x20Date(window.CONFIG.expirationDateTime);','\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date();','\x20\x20\x20\x20\x20\x20const\x20diffMs\x20=\x20expiryDate\x20-\x20now;','\x20\x20\x20\x20\x20\x20const\x20diffSeconds\x20=\x20Math.floor(diffMs\x20/\x201000);','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20const\x20countdownEl\x20=\x20document.getElementById(\x27expiry-countdown\x27);','\x20\x20\x20\x20\x20\x20const\x20localEl\x20=\x20document.getElementById(\x27expiry-local\x27);','\x20\x20\x20\x20\x20\x20const\x20utcEl\x20=\x20document.getElementById(\x27expiry-utc\x27);','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20if\x20(diffSeconds\x20<\x200)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20\x27Expired\x27;','\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.parentElement.classList.add(\x27status-expired\x27);','\x20\x20\x20\x20\x20\x20\x20\x20return;','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20const\x20days\x20=\x20Math.floor(diffSeconds\x20/\x2086400);','\x20\x20\x20\x20\x20\x20const\x20hours\x20=\x20Math.floor((diffSeconds\x20%\x2086400)\x20/\x203600);','\x20\x20\x20\x20\x20\x20const\x20minutes\x20=\x20Math.floor((diffSeconds\x20%\x203600)\x20/\x2060);','\x20\x20\x20\x20\x20\x20const\x20seconds\x20=\x20diffSeconds\x20%\x2060;','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20if\x20(days\x20>\x200)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20days\x20+\x20\x27d\x20\x27\x20+\x20hours\x20+\x20\x27h\x20\x27\x20+\x20minutes\x20+\x20\x27m\x20\x27\x20+\x20seconds\x20+\x20\x27s\x27;','\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(hours\x20>\x200)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20hours\x20+\x20\x27h\x20\x27\x20+\x20minutes\x20+\x20\x27m\x20\x27\x20+\x20seconds\x20+\x20\x27s\x27;','\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(minutes\x20>\x200)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20minutes\x20+\x20\x27m\x20\x27\x20+\x20seconds\x20+\x20\x27s\x27;','\x20\x20\x20\x20\x20\x20}\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20countdownEl.textContent\x20=\x20seconds\x20+\x20\x27s\x27;','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20if\x20(localEl)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20localEl.textContent\x20=\x20`Expires:\x20${expiryDate.toLocaleString()}`;','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20if\x20(utcEl)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20utcEl.textContent\x20=\x20`UTC:\x20${expiryDate.toISOString().replace(\x27T\x27,\x20\x27\x20\x27).substring(0,\x2019)}`;','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20}','','\x20\x20\x20\x20function\x20animateProgressBar(targetWidth)\x20{','\x20\x20\x20\x20\x20\x20const\x20progressBar\x20=\x20document.getElementById(\x27progress-bar-fill\x27);','\x20\x20\x20\x20\x20\x20if\x20(!progressBar)\x20return;','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20progressBar.style.width\x20=\x20targetWidth\x20+\x20\x27%\x27;','\x20\x20\x20\x20\x20\x20},\x20100);','\x20\x20\x20\x20}','','\x20\x20\x20\x20async\x20function\x20refreshUserPanel()\x20{','\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(\x27/api/user/\x27\x20+\x20window.CONFIG.uuid);','','\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20usageDisplay\x20=\x20document.getElementById(\x27usage-display\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usageDisplay.textContent\x20=\x20formatBytes(data.traffic_used\x20||\x200);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20usagePercentage\x20=\x200;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.traffic_limit\x20&&\x20data.traffic_limit\x20>\x200)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usagePercentage\x20=\x20Math.min(((data.traffic_used\x20||\x200)\x20/\x20data.traffic_limit)\x20*\x20100,\x20100);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20usagePercentageDisplay;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(usagePercentage\x20>\x200\x20&&\x20usagePercentage\x20<\x200.01)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usagePercentageDisplay\x20=\x20\x27<\x200.01%\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(usagePercentage\x20===\x200)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usagePercentageDisplay\x20=\x20\x270%\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(usagePercentage\x20===\x20100)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usagePercentageDisplay\x20=\x20\x27100%\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usagePercentageDisplay\x20=\x20usagePercentage.toFixed(2)\x20+\x20\x27%\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressFill\x20=\x20document.getElementById(\x27progress-bar-fill\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(progressFill)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressFill.dataset.targetWidth\x20=\x20usagePercentage.toFixed(2);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressFill.className\x20=\x20\x27progress-fill\x20\x27\x20+\x20(usagePercentage\x20>\x2080\x20?\x20\x27high\x27\x20:\x20usagePercentage\x20>\x2050\x20?\x20\x27medium\x27\x20:\x20\x27low\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animateProgressBar(usagePercentage);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20usageStat\x20=\x20document.querySelector(\x27.section-title\x20span.muted\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(usageStat)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usageStat.textContent\x20=\x20usagePercentageDisplay\x20+\x20\x27\x20Used\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20usageText\x20=\x20document.querySelector(\x27.progress-bar\x20+\x20p\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(usageText)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usageText.textContent\x20=\x20formatBytes(data.traffic_used\x20||\x200)\x20+\x20\x27\x20of\x20\x27\x20+\x20(data.traffic_limit\x20?\x20formatBytes(data.traffic_limit)\x20:\x20\x27Unlimited\x27)\x20+\x20\x27\x20used\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20updateExpirationDisplay();','\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Panel\x20auto-refreshed\x27,\x20\x27success\x27);','\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Auto-refresh\x20error:\x27,\x20error);','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20}','','\x20\x20\x20\x20function\x20startUserAutoRefresh()\x20{','\x20\x20\x20\x20\x20\x20setInterval(refreshUserPanel,\x20'+CONST['AUTO_REFRESH_INTERVAL']+');','\x20\x20\x20\x20}','','\x20\x20\x20\x20document.addEventListener(\x27DOMContentLoaded\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20QRGenerator.waitForLibrary().then(()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27QR\x20Code\x20system\x20ready\x27);','\x20\x20\x20\x20\x20\x20});','','\x20\x20\x20\x20\x20\x20document.getElementById(\x27copy-xray-sub\x27).addEventListener(\x27click\x27,\x20function()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20copyToClipboard(window.CONFIG.subXrayUrl,\x20this);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27copy-sb-sub\x27).addEventListener(\x27click\x27,\x20function()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20copyToClipboard(window.CONFIG.subSbUrl,\x20this);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27show-xray-config\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27xray-config\x27).classList.toggle(\x27hidden\x27);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27show-sb-config\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27sb-config\x27).classList.toggle(\x27hidden\x27);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27qr-xray-sub-btn\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20generateQRCode(window.CONFIG.subXrayUrl);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27qr-sb-sub-btn\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20generateQRCode(window.CONFIG.subSbUrl);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27qr-xray-config-btn\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20generateQRCode(window.CONFIG.singleXrayConfig);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27qr-sb-config-btn\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20generateQRCode(window.CONFIG.singleSingboxConfig);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27download-xray\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20downloadConfig(window.CONFIG.singleXrayConfig,\x20\x27xray-vless-config.txt\x27);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27download-sb\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20downloadConfig(window.CONFIG.singleSingboxConfig,\x20\x27singbox-vless-config.txt\x27);','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20document.getElementById(\x27btn-refresh-ip\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{','\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Refreshing\x20network\x20information...\x27,\x20\x27success\x27);','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27proxy-ip\x27).className\x20=\x20\x27value\x20detecting\x27;','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27proxy-ip\x27).textContent\x20=\x20\x27Detecting...\x27;','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27proxy-location\x27).className\x20=\x20\x27value\x20detecting\x27;','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27proxy-location\x27).textContent\x20=\x20\x27Detecting...\x27;','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27client-ip\x27).className\x20=\x20\x27value\x20detecting\x27;','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27client-ip\x27).textContent\x20=\x20\x27Detecting...\x27;','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27client-location\x27).className\x20=\x20\x27value\x20detecting\x27;','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27client-location\x27).textContent\x20=\x20\x27Detecting...\x27;','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27client-isp\x27).className\x20=\x20\x27value\x20detecting\x27;','\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27client-isp\x27).textContent\x20=\x20\x27Detecting...\x27;','\x20\x20\x20\x20\x20\x20\x20\x20fetchIPInfo();','\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20fetchIPInfo();','\x20\x20\x20\x20\x20\x20updateExpirationDisplay();','\x20\x20\x20\x20\x20\x20animateProgressBar(window.CONFIG.initialTrafficUsed\x20?\x20(window.CONFIG.initialTrafficUsed\x20/\x20window.CONFIG.trafficLimit\x20*\x20100).toFixed(2)\x20:\x200);','\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20setInterval(updateExpirationDisplay,\x201000);\x20//\x20Update\x20every\x20second\x20for\x20precise\x20countdown','\x20\x20\x20\x20\x20\x20startUserAutoRefresh();\x20//\x20Start\x20auto-refresh\x20for\x20user\x20panel','\x20\x20\x20\x20});','\x20\x20\x20\x20','\x20\x20\x20\x20//\x20============================================================================','\x20\x20\x20\x20//\x20INTEGRATED\x20ULTRA\x20ADAPTIVE\x20SMART\x20POLLING\x20(RASPS)\x20-\x20ADVANCED\x20AUTO-REFRESH','\x20\x20\x20\x20//\x20============================================================================','\x20\x20\x20\x20','\x20\x20\x20\x20(function()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20const\x20CONFIG\x20=\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ENDPOINT:\x20\x27/api/user/\x27\x20+\x20window.CONFIG.uuid,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20POLL_MIN_MS:\x2050000,\x20//\x20Adjusted\x20base\x20to\x20~1min\x20with\x20jitter','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20POLL_MAX_MS:\x2070000,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INACTIVE_MULTIPLIER:\x204,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20MAX_BACKOFF_MS:\x20300000,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INITIAL_BACKOFF_MS:\x202000,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20BACKOFF_FACTOR:\x201.8,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20USE_ETAG:\x20true,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FIELDS_TO_TRACK:\x20[\x27usedMB\x27,\x20\x27data_used\x27,\x20\x27limitMB\x27,\x20\x27data_limit\x27,\x20\x27expires\x27,\x20\x27status\x27],','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DOM_SELECTORS:\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usage:\x20\x27#usage-display\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status:\x20\x27#status-badge\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20time:\x20\x27#expiry-countdown\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20let\x20lastEtag\x20=\x20null;','\x20\x20\x20\x20\x20\x20\x20\x20let\x20lastModified\x20=\x20null;','\x20\x20\x20\x20\x20\x20\x20\x20let\x20lastDataHash\x20=\x20null;','\x20\x20\x20\x20\x20\x20\x20\x20let\x20currentBackoff\x20=\x20CONFIG.INITIAL_BACKOFF_MS;','\x20\x20\x20\x20\x20\x20\x20\x20let\x20isPolling\x20=\x20false;','\x20\x20\x20\x20\x20\x20\x20\x20let\x20pollTimeout\x20=\x20null;','\x20\x20\x20\x20\x20\x20\x20\x20let\x20isPageVisible\x20=\x20document.visibilityState\x20===\x20\x27visible\x27;','\x20\x20\x20\x20\x20\x20\x20\x20let\x20lastSuccessfulFetch\x20=\x20Date.now();','','\x20\x20\x20\x20\x20\x20\x20\x20function\x20getRandomDelay()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20baseMin\x20=\x20CONFIG.POLL_MIN_MS;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20baseMax\x20=\x20CONFIG.POLL_MAX_MS;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20multiplier\x20=\x20isPageVisible\x20?\x201\x20:\x20CONFIG.INACTIVE_MULTIPLIER;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20minDelay\x20=\x20baseMin\x20*\x20multiplier;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20maxDelay\x20=\x20baseMax\x20*\x20multiplier;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20Math.floor(Math.random()\x20*\x20(maxDelay\x20-\x20minDelay\x20+\x201))\x20+\x20minDelay;','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20function\x20computeHash(data)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20str\x20=\x20JSON.stringify(data);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20hash\x20=\x200;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20str.length;\x20i++)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20char\x20=\x20str.charCodeAt(i);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash\x20=\x20((hash\x20<<\x205)\x20-\x20hash)\x20+\x20char;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash\x20=\x20hash\x20&\x20hash;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20hash.toString(36);','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20function\x20extractDataFromJson(json)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usedMB:\x20json.traffic_used\x20||\x20json.usedMB,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20limitMB:\x20json.traffic_limit\x20||\x20json.limitMB,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20expires:\x20json.expiration_date\x20+\x20\x27T\x27\x20+\x20json.expiration_time\x20+\x20\x27Z\x27\x20||\x20json.expires,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status:\x20json.status','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20function\x20extractDataFromHtml(html)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parser\x20=\x20new\x20DOMParser();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20doc\x20=\x20parser.parseFromString(html,\x20\x27text/html\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usedMB:\x20doc.querySelector(CONFIG.DOM_SELECTORS.usage)?.textContent.trim()\x20||\x20null,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20expires:\x20doc.querySelector(CONFIG.DOM_SELECTORS.time)?.textContent.trim()\x20||\x20null,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status:\x20doc.querySelector(CONFIG.DOM_SELECTORS.status)?.textContent.trim()\x20||\x20null','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20function\x20updateDOM(data)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20usageEl\x20=\x20document.querySelector(CONFIG.DOM_SELECTORS.usage);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeEl\x20=\x20document.querySelector(CONFIG.DOM_SELECTORS.time);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20statusEl\x20=\x20document.querySelector(CONFIG.DOM_SELECTORS.status);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(usageEl\x20&&\x20data.usedMB\x20&&\x20data.limitMB)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20percentage\x20=\x20((data.usedMB\x20/\x20data.limitMB)\x20*\x20100).toFixed(1);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usageEl.textContent\x20=\x20formatBytes(data.usedMB)\x20||\x20\x270\x20Bytes\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20usageStat\x20=\x20document.querySelector(\x27.section-title\x20span.muted\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(usageStat)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usageStat.textContent\x20=\x20percentage\x20+\x20\x27%\x20Used\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressFill\x20=\x20document.getElementById(\x27progress-bar-fill\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(progressFill)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressFill.dataset.targetWidth\x20=\x20percentage;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressFill.className\x20=\x20\x27progress-fill\x20\x27\x20+\x20(percentage\x20>\x2080\x20?\x20\x27high\x27\x20:\x20percentage\x20>\x2050\x20?\x20\x27medium\x27\x20:\x20\x27low\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animateProgressBar(percentage);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20usageText\x20=\x20document.querySelector(\x27.progress-bar\x20+\x20p\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(usageText)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20usageText.textContent\x20=\x20formatBytes(data.usedMB)\x20+\x20\x27\x20of\x20\x27\x20+\x20formatBytes(data.limitMB)\x20+\x20\x27\x20used\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(timeEl\x20&&\x20data.expires)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.CONFIG.expirationDateTime\x20=\x20data.expires;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateExpirationDisplay();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(statusEl\x20&&\x20data.status)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusEl.textContent\x20=\x20data.status;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusEl.parentElement.className\x20=\x20\x27stat\x20\x27\x20+\x20(data.status\x20===\x20\x27Expired\x27\x20?\x20\x27status-expired\x27\x20:\x20\x27status-active\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Data\x20refreshed\x27,\x20\x27success\x27);','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20fetchData()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20headers\x20=\x20new\x20Headers({','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Cache-Control\x27:\x20\x27no-cache\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(CONFIG.USE_ETAG\x20&&\x20lastEtag)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers.set(\x27If-None-Match\x27,\x20lastEtag);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(lastModified)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers.set(\x27If-Modified-Since\x27,\x20lastModified);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(CONFIG.ENDPOINT,\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27GET\x27,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20headers,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cache:\x20\x27no-store\x27','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.status\x20===\x20304)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.debug(\x27Data\x20unchanged\x20(304\x20Not\x20Modified)\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27HTTP\x20error:\x20\x27\x20+\x20response.status);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lastEtag\x20=\x20response.headers.get(\x27ETag\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lastModified\x20=\x20response.headers.get(\x27Last-Modified\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lastSuccessfulFetch\x20=\x20Date.now();','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20contentType\x20=\x20response.headers.get(\x27Content-Type\x27)\x20||\x20\x27\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20rawData;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(contentType.includes(\x27application/json\x27))\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rawData\x20=\x20await\x20response.json();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rawData\x20=\x20await\x20response.text();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20contentType.includes(\x27application/json\x27)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20?\x20extractDataFromJson(rawData)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20extractDataFromHtml(rawData);','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20newHash\x20=\x20computeHash(data);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(newHash\x20===\x20lastDataHash)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.debug(\x27Data\x20hash\x20unchanged\x20-\x20skipping\x20DOM\x20update\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lastDataHash\x20=\x20newHash;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20data;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27Fetch\x20error:\x27,\x20error.message);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20error;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20function\x20scheduleNextPoll()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pollTimeout)\x20clearTimeout(pollTimeout);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20delay\x20=\x20getRandomDelay();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.debug(\x27Next\x20poll\x20in\x20\x27\x20+\x20Math.round(delay\x20/\x201000)\x20+\x20\x27\x20seconds\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pollTimeout\x20=\x20setTimeout(poll,\x20delay);','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20poll()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isPolling)\x20return;','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20fetchData();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateDOM(data);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.debug(\x27Data\x20updated\x20successfully\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackoff\x20=\x20CONFIG.INITIAL_BACKOFF_MS;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Polling\x20failed:\x27,\x20error);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20jitter\x20=\x20Math.random()\x20*\x20(currentBackoff\x20/\x202);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackoff\x20=\x20Math.min(currentBackoff\x20*\x20CONFIG.BACKOFF_FACTOR\x20+\x20jitter,\x20CONFIG.MAX_BACKOFF_MS);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27Retrying\x20after\x20\x27\x20+\x20Math.round(currentBackoff\x20/\x201000)\x20+\x20\x27\x20seconds\x27);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scheduleNextPoll();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20function\x20handleVisibilityChange()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isPageVisible\x20=\x20document.visibilityState\x20===\x20\x27visible\x27;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isPageVisible\x20&&\x20Date.now()\x20-\x20lastSuccessfulFetch\x20>\x20CONFIG.POLL_MIN_MS)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20poll();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20function\x20startPolling()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isPolling)\x20return;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isPolling\x20=\x20true;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.addEventListener(\x27visibilitychange\x27,\x20handleVisibilityChange);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scheduleNextPoll();','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20function\x20stopPolling()\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isPolling\x20=\x20false;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(pollTimeout)\x20clearTimeout(pollTimeout);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.removeEventListener(\x27visibilitychange\x27,\x20handleVisibilityChange);','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20//\x20Advanced\x20features:\x20Idle\x20detection\x20and\x20adaptive\x20rate\x20based\x20on\x20change\x20frequency','\x20\x20\x20\x20\x20\x20\x20\x20let\x20changeFrequency\x20=\x200;','\x20\x20\x20\x20\x20\x20\x20\x20let\x20lastChangeTime\x20=\x20Date.now();','\x20\x20\x20\x20\x20\x20\x20\x20function\x20adjustPollingRate(hasChanged)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(hasChanged)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20changeFrequency++;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeSinceLastChange\x20=\x20Date.now()\x20-\x20lastChangeTime;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(timeSinceLastChange\x20<\x20CONFIG.POLL_MIN_MS)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CONFIG.POLL_MIN_MS\x20=\x20Math.max(CONFIG.POLL_MIN_MS\x20/\x201.2,\x2010000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CONFIG.POLL_MAX_MS\x20=\x20Math.max(CONFIG.POLL_MAX_MS\x20/\x201.2,\x2030000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lastChangeTime\x20=\x20Date.now();','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20changeFrequency\x20=\x20Math.max(0,\x20changeFrequency\x20-\x200.5);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(changeFrequency\x20<\x201)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CONFIG.POLL_MIN_MS\x20=\x20Math.min(CONFIG.POLL_MIN_MS\x20*\x201.1,\x2035000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CONFIG.POLL_MAX_MS\x20=\x20Math.min(CONFIG.POLL_MAX_MS\x20*\x201.1,\x2085000);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20//\x20Override\x20updateDOM\x20to\x20track\x20changes','\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalUpdateDOM\x20=\x20updateDOM;','\x20\x20\x20\x20\x20\x20\x20\x20updateDOM\x20=\x20function(data)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20originalUpdateDOM(data);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hasChanged\x20=\x20true;\x20//\x20Assume\x20change\x20for\x20safety;\x20can\x20refine\x20with\x20diff','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20adjustPollingRate(hasChanged);','\x20\x20\x20\x20\x20\x20\x20\x20};','','\x20\x20\x20\x20\x20\x20\x20\x20//\x20Start\x20the\x20system','\x20\x20\x20\x20\x20\x20\x20\x20if\x20(CONFIG.ENDPOINT)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20startPolling();','\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27RASPS:\x20ENDPOINT\x20not\x20configured\x20-\x20polling\x20disabled\x27);','\x20\x20\x20\x20\x20\x20\x20\x20}','','\x20\x20\x20\x20\x20\x20\x20\x20//\x20Export\x20controls\x20for\x20debugging','\x20\x20\x20\x20\x20\x20\x20\x20window.RASPS\x20=\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20start:\x20startPolling,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20stop:\x20stopPolling,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20config:\x20CONFIG','\x20\x20\x20\x20\x20\x20\x20\x20};','\x20\x20\x20\x20})();','\x20\x20</script>','</body>','</html>']['join']('\x0a'),o=generateNonce(),p=new Headers({'Content-Type':'text/html;charset=utf-8'});addSecurityHeaders(p,o,{'img':'data:\x20https://api.qrserver.com','connect':'https://*.ipapi.co\x20https://*.ip-api.com\x20https://ipwho.is\x20https://*.ipify.org\x20https://*.my-ip.io\x20https://ifconfig.me\x20https://icanhazip.com\x20https://cloudflare-dns.com\x20https://dns.google\x20https://api.qrserver.com\x20https://checkip.amazonaws.com\x20https://wtfismyip.com\x20https://freegeoip.app'});let q=n['replace'](/CSP_NONCE_PLACEHOLDER/g,o);return new Response(q,{'headers':p});}async function ProtocolOverWSHandler(a,b,c,d){const e=a['headers']['get']('CF-Connecting-IP');if(await isSuspiciousIP(e,b['scamalytics'],c['SCAMALYTICS_THRESHOLD']||CONST['SCAMALYTICS_THRESHOLD']))return new Response('Access\x20denied',{'status':0x193});const f=new WebSocketPair(),[g,h]=Object['values'](f);h['accept']();let i='',j='',k=0x0,l='',m=null;const n=(u,v)=>console['log']('['+i+':'+j+']\x20'+u,v||''),o=()=>{if(k>0x0&&l){const u=k,v=l;k=0x0,d['waitUntil'](updateUsage(c,v,u,d)['catch'](w=>console['error']('Deferred\x20usage\x20update\x20failed\x20for\x20'+v+':',w)));}},p=setInterval(o,0x2710),q=()=>{clearInterval(p),o();};h['addEventListener']('close',q,{'once':!![]}),h['addEventListener']('error',q,{'once':!![]});const r=a['headers']['get']('Sec-WebSocket-Protocol')||'',s=MakeReadableWebSocketStream(h,r,n);let t={'value':null};return s['pipeTo'](new WritableStream({async 'write'(u,v){k+=u['byteLength'];if(m)return m['write'](u);if(t['value']){const E=t['value']['writable']['getWriter']();await E['write'](u),E['releaseLock']();return;}const {user:w,hasError:x,message:y,addressType:z,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:A,ProtocolVersion:ProtocolVersion=new Uint8Array([0x0,0x0]),isUDP:B}=await ProcessProtocolHeader(u,c,d);if(x){v['error'](new Error('Authentication\x20failed'));return;}if(!w){v['error'](new Error('Authentication\x20failed'));return;}l=w['uuid'];if(isExpired(w['expiration_date'],w['expiration_time'])){v['error'](new Error('Authentication\x20failed'));return;}if(w['traffic_limit']&&w['traffic_limit']>0x0){const F=(w['traffic_used']||0x0)+k;if(F>=w['traffic_limit']){v['error'](new Error('Authentication\x20failed'));return;}}if(w['ip_limit']&&w['ip_limit']>-0x1){const G=await c['DB']['prepare']('SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?')['bind'](l)['first']('count');if(G>=w['ip_limit']){v['error'](new Error('IP\x20limit\x20exceeded'));return;}await c['DB']['prepare']('INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)')['bind'](l,e)['run']();}i=addressRemote,j=portRemote+'--'+Math['random']()+'\x20'+(B?'udp':'tcp');const C=new Uint8Array([ProtocolVersion[0x0],0x0]),D=u['slice'](A);if(B){if(portRemote===0x35){const H=await createDnsPipeline(h,C,n,I=>{k+=I;});m=H['write'],await m(D);}else v['error'](new Error('Authentication\x20failed'));return;}HandleTCPOutBound(t,z,addressRemote,portRemote,D,h,C,n,b,I=>{k+=I;});},'close'(){n('readableWebSocketStream\x20closed'),q();},'abort'(u){n('readableWebSocketStream\x20aborted',u),q();}}))['catch'](u=>{console['error']('Pipeline\x20failed:',u['stack']||u),safeCloseWebSocket(h),q();}),new Response(null,{'status':0x65,'webSocket':g});}async function ProcessProtocolHeader(a,b,c){if(a['byteLength']<0x18)return{'hasError':!![],'message':'invalid\x20data'};const d=new DataView(a['buffer']||a),f=d['getUint8'](0x0);let g;try{g=stringify(new Uint8Array(a['slice'](0x1,0x11)));}catch(u){return{'hasError':!![],'message':'invalid\x20UUID\x20format'};}const h=await getUserData(b,g,c);if(!h)return{'hasError':!![],'message':'invalid\x20user'};const i=0x11;if(a['byteLength']<i+0x1)return{'hasError':!![],'message':'invalid\x20data\x20length'};const j=d['getUint8'](i),k=i+0x1+j;if(a['byteLength']<k+0x1)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(command)'};const l=d['getUint8'](k);if(l!==0x1&&l!==0x2)return{'hasError':!![],'message':'command\x20'+l+'\x20is\x20not\x20supported'};const m=k+0x1;if(a['byteLength']<m+0x2)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(port)'};const n=d['getUint16'](m,![]),o=m+0x2;if(a['byteLength']<o+0x1)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(address\x20type)'};const p=d['getUint8'](o);let q,r,s;switch(p){case 0x1:r=0x4,s=o+0x1;if(a['byteLength']<s+r)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(ipv4)'};q=new Uint8Array(a['slice'](s,s+r))['join']('.');break;case 0x2:if(a['byteLength']<o+0x2)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(domain\x20length)'};r=d['getUint8'](o+0x1),s=o+0x2;if(a['byteLength']<s+r)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(domain)'};q=new TextDecoder()['decode'](a['slice'](s,s+r));break;case 0x3:r=0x10,s=o+0x1;if(a['byteLength']<s+r)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(ipv6)'};q=Array['from']({'length':0x8},(v,w)=>d['getUint16'](s+w*0x2,![])['toString'](0x10))['join'](':');break;default:return{'hasError':!![],'message':'invalid\x20addressType:\x20'+p};}const t=s+r;if(a['byteLength']<t)return{'hasError':!![],'message':'invalid\x20data\x20length\x20(raw\x20data)'};return{'user':h,'hasError':![],'addressRemote':q,'addressType':p,'portRemote':n,'rawDataIndex':t,'ProtocolVersion':new Uint8Array([f]),'isUDP':l===0x2};}async function HandleTCPOutBound(a,b,c,d,e,f,g,h,i,j){async function k(n,o,p=![]){let q;i['socks5Relay']?q=await socks5Connect(b,n,o,h,i['parsedSocks5Address']):q=p?await socks5Connect(b,n,o,h,i['parsedSocks5Address']):connect({'hostname':n,'port':o});a['value']=q,h('connected\x20to\x20'+n+':'+o);const r=q['writable']['getWriter']();return await r['write'](e),r['releaseLock'](),q;}async function l(){const n=i['enableSocks']?await k(c,d,!![]):await k(i['proxyIP']||c,i['proxyPort']||d,![]);n['closed']['catch'](o=>{console['log']('retry\x20tcpSocket\x20closed\x20error',o);})['finally'](()=>{safeCloseWebSocket(f);}),RemoteSocketToWS(n,f,g,null,h,j);}const m=await k(c,d);RemoteSocketToWS(m,f,g,l,h,j);}function MakeReadableWebSocketStream(a,b,c){return new ReadableStream({'start'(d){a['addEventListener']('message',g=>d['enqueue'](g['data'])),a['addEventListener']('close',()=>{safeCloseWebSocket(a),d['close']();}),a['addEventListener']('error',g=>{c('webSocketServer\x20has\x20error'),d['error'](g);});const {earlyData:e,error:f}=base64ToArrayBuffer(b);if(f)d['error'](f);else{if(e)d['enqueue'](e);}},'pull'(d){},'cancel'(d){c('ReadableStream\x20was\x20canceled,\x20due\x20to\x20'+d),safeCloseWebSocket(a);}});}async function RemoteSocketToWS(a,b,c,d,f,g){let h=![];try{await a['readable']['pipeTo'](new WritableStream({async 'write'(i){if(b['readyState']!==CONST['WS_READY_STATE_OPEN'])throw new Error('WebSocket\x20is\x20not\x20open');h=!![];g&&g(i['byteLength']);const j=c?await new Blob([c,i])['arrayBuffer']():i;b['send'](j),c=null;},'close'(){f('Remote\x20connection\x20readable\x20closed.\x20Had\x20incoming\x20data:\x20'+h);},'abort'(i){console['error']('Remote\x20connection\x20readable\x20aborted:',i);}}));}catch(i){console['error']('RemoteSocketToWS\x20error:',i['stack']||i),safeCloseWebSocket(b);}if(!h&&d){f('No\x20incoming\x20data,\x20retrying');try{await d();}catch(j){console['error']('Retry\x20failed:',j);}}}function base64ToArrayBuffer(a){if(!a)return{'earlyData':null,'error':null};try{const b=atob(a['replace'](/-/g,'+')['replace'](/_/g,'/')),c=new ArrayBuffer(b['length']),d=new Uint8Array(c);for(let e=0x0;e<b['length'];e++){d[e]=b['charCodeAt'](e);}return{'earlyData':c,'error':null};}catch(f){return{'earlyData':null,'error':f};}}function safeCloseWebSocket(a){try{(a['readyState']===CONST['WS_READY_STATE_OPEN']||a['readyState']===CONST['WS_READY_STATE_CLOSING'])&&a['close']();}catch(b){console['error']('safeCloseWebSocket\x20error:',b);}}async function createDnsPipeline(a,b,c,d){let e=![];const f=new TransformStream({'transform'(h,i){for(let j=0x0;j<h['byteLength'];){if(j+0x2>h['byteLength'])break;const k=h['slice'](j,j+0x2),l=new DataView(k)['getUint16'](0x0);if(j+0x2+l>h['byteLength'])break;const m=new Uint8Array(h['slice'](j+0x2,j+0x2+l));j=j+0x2+l,i['enqueue'](m);}}});f['readable']['pipeTo'](new WritableStream({async 'write'(h){try{const i=await fetch('https://1.1.1.1/dns-query',{'method':'POST','headers':{'content-type':'application/dns-message'},'body':h}),j=await i['arrayBuffer'](),k=j['byteLength'],l=new Uint8Array([k>>0x8&0xff,k&0xff]);if(a['readyState']===CONST['WS_READY_STATE_OPEN']){c('DNS\x20query\x20successful,\x20length:\x20'+k);let m;e?m=await new Blob([l,j])['arrayBuffer']():(m=await new Blob([b,l,j])['arrayBuffer'](),e=!![]),d&&d(m['byteLength']),a['send'](m);}}catch(n){c('DNS\x20query\x20error:\x20'+n);}}}))['catch'](h=>{c('DNS\x20stream\x20error:\x20'+h);});const g=f['writable']['getWriter']();return{'write':h=>g['write'](h)};}function parseIPv6(a){const b=new ArrayBuffer(0x10),c=new DataView(b),d=a['split']('::');let e=d[0x0]?d[0x0]['split'](':'):[],f=d[0x1]?d[0x1]['split'](':'):[];if(e['length']===0x1&&e[0x0]==='')e=[];if(f['length']===0x1&&f[0x0]==='')f=[];const g=0x8-(e['length']+f['length']),h=[];if(g>0x0)for(let k=0x0;k<g;k++){h['push']('0000');}const j=[...e,...h,...f];for(let l=0x0;l<0x8;l++){const m=parseInt(j[l]||'0',0x10);c['setUint16'](l*0x2,m,![]);}return new Uint8Array(b);}async function socks5Connect(a,b,c,d,f){const {username:g,password:h,hostname:i,port:j}=f;let k,l,m,n=![];try{k=connect({'hostname':i,'port':j}),l=k['readable']['getReader'](),m=k['writable']['getWriter']();const o=new TextEncoder();await m['write'](new Uint8Array([0x5,0x2,0x0,0x2]));let p=(await l['read']())['value'];if(!p||p[0x0]!==0x5||p[0x1]===0xff)throw new Error('SOCKS5\x20handshake\x20failed.\x20Server\x20rejected\x20methods.');if(p[0x1]===0x2){if(!g||!h)throw new Error('SOCKS5\x20server\x20requires\x20credentials,\x20but\x20none\x20provided.');const s=new Uint8Array([0x1,g['length'],...o['encode'](g),h['length'],...o['encode'](h)]);await m['write'](s),p=(await l['read']())['value'];if(!p||p[0x0]!==0x1||p[0x1]!==0x0)throw new Error('SOCKS5\x20authentication\x20failed\x20(Code:\x20'+p[0x1]+')');}let q;switch(a){case 0x1:q=new Uint8Array([0x1,...b['split']('.')['map'](Number)]);break;case 0x2:q=new Uint8Array([0x3,b['length'],...o['encode'](b)]);break;case 0x3:const t=parseIPv6(b);if(t['length']!==0x10)throw new Error('Failed\x20to\x20parse\x20IPv6\x20address:\x20'+b);q=new Uint8Array(0x1+0x10),q[0x0]=0x4,q['set'](t,0x1);break;default:throw new Error('Invalid\x20address\x20type:\x20'+a);}const r=new Uint8Array([0x5,0x1,0x0,...q,c>>0x8,c&0xff]);await m['write'](r),p=(await l['read']())['value'];if(!p||p[0x1]!==0x0)throw new Error('SOCKS5\x20connection\x20failed.\x20Server\x20responded\x20with\x20code:\x20'+p[0x1]);return d('SOCKS5\x20connection\x20to\x20'+b+':'+c+'\x20established.'),n=!![],k;}catch(u){d('socks5Connect\x20Error:\x20'+u['message'],u);throw u;}finally{if(m)m['releaseLock']();if(l)l['releaseLock']();if(!n&&k)try{k['abort']();}catch(v){d('Error\x20aborting\x20SOCKS5\x20socket\x20during\x20cleanup',v);}}}function socks5AddressParser(a){if(!a||typeof a!=='string')throw new Error('Invalid\x20SOCKS5\x20address\x20format');const [b,c]=a['includes']('@')?a['split']('@'):[null,a],d=c['lastIndexOf'](':');if(d===-0x1)throw new Error('Invalid\x20SOCKS5\x20address:\x20missing\x20port');let e;if(c['startsWith']('[')){const j=c['lastIndexOf'](']');if(j===-0x1||j>d)throw new Error('Invalid\x20IPv6\x20SOCKS5\x20address\x20format');e=c['substring'](0x1,j);}else e=c['substring'](0x0,d);const f=c['substring'](d+0x1),g=parseInt(f,0xa);if(!e||isNaN(g))throw new Error('Invalid\x20SOCKS5\x20address');let h,i;return b&&([h,i]=b['split'](':')),{'username':h,'password':i,'hostname':e,'port':g};}export default{async 'fetch'(a,b,c){let d;try{d=await Config['fromEnv'](b);}catch(m){console['error']('Configuration\x20Error:\x20'+m['message']);const n=new Headers();return addSecurityHeaders(n,null,{}),new Response('Configuration\x20Error:\x20'+m['message'],{'status':0x1f7,'headers':n});}const f=new URL(a['url']),g=a['headers']['get']('CF-Connecting-IP'),h=b['ADMIN_PATH_PREFIX']||'admin';if(f['pathname']['startsWith']('/'+h+'/'))return await handleAdminRequest(a,b,c,h);if(f['pathname']==='/health'){const o=new Headers();return addSecurityHeaders(o,null,{}),new Response('OK',{'status':0xc8,'headers':o});}if(f['pathname']['startsWith']('/api/user/')){const p=f['pathname']['substring']('/api/user/'['length']),q=new Headers({'Content-Type':'application/json'});addSecurityHeaders(q,null,{});if(a['method']!=='GET')return new Response(JSON['stringify']({'error':'Method\x20Not\x20Allowed'}),{'status':0x195,'headers':q});if(!isValidUUID(p))return new Response(JSON['stringify']({'error':'Invalid\x20UUID'}),{'status':0x190,'headers':q});const r=await getUserData(b,p,c);if(!r)return new Response(JSON['stringify']({'error':'Authentication\x20failed'}),{'status':0x193,'headers':q});return new Response(JSON['stringify']({'traffic_used':r['traffic_used']||0x0,'traffic_limit':r['traffic_limit'],'expiration_date':r['expiration_date'],'expiration_time':r['expiration_time']}),{'status':0xc8,'headers':q});}const i=a['headers']['get']('Upgrade');if(i?.['toLowerCase']()==='websocket'){if(!b['DB']){const v=new Headers();return addSecurityHeaders(v,null,{}),new Response('Service\x20not\x20configured\x20properly',{'status':0x1f7,'headers':v});}const s={'userID':d['userID'],'proxyIP':d['proxyIP'],'proxyPort':d['proxyPort'],'socks5Address':d['socks5']['address'],'socks5Relay':d['socks5']['relayMode'],'enableSocks':d['socks5']['enabled'],'parsedSocks5Address':d['socks5']['enabled']?socks5AddressParser(d['socks5']['address']):{},'scamalytics':d['scamalytics']},t=await ProtocolOverWSHandler(a,s,b,c),u=new Headers(t['headers']);return addSecurityHeaders(u,null,{}),new Response(t['body'],{'status':t['status'],'webSocket':t['webSocket'],'headers':u});}const j=async w=>{const x='user_path_rate:'+g;if(await checkRateLimit(b['DB'],x,CONST['USER_PATH_RATE_LIMIT'],CONST['USER_PATH_RATE_TTL'])){const A=new Headers();return addSecurityHeaders(A,null,{}),new Response('Rate\x20limit\x20exceeded',{'status':0x1ad,'headers':A});}const y=f['pathname']['substring'](('/'+w+'/')['length']);if(!isValidUUID(y)){const B=new Headers();return addSecurityHeaders(B,null,{}),new Response('Invalid\x20UUID',{'status':0x190,'headers':B});}const z=await getUserData(b,y,c);if(!z){const C=new Headers();return addSecurityHeaders(C,null,{}),new Response('Authentication\x20failed',{'status':0x193,'headers':C});}if(isExpired(z['expiration_date'],z['expiration_time'])){const D=new Headers();return addSecurityHeaders(D,null,{}),new Response('Authentication\x20failed',{'status':0x193,'headers':D});}if(z['traffic_limit']&&z['traffic_limit']>0x0&&(z['traffic_used']||0x0)>=z['traffic_limit']){const E=new Headers();return addSecurityHeaders(E,null,{}),new Response('Authentication\x20failed',{'status':0x193,'headers':E});}return await handleIpSubscription(w,y,f['hostname']);};if(f['pathname']['startsWith']('/xray/'))return await j('xray');if(f['pathname']['startsWith']('/sb/'))return await j('sb');const k=f['pathname']['slice'](0x1);if(isValidUUID(k)){const w='user_path_rate:'+g;if(await checkRateLimit(b['DB'],w,CONST['USER_PATH_RATE_LIMIT'],CONST['USER_PATH_RATE_TTL'])){const y=new Headers();return addSecurityHeaders(y,null,{}),new Response('Rate\x20limit\x20exceeded',{'status':0x1ad,'headers':y});}const x=await getUserData(b,k,c);if(!x){const z=new Headers();return addSecurityHeaders(z,null,{}),new Response('Authentication\x20failed',{'status':0x193,'headers':z});}return handleUserPanel(k,f['hostname'],d['proxyAddress'],x);}if(b['ROOT_PROXY_URL'])try{let A;try{A=new URL(b['ROOT_PROXY_URL']);}catch(F){console['error']('Invalid\x20ROOT_PROXY_URL:\x20'+b['ROOT_PROXY_URL'],F);const G=new Headers();return addSecurityHeaders(G,null,{}),new Response('Proxy\x20configuration\x20error:\x20Invalid\x20URL\x20format',{'status':0x1f4,'headers':G});}const B=new URL(a['url']);B['hostname']=A['hostname'],B['protocol']=A['protocol'];A['port']&&(B['port']=A['port']);const C=new Request(B['toString'](),{'method':a['method'],'headers':a['headers'],'body':a['body'],'redirect':'manual'});C['headers']['set']('Host',A['hostname']),C['headers']['set']('X-Forwarded-For',g),C['headers']['set']('X-Forwarded-Proto',B['protocol']['replace'](':','')),C['headers']['set']('X-Real-IP',g);const D=await fetch(C),E=new Headers(D['headers']);return E['delete']('content-security-policy-report-only'),E['delete']('x-frame-options'),!E['has']('Content-Security-Policy')&&E['set']('Content-Security-Policy','default-src\x20\x27self\x27\x20\x27unsafe-inline\x27\x20\x27unsafe-eval\x27\x20data:\x20blob:\x20*;\x20frame-ancestors\x20\x27self\x27;'),!E['has']('X-Frame-Options')&&E['set']('X-Frame-Options','SAMEORIGIN'),!E['has']('Strict-Transport-Security')&&E['set']('Strict-Transport-Security','max-age=31536000;\x20includeSubDomains'),!E['has']('X-Content-Type-Options')&&E['set']('X-Content-Type-Options','nosniff'),!E['has']('Referrer-Policy')&&E['set']('Referrer-Policy','strict-origin-when-cross-origin'),E['set']('alt-svc','h3=\x22:443\x22;\x20ma=0'),new Response(D['body'],{'status':D['status'],'statusText':D['statusText'],'headers':E});}catch(H){console['error']('Reverse\x20Proxy\x20Error:\x20'+H['message'],H['stack']);const I=new Headers();return addSecurityHeaders(I,null,{}),new Response('Proxy\x20error:\x20'+H['message'],{'status':0x1f6,'headers':I});}const l=new Headers();return addSecurityHeaders(l,null,{}),new Response('Not\x20found',{'status':0x194,'headers':l});}};